(()=>{"use strict";class e{constructor(e,t,n){this.indexCount=e.accessors[t.indices].count;const i=e.bufferViews[e.accessors[t.indices].bufferView];function r(t,i){const r=e.bufferViews[e.accessors[t].bufferView];return new Float32Array(n,r.byteOffset+(e.accessors[t].byteOffset||0),e.accessors[t].count*i)}this.indices=new Uint16Array(n,i.byteOffset,i.byteLength/Uint16Array.BYTES_PER_ELEMENT),this.positions=r(t.attributes.POSITION,3),this.normals=r(t.attributes.NORMAL,3),t.attributes.TEXCOORD_0&&(this.uvs=r(t.attributes.TEXCOORD_0,2)),this.material=t.material}}var t=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class n{constructor(e,t,n){this.scenes=e.scenes,this.scene=e.scene,this.nodes=e.nodes,this.cameras=e.cameras,this.meshes=t,this.materials=e.materials,this.images=n}}var i=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array;function s(){var e=new r(16);return r!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function o(e,t,n){var i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],c=t[5],u=t[6],h=t[7],l=t[8],d=t[9],m=t[10],f=t[11],p=t[12],v=t[13],g=t[14],x=t[15],w=n[0],y=n[1],b=n[2],P=n[3];return e[0]=w*i+y*a+b*l+P*p,e[1]=w*r+y*c+b*d+P*v,e[2]=w*s+y*u+b*m+P*g,e[3]=w*o+y*h+b*f+P*x,w=n[4],y=n[5],b=n[6],P=n[7],e[4]=w*i+y*a+b*l+P*p,e[5]=w*r+y*c+b*d+P*v,e[6]=w*s+y*u+b*m+P*g,e[7]=w*o+y*h+b*f+P*x,w=n[8],y=n[9],b=n[10],P=n[11],e[8]=w*i+y*a+b*l+P*p,e[9]=w*r+y*c+b*d+P*v,e[10]=w*s+y*u+b*m+P*g,e[11]=w*o+y*h+b*f+P*x,w=n[12],y=n[13],b=n[14],P=n[15],e[12]=w*i+y*a+b*l+P*p,e[13]=w*r+y*c+b*d+P*v,e[14]=w*s+y*u+b*m+P*g,e[15]=w*o+y*h+b*f+P*x,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var a=o;function c(e=!0){return`\n\n  [[block]] struct Mat4\n  {\n      model: mat4x4<f32>;\n      modelInvTr: mat4x4<f32>;\n      projView: mat4x4<f32>;\n  };\n  [[group(0), binding(0)]] var<uniform> mat4: Mat4;\n\n  struct VertOut\n  {\n      [[builtin(position)]] Position: vec4<f32>;\n      [[location(0)]] normal: vec3<f32>;\n      [[location(1)]] worldPos: vec3<f32>;\n      ${e?"[[location(2)]] uv: vec2<f32>;":""}\n  };\n\n  [[stage(vertex)]]\n  fn main([[location(0)]] pos: vec3<f32>,\n          [[location(1)]] normal: vec3<f32>,\n          ${e?"[[location(2)]] uv: vec2<f32>":""}) -> VertOut\n  {\n      var v: VertOut;\n      v.Position = mat4.projView * mat4.model * vec4<f32>(pos, 1.0);\n      v.normal = normalize((mat4.modelInvTr * vec4<f32>(normal, 0.0)).xyz);\n      v.worldPos = (mat4.model * vec4<f32>(pos, 1.0)).xyz;\n      ${e?"v.uv = uv;":""}\n      return v;\n  }\n  `}function u(e,t=[1,1,1,1]){const n=t.map((e=>Number.isInteger(e)?`${e}.0`:e));return`\n\n  ${e?"\n  [[group(0), binding(1)]] var texSampler: sampler;\n  [[group(0), binding(2)]] var tex: texture_2d<f32>;\n  /* wgsl */ ":""}\n\n  [[stage(fragment)]]\n  fn main([[location(0)]] normal: vec3<f32>,\n          [[location(1)]] worldPos: vec3<f32>,\n          ${e?"[[location(2)]] uv: vec2<f32>":""}) -> [[location(0)]] vec4<f32>\n  {\n      var lightPos: vec3<f32> = vec3<f32>(0.0, 0.0, -3.0);\n      var color: vec4<f32> = vec4<f32>(${n[0]},\n                                       ${n[1]},\n                                       ${n[2]},\n                                       ${n[3]});\n      ${e?"color = color * textureSample(tex, texSampler, uv);":""}\n      var lambertian: f32 = dot(normal, normalize(worldPos - lightPos));\n      lambertian = clamp(lambertian * 0.67, 0.0, 1.0) + 0.33;\n      color = vec4<f32>(color.rgb * lambertian, color.a);\n      return color;\n  }\n  `}class h{constructor(e,t,n,i){this.meshes={},this.textures={},this.pipelines=e.materials.map((t=>{const{baseColorTexture:r}=t.pbrMetallicRoughness;return r&&!this.textures[r.index]&&(this.textures[r.index]=n.createTexture({size:[e.images[r.index].width,e.images[r.index].height,1],format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT}),n.queue.copyExternalImageToTexture({source:e.images[r.index]},{texture:this.textures[r.index]},[e.images[r.index].width,e.images[r.index].height])),function(e,t,n){const{baseColorFactor:i,baseColorTexture:r}=n.pbrMetallicRoughness,s=void 0!==r;function o(e,t){return{attributes:[{shaderLocation:e,offset:0,format:`float32x${t}`}],arrayStride:4*t}}const a=[o(0,3),o(1,3)];s&&a.push(o(2,2));const h=[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{}}];return s&&(h.push({binding:1,visibility:GPUShaderStage.FRAGMENT,sampler:{}}),h.push({binding:2,visibility:GPUShaderStage.FRAGMENT,texture:{}})),e.createRenderPipeline({layout:e.createPipelineLayout({bindGroupLayouts:[e.createBindGroupLayout({entries:h})]}),vertex:{module:e.createShaderModule({code:c(s)}),entryPoint:"main",buffers:a},fragment:{module:e.createShaderModule({code:u(s,i)}),entryPoint:"main",targets:[{format:t}]},primitive:{topology:"triangle-list",cullMode:"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}})}(n,i,t)}));const a=(e,t=!1)=>{const i=n.createBuffer({size:e.byteLength+3&-4,usage:t?GPUBufferUsage.INDEX:GPUBufferUsage.VERTEX,mappedAtCreation:!0});return(e instanceof Uint16Array?new Uint16Array(i.getMappedRange()):new Float32Array(i.getMappedRange())).set(e),i.unmap(),i},h=(t,i=s())=>{var c;const u=(l=i,(d=new r(16))[0]=l[0],d[1]=l[1],d[2]=l[2],d[3]=l[3],d[4]=l[4],d[5]=l[5],d[6]=l[6],d[7]=l[7],d[8]=l[8],d[9]=l[9],d[10]=l[10],d[11]=l[11],d[12]=l[12],d[13]=l[13],d[14]=l[14],d[15]=l[15],d);var l,d;if(t.matrix?o(u,u,t.matrix):(t.translation&&o(u,u,t.translation),t.rotation&&o(u,u,t.rotation),t.scale&&o(u,u,t.scale)),void 0!==t.mesh){const i=s();if(function(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],c=t[6],u=t[7],h=t[8],l=t[9],d=t[10],m=t[11],f=t[12],p=t[13],v=t[14],g=t[15],x=n*a-i*o,w=n*c-r*o,y=n*u-s*o,b=i*c-r*a,P=i*u-s*a,M=r*u-s*c,T=h*p-l*f,E=h*v-d*f,R=h*g-m*f,A=l*v-d*p,U=l*g-m*p,G=d*g-m*v,I=x*G-w*U+y*A+b*R-P*E+M*T;I&&(I=1/I,e[0]=(a*G-c*U+u*A)*I,e[1]=(r*U-i*G-s*A)*I,e[2]=(p*M-v*P+g*b)*I,e[3]=(d*P-l*M-m*b)*I,e[4]=(c*R-o*G-u*E)*I,e[5]=(n*G-r*R+s*E)*I,e[6]=(v*y-f*M-g*w)*I,e[7]=(h*M-d*y+m*w)*I,e[8]=(o*U-a*R+u*T)*I,e[9]=(i*R-n*U-s*T)*I,e[10]=(f*P-p*y+g*x)*I,e[11]=(l*y-h*P-m*x)*I,e[12]=(a*E-o*A-c*T)*I,e[13]=(n*A-i*E+r*T)*I,e[14]=(p*w-f*b-v*x)*I,e[15]=(h*b-l*w+d*x)*I)}(i,u),function(e,t){if(e===t){var n=t[1],i=t[2],r=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=s,e[11]=t[14],e[12]=r,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(i,i),this.meshes[t.mesh])this.meshes[t.mesh].matrices.push(u),this.meshes[t.mesh].modelInvTrs.push(i);else{const r=n.createBuffer({size:192,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});this.meshes[t.mesh]={matrices:[u],modelInvTrs:[i],matrixBuffer:r,primitives:e.meshes[t.mesh].map((t=>{const{baseColorTexture:i}=e.materials[t.material].pbrMetallicRoughness,s=[{binding:0,resource:{buffer:r}}];i&&(s.push({binding:1,resource:n.createSampler({addressModeU:"repeat",addressModeV:"repeat",magFilter:"linear",minFilter:"linear"})}),s.push({binding:2,resource:this.textures[i.index].createView()}));const o=t.material;return{indexCount:t.indexCount,positions:a(t.positions),normals:a(t.normals),indices:a(t.indices,!0),uvs:t.uvs?a(t.uvs):null,pipeline:o,uniformBindGroup:n.createBindGroup({layout:this.pipelines[o].getBindGroupLayout(0),entries:s})}}))}}}null===(c=t.children)||void 0===c||c.forEach((t=>h(e.nodes[t],u)))};e.scenes[t].nodes.forEach((t=>{h(e.nodes[t])}))}destroy(){Object.entries(this.meshes).forEach((([,e])=>{e.matrixBuffer.destroy(),e.primitives.forEach((e=>{var t;e.indices.destroy(),e.positions.destroy(),e.normals.destroy(),null===(t=e.uvs)||void 0===t||t.destroy()}))})),Object.entries(this.textures).forEach((([,e])=>e.destroy()))}}function l(){var e=new r(3);return r!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function d(e,t,n){var i=new r(3);return i[0]=e,i[1]=t,i[2]=n,i}l();const m=l(),f=d(0,1,0);function p(e,t,n){return Math.min(Math.max(e,t),n)}class v{constructor(e){this.radius=3,this.theta=0,this.phi=0,this.proj=s(),this.view=s(),this.projView=s(),this.canvas=e;const t=e.clientWidth/e.clientHeight;(function(e,t,n,i,r){var s,o=1/Math.tan(t/2);e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(s=1/(i-r),e[10]=(r+i)*s,e[14]=2*r*i*s):(e[10]=-1,e[14]=-2*i)})(this.proj,Math.PI/2,t,.1,1/0),this.update(),window.addEventListener("resize",(()=>{this.proj[0]=1/(Math.tan(Math.PI/4)*(e.clientWidth/e.clientHeight)),a(this.projView,this.proj,this.view)}));let n=!1;this.canvas.onmousedown=()=>{n=!0},this.canvas.onmouseup=()=>{n=!1},this.canvas.onmousemove=e=>{n&&(this.theta-=e.movementX/window.innerWidth*Math.PI*2,this.phi=p(this.phi-e.movementY/window.innerHeight*Math.PI,-Math.PI/2+.1,Math.PI/2-.1),this.update())},this.canvas.onwheel=e=>{this.radius=p(this.radius+.002*e.deltaY,.1,1/0),this.update()}}update(){const e=d(0,0,this.radius);var t,n,r,s,o,c;t=e,n=e,r=m,s=this.phi,c=[],(o=[])[0]=n[0]-r[0],o[1]=n[1]-r[1],o[2]=n[2]-r[2],c[0]=o[0],c[1]=o[1]*Math.cos(s)-o[2]*Math.sin(s),c[2]=o[1]*Math.sin(s)+o[2]*Math.cos(s),t[0]=c[0]+r[0],t[1]=c[1]+r[1],t[2]=c[2]+r[2],function(e,t,n,i){var r=[],s=[];r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],s[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),s[1]=r[1],s[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2]}(e,e,m,this.theta),function(e,t,n,r){var s,o,a,c,u,h,l,d,m,f,p=t[0],v=t[1],g=t[2],x=r[0],w=r[1],y=r[2],b=n[0],P=n[1],M=n[2];Math.abs(p-b)<i&&Math.abs(v-P)<i&&Math.abs(g-M)<i?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(l=p-b,d=v-P,m=g-M,s=w*(m*=f=1/Math.hypot(l,d,m))-y*(d*=f),o=y*(l*=f)-x*m,a=x*d-w*l,(f=Math.hypot(s,o,a))?(s*=f=1/f,o*=f,a*=f):(s=0,o=0,a=0),c=d*a-m*o,u=m*s-l*a,h=l*o-d*s,(f=Math.hypot(c,u,h))?(c*=f=1/f,u*=f,h*=f):(c=0,u=0,h=0),e[0]=s,e[1]=c,e[2]=l,e[3]=0,e[4]=o,e[5]=u,e[6]=d,e[7]=0,e[8]=a,e[9]=h,e[10]=m,e[11]=0,e[12]=-(s*p+o*v+a*g),e[13]=-(c*p+u*v+h*g),e[14]=-(l*p+d*v+m*g),e[15]=1)}(this.view,e,m,f),a(this.projView,this.proj,this.view)}}var g=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class x{constructor(e,t,n,i){this.canvas=e,this.device=t,this.context=n,this.contextFormat=i,this.depthTexture=t.createTexture({size:[e.clientWidth*devicePixelRatio,e.clientHeight*devicePixelRatio],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),this.renderPassDesc={colorAttachments:[],depthStencilAttachment:{view:this.depthTexture.createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}},window.addEventListener("resize",(()=>{const r=[e.clientWidth*devicePixelRatio,e.clientHeight*devicePixelRatio];n.configure({device:t,format:i,size:r}),this.depthTexture.destroy(),this.depthTexture=t.createTexture({size:r,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),this.renderPassDesc.depthStencilAttachment.view=this.depthTexture.createView()})),this.camera=new v(e)}render(){const e=()=>{const t=this.device.createCommandEncoder();this.renderPassDesc.colorAttachments=[{view:this.context.getCurrentTexture().createView(),loadValue:{r:.3,g:.5,b:.7,a:1},storeOp:"store"}];const n=t.beginRenderPass(this.renderPassDesc);Object.entries(this.resource.meshes).forEach((([,e])=>{const t=(t,n)=>{this.device.queue.writeBuffer(e.matrixBuffer,4*n*4*4,t.buffer,t.byteOffset,t.byteLength)};t(e.matrices[0],0),t(e.modelInvTrs[0],1),t(this.camera.projView,2),e.primitives.forEach((e=>{n.setPipeline(this.resource.pipelines[e.pipeline]),n.setVertexBuffer(0,e.positions),n.setVertexBuffer(1,e.normals),e.uvs&&n.setVertexBuffer(2,e.uvs),n.setIndexBuffer(e.indices,"uint16"),n.setBindGroup(0,e.uniformBindGroup),n.drawIndexed(e.indexCount)}))})),n.endPass(),this.device.queue.submit([t.finish()]),requestAnimationFrame(e)};requestAnimationFrame(e)}load(i){var r;return g(this,void 0,void 0,(function*(){this.gltf=yield function(i){return t(this,void 0,void 0,(function*(){const r=i.substring(0,i.lastIndexOf("/")),s=yield function(e){return new Promise((t=>{const n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET",e),n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&t(JSON.parse(n.responseText))},n.send(null)}))}(i);let o;const a=Promise.all(s.buffers.map((e=>function(e){return new Promise((t=>{const n=new XMLHttpRequest;n.responseType="arraybuffer",n.open("GET",e),n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&t(n.response)},n.send(null)}))}(`${r}/${e.uri}`)))).then((t=>{o=function(t,n){return t.meshes.map((i=>i.primitives.map((i=>new e(t,i,n)))))}(s,t[0])})),c=[];let u=Promise.resolve();return s.images&&(u=Promise.all(s.images.map(((e,n)=>function(e){return t(this,void 0,void 0,(function*(){const t=new Image;return t.crossOrigin="Anonymous",t.src=e,yield t.decode(),createImageBitmap(t)}))}(`${r}/${e.uri}`).then((e=>{c[n]=e})))))),Promise.all([a,u]).then((()=>new n(s,o,c)))}))}(i),null===(r=this.resource)||void 0===r||r.destroy(),this.resource=new h(this.gltf,this.gltf.scene,this.device,this.contextFormat),this.render()}))}}const w=document.getElementById("webgpu-canvas"),y=document.getElementById("model-select");let b;y.onchange=()=>b.load(y.value),fetch("https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/model-index.json").then((e=>e.json())).then((e=>{e.forEach((e=>{return t=void 0,n=void 0,r=function*(){const t=document.createElement("option");t.innerHTML=e.name,t.value=`https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/${e.name}/glTF/${e.name}.gltf`,y.add(t),"Duck"===e.name&&(y.value=t.value,b=yield function(e){return g(this,void 0,void 0,(function*(){const t=navigator.gpu;if(!t)throw new Error("WebGPU is not supported on this browser.");const n=yield t.requestAdapter(),i=yield n.requestDevice(),r=e.getContext("webgpu"),s=r.getPreferredFormat(n);return r.configure({device:i,format:s,size:[e.clientWidth*devicePixelRatio,e.clientHeight*devicePixelRatio]}),new x(e,i,r,s)}))}(w),b.load(y.value))},new((i=void 0)||(i=Promise))((function(e,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,a)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZUFBZSxnQkFDdkMsSUFBSUMsRUFDSixFQUFPQyxTQUFXLElBQU1ELEVBQVN2QyxLQUFLLEVBQU95QyxPQUM3Q0MsTUFDRSxpR0FFQ2pCLE1BQU1ILEdBQWFBLEVBQVM5VCxTQUM1QmlVLE1BQU1rQixJQUNMQSxFQUFXckosU0FBZXNKLElBQWUsTyxPQUFBLEUsT0FBQSxFLEVBQUEsWUFDdkMsTUFBTUMsRUFBU1IsU0FBU1MsY0FBYyxVQUN0Q0QsRUFBT0UsVUFBWUgsRUFBTUksS0FDekJILEVBQU9KLE1BQVEsZ0ZBQWdGRyxFQUFNSSxhQUFhSixFQUFNSSxZQUN4SCxFQUFPQyxJQUFJSixHQUNRLFNBQWZELEVBQU1JLE9BQ1IsRUFBT1AsTUFBUUksRUFBT0osTUFDdEJGLFFEbUhELFNBQThCbEksRyx5Q0FDbkMsTUFBTTZJLEVBQVFDLFVBQVVDLElBQ3hCLElBQUtGLEVBQU8sTUFBTSxJQUFJRyxNQUFNLDRDQUM1QixNQUFNQyxRQUFnQkosRUFBTUssaUJBQ3RCMVEsUUFBZXlRLEVBQVNFLGdCQUN4QnhGLEVBQVUzRCxFQUFPb0osV0FBVyxVQUM1QmpRLEVBQVN3SyxFQUFTMEYsbUJBQW1CSixHQVMzQyxPQVJBdEYsRUFBU1UsVUFBVSxDQUNqQjdMLE9BQUFBLEVBQ0FXLE9BQUFBLEVBQ0FILEtBQU0sQ0FDSmdILEVBQU9RLFlBQWNxRCxpQkFDckI3RCxFQUFPUyxhQUFlb0Qsb0JBR25CLElBQUlILEVBQVMxRCxFQUFReEgsRUFBUW1MLEVBQVV4SyxNQ2xJdkJtUSxDQUFldEosR0FDaENrSSxFQUFTdkMsS0FBSyxFQUFPeUMsUyxZQVJnQixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vc3JjL2xvYWRlci9tZXNoLnRzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9sb2FkZXIvZ2x0Zi50cyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9zcmMvc2hhZGVycy9zdGFuZGFyZC52ZXJ0Lndnc2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vc3JjL3NoYWRlcnMvc3RhbmRhcmQuZnJhZy53Z3NsLnRzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9yZW5kZXJlci9yZXNvdXJjZS50cyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9zcmMvcmVuZGVyZXIvcGlwZWxpbmUudHMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjMy5qcyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9zcmMvcmVuZGVyZXIvY2FtZXJhLnRzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9yZW5kZXJlci9yZW5kZXJlci50cyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUHJpbWl0aXZlIHtcbiAgaW5kZXhDb3VudDogbnVtYmVyO1xuXG4gIGluZGljZXM6IFVpbnQxNkFycmF5O1xuXG4gIHBvc2l0aW9uczogRmxvYXQzMkFycmF5O1xuXG4gIG5vcm1hbHM6IEZsb2F0MzJBcnJheTtcblxuICB1dnM/OiBGbG9hdDMyQXJyYXk7XG5cbiAgbWF0ZXJpYWw6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihqc29uOiBhbnksIHByaW1pdGl2ZTogYW55LCBidWZmZXI6IEFycmF5QnVmZmVyKSB7XG4gICAgdGhpcy5pbmRleENvdW50ID0ganNvbi5hY2Nlc3NvcnNbcHJpbWl0aXZlLmluZGljZXNdLmNvdW50O1xuICAgIGNvbnN0IGluZGV4QnVmZmVyVmlldyA9XG4gICAgICBqc29uLmJ1ZmZlclZpZXdzW2pzb24uYWNjZXNzb3JzW3ByaW1pdGl2ZS5pbmRpY2VzXS5idWZmZXJWaWV3XTtcbiAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoXG4gICAgICBidWZmZXIsXG4gICAgICBpbmRleEJ1ZmZlclZpZXcuYnl0ZU9mZnNldCxcbiAgICAgIGluZGV4QnVmZmVyVmlldy5ieXRlTGVuZ3RoIC8gVWludDE2QXJyYXkuQllURVNfUEVSX0VMRU1FTlRcbiAgICApO1xuXG4gICAgZnVuY3Rpb24gZ2V0QXJyYXkoaWR4OiBudW1iZXIsIG46IG51bWJlcikge1xuICAgICAgY29uc3QgYnVmZmVyVmlldyA9IGpzb24uYnVmZmVyVmlld3NbanNvbi5hY2Nlc3NvcnNbaWR4XS5idWZmZXJWaWV3XTtcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFxuICAgICAgICBidWZmZXIsXG4gICAgICAgIGJ1ZmZlclZpZXcuYnl0ZU9mZnNldCArIChqc29uLmFjY2Vzc29yc1tpZHhdLmJ5dGVPZmZzZXQgfHwgMCksXG4gICAgICAgIGpzb24uYWNjZXNzb3JzW2lkeF0uY291bnQgKiBuXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnBvc2l0aW9ucyA9IGdldEFycmF5KHByaW1pdGl2ZS5hdHRyaWJ1dGVzLlBPU0lUSU9OLCAzKTtcbiAgICB0aGlzLm5vcm1hbHMgPSBnZXRBcnJheShwcmltaXRpdmUuYXR0cmlidXRlcy5OT1JNQUwsIDMpO1xuICAgIGlmIChwcmltaXRpdmUuYXR0cmlidXRlcy5URVhDT09SRF8wKSB7XG4gICAgICB0aGlzLnV2cyA9IGdldEFycmF5KHByaW1pdGl2ZS5hdHRyaWJ1dGVzLlRFWENPT1JEXzAsIDIpO1xuICAgIH1cblxuICAgIHRoaXMubWF0ZXJpYWwgPSBwcmltaXRpdmUubWF0ZXJpYWw7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgTWVzaCA9IEFycmF5PFByaW1pdGl2ZT47XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTWVzaGVzKGpzb246IGFueSwgYnVmZmVyOiBBcnJheUJ1ZmZlcikge1xuICByZXR1cm4ganNvbi5tZXNoZXMubWFwKChtZXNoOiBhbnkpID0+XG4gICAgbWVzaC5wcmltaXRpdmVzLm1hcChcbiAgICAgIChwcmltaXRpdmU6IGFueSkgPT4gbmV3IFByaW1pdGl2ZShqc29uLCBwcmltaXRpdmUsIGJ1ZmZlcilcbiAgICApXG4gICk7XG59XG4iLCJpbXBvcnQgeyBNZXNoLCBsb2FkTWVzaGVzIH0gZnJvbSAnLi9tZXNoJztcblxuZnVuY3Rpb24gbG9hZEpzb24odXJsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPGFueT4oKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCB4b2JqID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeG9iai5vdmVycmlkZU1pbWVUeXBlKCdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgeG9iai5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIHhvYmoub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYgKHhvYmoucmVhZHlTdGF0ZSA9PT0gNCAmJiB4b2JqLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZSh4b2JqLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgfVxuICAgIH07XG4gICAgeG9iai5zZW5kKG51bGwpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEJ1ZmZlcih1cmw6IHN0cmluZykge1xuICByZXR1cm4gbmV3IFByb21pc2U8QXJyYXlCdWZmZXI+KChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgeG9iaiA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhvYmoucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICB4b2JqLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgeG9iai5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoeG9iai5yZWFkeVN0YXRlID09PSA0ICYmIHhvYmouc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgcmVzb2x2ZSh4b2JqLnJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHhvYmouc2VuZChudWxsKTtcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZSh1cmw6IHN0cmluZykge1xuICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICBpbWFnZS5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnO1xuICBpbWFnZS5zcmMgPSB1cmw7XG4gIGF3YWl0IGltYWdlLmRlY29kZSgpO1xuICByZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoaW1hZ2UpO1xufVxuXG5leHBvcnQgY2xhc3MgR0xURiB7XG4gIHNjZW5lczogQXJyYXk8YW55PjtcblxuICBzY2VuZTogbnVtYmVyO1xuXG4gIG5vZGVzOiBBcnJheTxhbnk+O1xuXG4gIGNhbWVyYXM/OiBBcnJheTxhbnk+O1xuXG4gIG1lc2hlczogQXJyYXk8TWVzaD47XG5cbiAgbWF0ZXJpYWxzOiBBcnJheTxhbnk+O1xuXG4gIGltYWdlczogQXJyYXk8SW1hZ2VCaXRtYXA+O1xuXG4gIGNvbnN0cnVjdG9yKGpzb246IGFueSwgbWVzaGVzOiBBcnJheTxNZXNoPiwgaW1hZ2VzOiBBcnJheTxJbWFnZUJpdG1hcD4pIHtcbiAgICB0aGlzLnNjZW5lcyA9IGpzb24uc2NlbmVzO1xuICAgIHRoaXMuc2NlbmUgPSBqc29uLnNjZW5lO1xuICAgIHRoaXMubm9kZXMgPSBqc29uLm5vZGVzO1xuICAgIHRoaXMuY2FtZXJhcyA9IGpzb24uY2FtZXJhcztcbiAgICB0aGlzLm1lc2hlcyA9IG1lc2hlcztcbiAgICB0aGlzLm1hdGVyaWFscyA9IGpzb24ubWF0ZXJpYWxzO1xuICAgIHRoaXMuaW1hZ2VzID0gaW1hZ2VzO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkR0xURih1cmw6IHN0cmluZykge1xuICBjb25zdCBkaXIgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpKTtcbiAgY29uc3QganNvbiA9IGF3YWl0IGxvYWRKc29uKHVybCk7XG5cbiAgbGV0IG1lc2hlczogQXJyYXk8TWVzaD47XG4gIGNvbnN0IG1lc2hlc0xvYWRlZCA9IFByb21pc2UuYWxsKFxuICAgIGpzb24uYnVmZmVycy5tYXAoKGJ1ZmZlcjogYW55KSA9PlxuICAgICAgbG9hZEJ1ZmZlcihgJHtkaXJ9LyR7YnVmZmVyLnVyaX1gKVxuICAgICkgYXMgQXJyYXk8UHJvbWlzZTxBcnJheUJ1ZmZlcj4+XG4gICkudGhlbigoYnVmZmVycykgPT4ge1xuICAgIG1lc2hlcyA9IGxvYWRNZXNoZXMoanNvbiwgYnVmZmVyc1swXSk7XG4gIH0pO1xuXG4gIGNvbnN0IGltYWdlczogQXJyYXk8SW1hZ2VCaXRtYXA+ID0gW107XG4gIGxldCBpbWFnZXNMb2FkZWQ6IFByb21pc2U8YW55PiA9IFByb21pc2UucmVzb2x2ZSgpO1xuICBpZiAoanNvbi5pbWFnZXMpIHtcbiAgICBpbWFnZXNMb2FkZWQgPSBQcm9taXNlLmFsbChcbiAgICAgIGpzb24uaW1hZ2VzLm1hcCgoaW1hZ2U6IGFueSwgaW5kZXg6IG51bWJlcikgPT5cbiAgICAgICAgbG9hZEltYWdlKGAke2Rpcn0vJHtpbWFnZS51cml9YCkudGhlbigoYml0TWFwKSA9PiB7XG4gICAgICAgICAgaW1hZ2VzW2luZGV4XSA9IGJpdE1hcDtcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFttZXNoZXNMb2FkZWQsIGltYWdlc0xvYWRlZF0pLnRoZW4oXG4gICAgKCkgPT4gbmV3IEdMVEYoanNvbiwgbWVzaGVzLCBpbWFnZXMpXG4gICk7XG59XG4iLCIvKipcbiAqIENvbW1vbiB1dGlsaXRpZXNcbiAqIEBtb2R1bGUgZ2xNYXRyaXhcbiAqL1xuLy8gQ29uZmlndXJhdGlvbiBDb25zdGFudHNcbmV4cG9ydCB2YXIgRVBTSUxPTiA9IDAuMDAwMDAxO1xuZXhwb3J0IHZhciBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcbmV4cG9ydCB2YXIgUkFORE9NID0gTWF0aC5yYW5kb207XG4vKipcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfCBBcnJheUNvbnN0cnVjdG9yfSB0eXBlIEFycmF5IHR5cGUsIHN1Y2ggYXMgRmxvYXQzMkFycmF5IG9yIEFycmF5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcbiAqIENvbnZlcnQgRGVncmVlIFRvIFJhZGlhblxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xuICByZXR1cm4gYSAqIGRlZ3JlZTtcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciBvciBub3QgdGhlIGFyZ3VtZW50cyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgdmFsdWUsIHdpdGhpbiBhbiBhYnNvbHV0ZVxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xuICogdGhhbiBvciBlcXVhbCB0byAxLjAsIGFuZCBhIHJlbGF0aXZlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciBsYXJnZXIgdmFsdWVzKVxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbnVtYmVycyBhcmUgYXBwcm94aW1hdGVseSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cbiAqIEBtb2R1bGUgbWF0NFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XG4gKlxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICAgIG91dFs0XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDA7XG4gICAgb3V0WzldID0gMDtcbiAgICBvdXRbMTFdID0gMDtcbiAgICBvdXRbMTJdID0gMDtcbiAgICBvdXRbMTNdID0gMDtcbiAgICBvdXRbMTRdID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQ0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IEEgbmV3IG1hdDRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGEwMyA9IGFbM107XG4gICAgdmFyIGExMiA9IGFbNl0sXG4gICAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xuICBvdXRbMV0gPSAtKGEwMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSk7XG4gIG91dFsyXSA9IGEwMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTExICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbNF0gPSAtKGExMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSk7XG4gIG91dFs1XSA9IGEwMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKTtcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbN10gPSBhMDAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFs4XSA9IGExMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKTtcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xuICBvdXRbMTBdID0gYTAwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpO1xuICBvdXRbMTFdID0gLShhMDAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSkpO1xuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xuICBvdXRbMTNdID0gYTAwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpO1xuICBvdXRbMTRdID0gLShhMDAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSkpO1xuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07IC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuXG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbNF07XG4gIGIxID0gYls1XTtcbiAgYjIgPSBiWzZdO1xuICBiMyA9IGJbN107XG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbOF07XG4gIGIxID0gYls5XTtcbiAgYjIgPSBiWzEwXTtcbiAgYjMgPSBiWzExXTtcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzEyXTtcbiAgYjEgPSBiWzEzXTtcbiAgYjIgPSBiWzE0XTtcbiAgYjMgPSBiWzE1XTtcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuXG4gIGlmIChhID09PSBvdXQpIHtcbiAgICBvdXRbMTJdID0gYVswXSAqIHggKyBhWzRdICogeSArIGFbOF0gKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMV0gKiB4ICsgYVs1XSAqIHkgKyBhWzldICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbM10gKiB4ICsgYVs3XSAqIHkgKyBhWzExXSAqIHogKyBhWzE1XTtcbiAgfSBlbHNlIHtcbiAgICBhMDAgPSBhWzBdO1xuICAgIGEwMSA9IGFbMV07XG4gICAgYTAyID0gYVsyXTtcbiAgICBhMDMgPSBhWzNdO1xuICAgIGExMCA9IGFbNF07XG4gICAgYTExID0gYVs1XTtcbiAgICBhMTIgPSBhWzZdO1xuICAgIGExMyA9IGFbN107XG4gICAgYTIwID0gYVs4XTtcbiAgICBhMjEgPSBhWzldO1xuICAgIGEyMiA9IGFbMTBdO1xuICAgIGEyMyA9IGFbMTFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGEwMztcbiAgICBvdXRbNF0gPSBhMTA7XG4gICAgb3V0WzVdID0gYTExO1xuICAgIG91dFs2XSA9IGExMjtcbiAgICBvdXRbN10gPSBhMTM7XG4gICAgb3V0WzhdID0gYTIwO1xuICAgIG91dFs5XSA9IGEyMTtcbiAgICBvdXRbMTBdID0gYTIyO1xuICAgIG91dFsxMV0gPSBhMjM7XG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhMDEgKiB4ICsgYTExICogeSArIGEyMSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYTAyICogeCArIGExMiAqIHkgKyBhMjIgKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgICAgeSA9IGF4aXNbMV0sXG4gICAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XG4gIHZhciBzLCBjLCB0O1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICB2YXIgYjAwLCBiMDEsIGIwMjtcbiAgdmFyIGIxMCwgYjExLCBiMTI7XG4gIHZhciBiMjAsIGIyMSwgYjIyO1xuXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYztcbiAgYTAwID0gYVswXTtcbiAgYTAxID0gYVsxXTtcbiAgYTAyID0gYVsyXTtcbiAgYTAzID0gYVszXTtcbiAgYTEwID0gYVs0XTtcbiAgYTExID0gYVs1XTtcbiAgYTEyID0gYVs2XTtcbiAgYTEzID0gYVs3XTtcbiAgYTIwID0gYVs4XTtcbiAgYTIxID0gYVs5XTtcbiAgYTIyID0gYVsxMF07XG4gIGEyMyA9IGFbMTFdOyAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3RhdGlvbiBtYXRyaXhcblxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBiMjIgPSB6ICogeiAqIHQgKyBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbNl07XG4gICAgb3V0WzddID0gYVs3XTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICBvdXRbOV0gPSBhWzldO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxMV07XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgKyBhMTAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjICsgYTExICogcztcbiAgb3V0WzJdID0gYTAyICogYyArIGExMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgKyBhMTMgKiBzO1xuICBvdXRbNF0gPSBhMTAgKiBjIC0gYTAwICogcztcbiAgb3V0WzVdID0gYTExICogYyAtIGEwMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgLSBhMDIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjIC0gYTAzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IHZbMV07XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSB2WzJdO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IC1zO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHM7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHYpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtICh5eSArIHp6KTtcbiAgb3V0WzFdID0geHkgKyB3ejtcbiAgb3V0WzJdID0geHogLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geHkgLSB3ejtcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcbiAgb3V0WzZdID0geXogKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geHogKyB3eTtcbiAgb3V0WzldID0geXogLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSAoeHggKyB5eSk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XG4gIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddO1xuICB2YXIgbWFnbml0dWRlID0gYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6ICsgYncgKiBidzsgLy9Pbmx5IHNjYWxlIGlmIGl0IG1ha2VzIHNlbnNlXG5cbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgfVxuXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgYSwgdHJhbnNsYXRpb24pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XG4gIG91dFswXSA9IG1hdFsxMl07XG4gIG91dFsxXSA9IG1hdFsxM107XG4gIG91dFsyXSA9IG1hdFsxNF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtdGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LCBtYXQpIHtcbiAgdmFyIG0xMSA9IG1hdFswXTtcbiAgdmFyIG0xMiA9IG1hdFsxXTtcbiAgdmFyIG0xMyA9IG1hdFsyXTtcbiAgdmFyIG0yMSA9IG1hdFs0XTtcbiAgdmFyIG0yMiA9IG1hdFs1XTtcbiAgdmFyIG0yMyA9IG1hdFs2XTtcbiAgdmFyIG0zMSA9IG1hdFs4XTtcbiAgdmFyIG0zMiA9IG1hdFs5XTtcbiAgdmFyIG0zMyA9IG1hdFsxMF07XG4gIG91dFswXSA9IE1hdGguaHlwb3QobTExLCBtMTIsIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XG4gIG91dFsyXSA9IE1hdGguaHlwb3QobTMxLCBtMzIsIG0zMyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb25hbCBjb21wb25lbnRcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxuICogIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICB2YXIgb3ggPSBvWzBdO1xuICB2YXIgb3kgPSBvWzFdO1xuICB2YXIgb3ogPSBvWzJdO1xuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICB2YXIgb3V0MSA9ICh4eSArIHd6KSAqIHN4O1xuICB2YXIgb3V0MiA9ICh4eiAtIHd5KSAqIHN4O1xuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xuICB2YXIgb3V0NSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICB2YXIgb3V0NiA9ICh5eiArIHd4KSAqIHN5O1xuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xuICB2YXIgb3V0OSA9ICh5eiAtIHd4KSAqIHN6O1xuICB2YXIgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzBdID0gb3V0MDtcbiAgb3V0WzFdID0gb3V0MTtcbiAgb3V0WzJdID0gb3V0MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gb3V0NDtcbiAgb3V0WzVdID0gb3V0NTtcbiAgb3V0WzZdID0gb3V0NjtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gb3V0ODtcbiAgb3V0WzldID0gb3V0OTtcbiAgb3V0WzEwXSA9IG91dDEwO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xuICBvdXRbMTNdID0gdlsxXSArIG95IC0gKG91dDEgKiBveCArIG91dDUgKiBveSArIG91dDkgKiBveik7XG4gIG91dFsxNF0gPSB2WzJdICsgb3ogLSAob3V0MiAqIG94ICsgb3V0NiAqIG95ICsgb3V0MTAgKiBveik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIHJsID0gMSAvIChyaWdodCAtIGxlZnQpO1xuICB2YXIgdGIgPSAxIC8gKHRvcCAtIGJvdHRvbSk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IG5lYXIgKiAyICogcmw7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XG4gIG91dFs5XSA9ICh0b3AgKyBib3R0b20pICogdGI7XG4gIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xuICBvdXRbMTVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgcGVyc3BlY3RpdmUgPSBwZXJzcGVjdGl2ZU5PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVaTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gZmFyICogbmY7XG4gICAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC1uZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgZ2VuZXJhdGluZyBwcm9qZWN0aW9uIG1hdHJpY2VzIHRvIGJlIHVzZWRcbiAqIHdpdGggdGhlIHN0aWxsIGV4cGVyaWVtZW50YWwgV2ViVlIgQVBJLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBmb3YgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyB2YWx1ZXM6IHVwRGVncmVlcywgZG93bkRlZ3JlZXMsIGxlZnREZWdyZWVzLCByaWdodERlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQub3J0aG9OT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gbmVhciAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXG4gKiBJZiB5b3Ugd2FudCBhIG1hdHJpeCB0aGF0IGFjdHVhbGx5IG1ha2VzIGFuIG9iamVjdCBsb29rIGF0IGFub3RoZXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHVzZSB0YXJnZXRUbyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xuICB2YXIgZXlleCA9IGV5ZVswXTtcbiAgdmFyIGV5ZXkgPSBleWVbMV07XG4gIHZhciBleWV6ID0gZXllWzJdO1xuICB2YXIgdXB4ID0gdXBbMF07XG4gIHZhciB1cHkgPSB1cFsxXTtcbiAgdmFyIHVweiA9IHVwWzJdO1xuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xuXG4gIGlmIChNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xuICB9XG5cbiAgejAgPSBleWV4IC0gY2VudGVyeDtcbiAgejEgPSBleWV5IC0gY2VudGVyeTtcbiAgejIgPSBleWV6IC0gY2VudGVyejtcbiAgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XG4gIHowICo9IGxlbjtcbiAgejEgKj0gbGVuO1xuICB6MiAqPSBsZW47XG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB4MCA9IDA7XG4gICAgeDEgPSAwO1xuICAgIHgyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh5MCwgeTEsIHkyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHkwID0gMDtcbiAgICB5MSA9IDA7XG4gICAgeTIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeTAgKj0gbGVuO1xuICAgIHkxICo9IGxlbjtcbiAgICB5MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geTA7XG4gIG91dFsyXSA9IHowO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4MTtcbiAgb3V0WzVdID0geTE7XG4gIG91dFs2XSA9IHoxO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4MjtcbiAgb3V0WzldID0geTI7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICAgIGV5ZXkgPSBleWVbMV0sXG4gICAgICBleWV6ID0gZXllWzJdLFxuICAgICAgdXB4ID0gdXBbMF0sXG4gICAgICB1cHkgPSB1cFsxXSxcbiAgICAgIHVweiA9IHVwWzJdO1xuICB2YXIgejAgPSBleWV4IC0gdGFyZ2V0WzBdLFxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHowICo9IGxlbjtcbiAgICB6MSAqPSBsZW47XG4gICAgejIgKj0gbGVuO1xuICB9XG5cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcbiAgICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0geDAgKiB4MCArIHgxICogeDEgKyB4MiAqIHgyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHgxO1xuICBvdXRbMl0gPSB4MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gejA7XG4gIG91dFs5XSA9IHoxO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gZXlleDtcbiAgb3V0WzEzXSA9IGV5ZXk7XG4gIG91dFsxNF0gPSBleWV6O1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSwgYVs5XSwgYVsxMF0sIGFbMTFdLCBhWzEyXSwgYVsxM10sIGFbMTRdLCBhWzE1XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQnc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICBvdXRbOF0gPSBhWzhdICogYjtcbiAgb3V0WzldID0gYVs5XSAqIGI7XG4gIG91dFsxMF0gPSBhWzEwXSAqIGI7XG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XG4gIG91dFsxMl0gPSBhWzEyXSAqIGI7XG4gIG91dFsxM10gPSBhWzEzXSAqIGI7XG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XG4gIG91dFsxNV0gPSBhWzE1XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBhOCA9IGFbOF0sXG4gICAgICBhOSA9IGFbOV0sXG4gICAgICBhMTAgPSBhWzEwXSxcbiAgICAgIGExMSA9IGFbMTFdO1xuICB2YXIgYTEyID0gYVsxMl0sXG4gICAgICBhMTMgPSBhWzEzXSxcbiAgICAgIGExNCA9IGFbMTRdLFxuICAgICAgYTE1ID0gYVsxNV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHZhciBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHZhciBiOCA9IGJbOF0sXG4gICAgICBiOSA9IGJbOV0sXG4gICAgICBiMTAgPSBiWzEwXSxcbiAgICAgIGIxMSA9IGJbMTFdO1xuICB2YXIgYjEyID0gYlsxMl0sXG4gICAgICBiMTMgPSBiWzEzXSxcbiAgICAgIGIxNCA9IGJbMTRdLFxuICAgICAgYjE1ID0gYlsxNV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdmVydChoYXNVVjogYm9vbGVhbiA9IHRydWUpIHtcbiAgcmV0dXJuIC8qIHdnc2wgKi8gYFxuXG4gIFtbYmxvY2tdXSBzdHJ1Y3QgTWF0NFxuICB7XG4gICAgICBtb2RlbDogbWF0NHg0PGYzMj47XG4gICAgICBtb2RlbEludlRyOiBtYXQ0eDQ8ZjMyPjtcbiAgICAgIHByb2pWaWV3OiBtYXQ0eDQ8ZjMyPjtcbiAgfTtcbiAgW1tncm91cCgwKSwgYmluZGluZygwKV1dIHZhcjx1bmlmb3JtPiBtYXQ0OiBNYXQ0O1xuXG4gIHN0cnVjdCBWZXJ0T3V0XG4gIHtcbiAgICAgIFtbYnVpbHRpbihwb3NpdGlvbildXSBQb3NpdGlvbjogdmVjNDxmMzI+O1xuICAgICAgW1tsb2NhdGlvbigwKV1dIG5vcm1hbDogdmVjMzxmMzI+O1xuICAgICAgW1tsb2NhdGlvbigxKV1dIHdvcmxkUG9zOiB2ZWMzPGYzMj47XG4gICAgICAke2hhc1VWID8gJ1tbbG9jYXRpb24oMildXSB1djogdmVjMjxmMzI+OycgOiAnJ31cbiAgfTtcblxuICBbW3N0YWdlKHZlcnRleCldXVxuICBmbiBtYWluKFtbbG9jYXRpb24oMCldXSBwb3M6IHZlYzM8ZjMyPixcbiAgICAgICAgICBbW2xvY2F0aW9uKDEpXV0gbm9ybWFsOiB2ZWMzPGYzMj4sXG4gICAgICAgICAgJHtoYXNVViA/ICdbW2xvY2F0aW9uKDIpXV0gdXY6IHZlYzI8ZjMyPicgOiAnJ30pIC0+IFZlcnRPdXRcbiAge1xuICAgICAgdmFyIHY6IFZlcnRPdXQ7XG4gICAgICB2LlBvc2l0aW9uID0gbWF0NC5wcm9qVmlldyAqIG1hdDQubW9kZWwgKiB2ZWM0PGYzMj4ocG9zLCAxLjApO1xuICAgICAgdi5ub3JtYWwgPSBub3JtYWxpemUoKG1hdDQubW9kZWxJbnZUciAqIHZlYzQ8ZjMyPihub3JtYWwsIDAuMCkpLnh5eik7XG4gICAgICB2LndvcmxkUG9zID0gKG1hdDQubW9kZWwgKiB2ZWM0PGYzMj4ocG9zLCAxLjApKS54eXo7XG4gICAgICAke2hhc1VWID8gJ3YudXYgPSB1djsnIDogJyd9XG4gICAgICByZXR1cm4gdjtcbiAgfVxuICBgO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZnJhZyhoYXNVVjogYm9vbGVhbiwgYmFzZUNvbG9yRmFjdG9yID0gWzEsIDEsIDEsIDFdKSB7XG4gIGNvbnN0IGJhc2VDb2xvciA9IGJhc2VDb2xvckZhY3Rvci5tYXAoKG51bSkgPT4ge1xuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKG51bSkpIHtcbiAgICAgIHJldHVybiBgJHtudW19LjBgO1xuICAgIH1cbiAgICByZXR1cm4gbnVtO1xuICB9KTtcblxuICByZXR1cm4gLyogd2dzbCAqLyBgXG5cbiAgJHtcbiAgICBoYXNVVlxuICAgICAgPyBgXG4gIFtbZ3JvdXAoMCksIGJpbmRpbmcoMSldXSB2YXIgdGV4U2FtcGxlcjogc2FtcGxlcjtcbiAgW1tncm91cCgwKSwgYmluZGluZygyKV1dIHZhciB0ZXg6IHRleHR1cmVfMmQ8ZjMyPjtcbiAgLyogd2dzbCAqLyBgXG4gICAgICA6ICcnXG4gIH1cblxuICBbW3N0YWdlKGZyYWdtZW50KV1dXG4gIGZuIG1haW4oW1tsb2NhdGlvbigwKV1dIG5vcm1hbDogdmVjMzxmMzI+LFxuICAgICAgICAgIFtbbG9jYXRpb24oMSldXSB3b3JsZFBvczogdmVjMzxmMzI+LFxuICAgICAgICAgICR7XG4gICAgICAgICAgICBoYXNVViA/ICdbW2xvY2F0aW9uKDIpXV0gdXY6IHZlYzI8ZjMyPicgOiAnJ1xuICAgICAgICAgIH0pIC0+IFtbbG9jYXRpb24oMCldXSB2ZWM0PGYzMj5cbiAge1xuICAgICAgdmFyIGxpZ2h0UG9zOiB2ZWMzPGYzMj4gPSB2ZWMzPGYzMj4oMC4wLCAwLjAsIC0zLjApO1xuICAgICAgdmFyIGNvbG9yOiB2ZWM0PGYzMj4gPSB2ZWM0PGYzMj4oJHtiYXNlQ29sb3JbMF19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtiYXNlQ29sb3JbMV19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtiYXNlQ29sb3JbMl19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtiYXNlQ29sb3JbM119KTtcbiAgICAgICR7aGFzVVYgPyAnY29sb3IgPSBjb2xvciAqIHRleHR1cmVTYW1wbGUodGV4LCB0ZXhTYW1wbGVyLCB1dik7JyA6ICcnfVxuICAgICAgdmFyIGxhbWJlcnRpYW46IGYzMiA9IGRvdChub3JtYWwsIG5vcm1hbGl6ZSh3b3JsZFBvcyAtIGxpZ2h0UG9zKSk7XG4gICAgICBsYW1iZXJ0aWFuID0gY2xhbXAobGFtYmVydGlhbiAqIDAuNjcsIDAuMCwgMS4wKSArIDAuMzM7XG4gICAgICBjb2xvciA9IHZlYzQ8ZjMyPihjb2xvci5yZ2IgKiBsYW1iZXJ0aWFuLCBjb2xvci5hKTtcbiAgICAgIHJldHVybiBjb2xvcjtcbiAgfVxuICBgO1xufVxuIiwiaW1wb3J0IHsgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBHTFRGIH0gZnJvbSAnLi4vbG9hZGVyL2dsdGYnO1xuaW1wb3J0IGNyZWF0ZVBpcGVsaW5lIGZyb20gJy4vcGlwZWxpbmUnO1xuXG50eXBlIFBlclByaW1pdGl2ZVJlc291cmNlID0ge1xuICBpbmRleENvdW50OiBudW1iZXI7XG4gIHBvc2l0aW9uczogR1BVQnVmZmVyO1xuICBub3JtYWxzOiBHUFVCdWZmZXI7XG4gIGluZGljZXM6IEdQVUJ1ZmZlcjtcbiAgdXZzOiBHUFVCdWZmZXIgfCBudWxsO1xuICBwaXBlbGluZTogbnVtYmVyO1xuICB1bmlmb3JtQmluZEdyb3VwOiBHUFVCaW5kR3JvdXA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvdXJjZSB7XG4gIG1lc2hlczoge1xuICAgIFtrZXk6IG51bWJlcl06IHtcbiAgICAgIG1hdHJpY2VzOiBBcnJheTxtYXQ0PjtcbiAgICAgIG1vZGVsSW52VHJzOiBBcnJheTxtYXQ0PjtcbiAgICAgIG1hdHJpeEJ1ZmZlcjogR1BVQnVmZmVyO1xuICAgICAgcHJpbWl0aXZlczogQXJyYXk8UGVyUHJpbWl0aXZlUmVzb3VyY2U+O1xuICAgIH07XG4gIH0gPSB7fTtcblxuICB0ZXh0dXJlczogeyBba2V5OiBudW1iZXJdOiBHUFVUZXh0dXJlIH0gPSB7fTtcblxuICBwaXBlbGluZXM6IEFycmF5PEdQVVJlbmRlclBpcGVsaW5lPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBnbHRmOiBHTFRGLFxuICAgIHNjZW5lSW5kZXg6IG51bWJlcixcbiAgICBkZXZpY2U6IEdQVURldmljZSxcbiAgICBjb250ZXh0Rm9ybWF0OiBHUFVUZXh0dXJlRm9ybWF0XG4gICkge1xuICAgIHRoaXMucGlwZWxpbmVzID0gZ2x0Zi5tYXRlcmlhbHMubWFwKChtYXRlcmlhbCkgPT4ge1xuICAgICAgY29uc3QgeyBiYXNlQ29sb3JUZXh0dXJlIH0gPSBtYXRlcmlhbC5wYnJNZXRhbGxpY1JvdWdobmVzcztcbiAgICAgIGlmIChiYXNlQ29sb3JUZXh0dXJlICYmICF0aGlzLnRleHR1cmVzW2Jhc2VDb2xvclRleHR1cmUuaW5kZXhdKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZXNbYmFzZUNvbG9yVGV4dHVyZS5pbmRleF0gPSBkZXZpY2UuY3JlYXRlVGV4dHVyZSh7XG4gICAgICAgICAgc2l6ZTogW1xuICAgICAgICAgICAgZ2x0Zi5pbWFnZXNbYmFzZUNvbG9yVGV4dHVyZS5pbmRleF0ud2lkdGgsXG4gICAgICAgICAgICBnbHRmLmltYWdlc1tiYXNlQ29sb3JUZXh0dXJlLmluZGV4XS5oZWlnaHQsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgZm9ybWF0OiAncmdiYTh1bm9ybScsXG4gICAgICAgICAgdXNhZ2U6XG4gICAgICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuVEVYVFVSRV9CSU5ESU5HIHwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG4gICAgICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9EU1QgfCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgICAgIEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVCxcbiAgICAgICAgfSk7XG4gICAgICAgIGRldmljZS5xdWV1ZS5jb3B5RXh0ZXJuYWxJbWFnZVRvVGV4dHVyZShcbiAgICAgICAgICB7IHNvdXJjZTogZ2x0Zi5pbWFnZXNbYmFzZUNvbG9yVGV4dHVyZS5pbmRleF0gfSxcbiAgICAgICAgICB7IHRleHR1cmU6IHRoaXMudGV4dHVyZXNbYmFzZUNvbG9yVGV4dHVyZS5pbmRleF0gfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBnbHRmLmltYWdlc1tiYXNlQ29sb3JUZXh0dXJlLmluZGV4XS53aWR0aCxcbiAgICAgICAgICAgIGdsdGYuaW1hZ2VzW2Jhc2VDb2xvclRleHR1cmUuaW5kZXhdLmhlaWdodCxcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjcmVhdGVQaXBlbGluZShkZXZpY2UsIGNvbnRleHRGb3JtYXQsIG1hdGVyaWFsKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNyZWF0ZUdQVUJ1ZmZlciA9IChcbiAgICAgIGFycmF5OiBGbG9hdDMyQXJyYXkgfCBVaW50MTZBcnJheSxcbiAgICAgIGlzSW5kZXggPSBmYWxzZVxuICAgICkgPT4ge1xuICAgICAgY29uc3QgYnVmZmVyID0gZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XG4gICAgICAgIHNpemU6IChhcnJheS5ieXRlTGVuZ3RoICsgMykgJiB+MywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHVzYWdlOiBpc0luZGV4ID8gR1BVQnVmZmVyVXNhZ2UuSU5ERVggOiBHUFVCdWZmZXJVc2FnZS5WRVJURVgsXG4gICAgICAgIG1hcHBlZEF0Q3JlYXRpb246IHRydWUsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHdyaXRlQXJhcnkgPVxuICAgICAgICBhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5XG4gICAgICAgICAgPyBuZXcgVWludDE2QXJyYXkoYnVmZmVyLmdldE1hcHBlZFJhbmdlKCkpXG4gICAgICAgICAgOiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlci5nZXRNYXBwZWRSYW5nZSgpKTtcbiAgICAgIHdyaXRlQXJhcnkuc2V0KGFycmF5KTtcbiAgICAgIGJ1ZmZlci51bm1hcCgpO1xuICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuXG4gICAgY29uc3QgY3JlYXRlUmVzb3VyY2UgPSAobm9kZTogYW55LCBwYXJlbnRNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpKSA9PiB7XG4gICAgICBjb25zdCBtYXRyaXggPSBtYXQ0LmNsb25lKHBhcmVudE1hdHJpeCk7XG4gICAgICBpZiAobm9kZS5tYXRyaXgpIHtcbiAgICAgICAgbWF0NC5tdWx0aXBseShtYXRyaXgsIG1hdHJpeCwgbm9kZS5tYXRyaXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5vZGUudHJhbnNsYXRpb24pIHtcbiAgICAgICAgICBtYXQ0Lm11bHRpcGx5KG1hdHJpeCwgbWF0cml4LCBub2RlLnRyYW5zbGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yb3RhdGlvbikge1xuICAgICAgICAgIG1hdDQubXVsdGlwbHkobWF0cml4LCBtYXRyaXgsIG5vZGUucm90YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnNjYWxlKSB7XG4gICAgICAgICAgbWF0NC5tdWx0aXBseShtYXRyaXgsIG1hdHJpeCwgbm9kZS5zY2FsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsSW52ZXJzZVRyYW5zcG9zZSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuaW52ZXJ0KG1vZGVsSW52ZXJzZVRyYW5zcG9zZSwgbWF0cml4KTtcbiAgICAgICAgbWF0NC50cmFuc3Bvc2UobW9kZWxJbnZlcnNlVHJhbnNwb3NlLCBtb2RlbEludmVyc2VUcmFuc3Bvc2UpO1xuXG4gICAgICAgIGlmICghdGhpcy5tZXNoZXNbbm9kZS5tZXNoXSkge1xuICAgICAgICAgIGNvbnN0IG1hdHJpeEJ1ZmZlciA9IGRldmljZS5jcmVhdGVCdWZmZXIoe1xuICAgICAgICAgICAgc2l6ZTogNCAqIDQgKiA0ICogMyxcbiAgICAgICAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5VTklGT1JNIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdGhpcy5tZXNoZXNbbm9kZS5tZXNoXSA9IHtcbiAgICAgICAgICAgIG1hdHJpY2VzOiBbbWF0cml4XSxcbiAgICAgICAgICAgIG1vZGVsSW52VHJzOiBbbW9kZWxJbnZlcnNlVHJhbnNwb3NlXSxcbiAgICAgICAgICAgIG1hdHJpeEJ1ZmZlcixcblxuICAgICAgICAgICAgcHJpbWl0aXZlczogZ2x0Zi5tZXNoZXNbbm9kZS5tZXNoXS5tYXA8UGVyUHJpbWl0aXZlUmVzb3VyY2U+KFxuICAgICAgICAgICAgICAocHJpbWl0aXZlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBiYXNlQ29sb3JUZXh0dXJlIH0gPVxuICAgICAgICAgICAgICAgICAgZ2x0Zi5tYXRlcmlhbHNbcHJpbWl0aXZlLm1hdGVyaWFsXS5wYnJNZXRhbGxpY1JvdWdobmVzcztcbiAgICAgICAgICAgICAgICBjb25zdCBiaW5kR3JvdXBFbnRyaWVzOiBbR1BVQmluZEdyb3VwRW50cnldID0gW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogbWF0cml4QnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGlmIChiYXNlQ29sb3JUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICBiaW5kR3JvdXBFbnRyaWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAxLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogZGV2aWNlLmNyZWF0ZVNhbXBsZXIoe1xuICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NNb2RlVTogJ3JlcGVhdCcsXG4gICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc01vZGVWOiAncmVwZWF0JyxcbiAgICAgICAgICAgICAgICAgICAgICBtYWdGaWx0ZXI6ICdsaW5lYXInLFxuICAgICAgICAgICAgICAgICAgICAgIG1pbkZpbHRlcjogJ2xpbmVhcicsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBiaW5kR3JvdXBFbnRyaWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAyLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTpcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2Jhc2VDb2xvclRleHR1cmUuaW5kZXhdLmNyZWF0ZVZpZXcoKSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBpcGVsaW5lID0gcHJpbWl0aXZlLm1hdGVyaWFsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQ6IHByaW1pdGl2ZS5pbmRleENvdW50LFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb25zOiBjcmVhdGVHUFVCdWZmZXIocHJpbWl0aXZlLnBvc2l0aW9ucyksXG4gICAgICAgICAgICAgICAgICBub3JtYWxzOiBjcmVhdGVHUFVCdWZmZXIocHJpbWl0aXZlLm5vcm1hbHMpLFxuICAgICAgICAgICAgICAgICAgaW5kaWNlczogY3JlYXRlR1BVQnVmZmVyKHByaW1pdGl2ZS5pbmRpY2VzLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgIHV2czogcHJpbWl0aXZlLnV2cyA/IGNyZWF0ZUdQVUJ1ZmZlcihwcmltaXRpdmUudXZzKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICBwaXBlbGluZSxcbiAgICAgICAgICAgICAgICAgIHVuaWZvcm1CaW5kR3JvdXA6IGRldmljZS5jcmVhdGVCaW5kR3JvdXAoe1xuICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHRoaXMucGlwZWxpbmVzW3BpcGVsaW5lXS5nZXRCaW5kR3JvdXBMYXlvdXQoMCksXG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXM6IGJpbmRHcm91cEVudHJpZXMsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tZXNoZXNbbm9kZS5tZXNoXS5tYXRyaWNlcy5wdXNoKG1hdHJpeCk7XG4gICAgICAgICAgdGhpcy5tZXNoZXNbbm9kZS5tZXNoXS5tb2RlbEludlRycy5wdXNoKG1vZGVsSW52ZXJzZVRyYW5zcG9zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbm9kZS5jaGlsZHJlbj8uZm9yRWFjaCgoY2hpbGRJbmRleDogYW55KSA9PlxuICAgICAgICBjcmVhdGVSZXNvdXJjZShnbHRmLm5vZGVzW2NoaWxkSW5kZXhdLCBtYXRyaXgpXG4gICAgICApO1xuICAgIH07XG5cbiAgICBnbHRmLnNjZW5lc1tzY2VuZUluZGV4XS5ub2Rlcy5mb3JFYWNoKChub2RlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgY3JlYXRlUmVzb3VyY2UoZ2x0Zi5ub2Rlc1tub2RlSW5kZXhdKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5tZXNoZXMpLmZvckVhY2goKFssIG1lc2hSZXNvdXJjZV0pID0+IHtcbiAgICAgIG1lc2hSZXNvdXJjZS5tYXRyaXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgbWVzaFJlc291cmNlLnByaW1pdGl2ZXMuZm9yRWFjaCgocHJpbVJlc291cmNlKSA9PiB7XG4gICAgICAgIHByaW1SZXNvdXJjZS5pbmRpY2VzLmRlc3Ryb3koKTtcbiAgICAgICAgcHJpbVJlc291cmNlLnBvc2l0aW9ucy5kZXN0cm95KCk7XG4gICAgICAgIHByaW1SZXNvdXJjZS5ub3JtYWxzLmRlc3Ryb3koKTtcbiAgICAgICAgcHJpbVJlc291cmNlLnV2cz8uZGVzdHJveSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgT2JqZWN0LmVudHJpZXModGhpcy50ZXh0dXJlcykuZm9yRWFjaCgoWywgdGV4dHVyZV0pID0+IHRleHR1cmUuZGVzdHJveSgpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHZlcnQgZnJvbSAnLi4vc2hhZGVycy9zdGFuZGFyZC52ZXJ0Lndnc2wnO1xuaW1wb3J0IGZyYWcgZnJvbSAnLi4vc2hhZGVycy9zdGFuZGFyZC5mcmFnLndnc2wnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQaXBlbGluZShcbiAgZGV2aWNlOiBHUFVEZXZpY2UsXG4gIGZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdCxcbiAgbWF0ZXJpYWw6IGFueVxuKSB7XG4gIGNvbnN0IHsgYmFzZUNvbG9yRmFjdG9yLCBiYXNlQ29sb3JUZXh0dXJlIH0gPSBtYXRlcmlhbC5wYnJNZXRhbGxpY1JvdWdobmVzcztcbiAgY29uc3QgaGFzVVYgPSBiYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQ7XG4gIGZ1bmN0aW9uIGdldFZlcnRleEJ1ZmZlckxheW91dChcbiAgICBzaGFkZXJMb2NhdGlvbjogbnVtYmVyLFxuICAgIG46IG51bWJlclxuICApOiBHUFVWZXJ0ZXhCdWZmZXJMYXlvdXQge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzaGFkZXJMb2NhdGlvbixcbiAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgZm9ybWF0OiBgZmxvYXQzMngke259YCBhcyBHUFVWZXJ0ZXhGb3JtYXQsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgYXJyYXlTdHJpZGU6IDQgKiBuLFxuICAgIH07XG4gIH1cbiAgY29uc3QgdmVydGV4QnVmZmVyTGF5b3V0ID0gW1xuICAgIGdldFZlcnRleEJ1ZmZlckxheW91dCgwLCAzKSxcbiAgICBnZXRWZXJ0ZXhCdWZmZXJMYXlvdXQoMSwgMyksXG4gIF07XG4gIGlmIChoYXNVVikge1xuICAgIHZlcnRleEJ1ZmZlckxheW91dC5wdXNoKGdldFZlcnRleEJ1ZmZlckxheW91dCgyLCAyKSk7XG4gIH1cblxuICBjb25zdCBiaW5kR3JvdXBMYXlvdXRFbnRyaWVzOiBbR1BVQmluZEdyb3VwTGF5b3V0RW50cnldID0gW1xuICAgIHtcbiAgICAgIGJpbmRpbmc6IDAsXG4gICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5WRVJURVgsXG4gICAgICBidWZmZXI6IHt9LFxuICAgIH0sXG4gIF07XG4gIGlmIChoYXNVVikge1xuICAgIGJpbmRHcm91cExheW91dEVudHJpZXMucHVzaCh7XG4gICAgICBiaW5kaW5nOiAxLFxuICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXG4gICAgICBzYW1wbGVyOiB7fSxcbiAgICB9KTtcbiAgICBiaW5kR3JvdXBMYXlvdXRFbnRyaWVzLnB1c2goe1xuICAgICAgYmluZGluZzogMixcbiAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxuICAgICAgdGV4dHVyZToge30sXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZGV2aWNlLmNyZWF0ZVJlbmRlclBpcGVsaW5lKHtcbiAgICBsYXlvdXQ6IGRldmljZS5jcmVhdGVQaXBlbGluZUxheW91dCh7XG4gICAgICBiaW5kR3JvdXBMYXlvdXRzOiBbXG4gICAgICAgIGRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoe1xuICAgICAgICAgIGVudHJpZXM6IGJpbmRHcm91cExheW91dEVudHJpZXMsXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICB9KSxcbiAgICB2ZXJ0ZXg6IHtcbiAgICAgIG1vZHVsZTogZGV2aWNlLmNyZWF0ZVNoYWRlck1vZHVsZSh7XG4gICAgICAgIGNvZGU6IHZlcnQoaGFzVVYpLFxuICAgICAgfSksXG4gICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICBidWZmZXJzOiB2ZXJ0ZXhCdWZmZXJMYXlvdXQsXG4gICAgfSxcbiAgICBmcmFnbWVudDoge1xuICAgICAgbW9kdWxlOiBkZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgICAgY29kZTogZnJhZyhoYXNVViwgYmFzZUNvbG9yRmFjdG9yKSxcbiAgICAgIH0pLFxuICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgdGFyZ2V0czogW3sgZm9ybWF0IH1dLFxuICAgIH0sXG4gICAgcHJpbWl0aXZlOiB7XG4gICAgICB0b3BvbG9neTogJ3RyaWFuZ2xlLWxpc3QnLFxuICAgICAgY3VsbE1vZGU6ICdiYWNrJyxcbiAgICB9LFxuICAgIGRlcHRoU3RlbmNpbDoge1xuICAgICAgZGVwdGhXcml0ZUVuYWJsZWQ6IHRydWUsXG4gICAgICBkZXB0aENvbXBhcmU6ICdsZXNzJyxcbiAgICAgIGZvcm1hdDogJ2RlcHRoMjRwbHVzJyxcbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXG4gKlxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl07XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XG4gIHcgPSB3IHx8IDEuMDtcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xuICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAvIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTsgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xuXG4gIHZhciB1dnggPSBxeSAqIHogLSBxeiAqIHksXG4gICAgICB1dnkgPSBxeiAqIHggLSBxeCAqIHosXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XG5cbiAgdmFyIHV1dnggPSBxeSAqIHV2eiAtIHF6ICogdXZ5LFxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXG4gICAgICB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDsgLy8gdmVjMy5zY2FsZSh1diwgdXYsIDIgKiB3KTtcblxuICB2YXIgdzIgPSBxdyAqIDI7XG4gIHV2eCAqPSB3MjtcbiAgdXZ5ICo9IHcyO1xuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuXG4gIHV1dnggKj0gMjtcbiAgdXV2eSAqPSAyO1xuICB1dXZ6ICo9IDI7IC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICBvdXRbMV0gPSB5ICsgdXZ5ICsgdXV2eTtcbiAgb3V0WzJdID0geiArIHV2eiArIHV1dno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzJdID0gcFsyXTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsImltcG9ydCB7IHZlYzMsIG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xuXG5jb25zdCBjZW50ZXIgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgdXAgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG5cbmZ1bmN0aW9uIGNsYW1wKG51bTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG51bSwgbWluKSwgbWF4KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcbiAgcHJvdGVjdGVkIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgcHJvdGVjdGVkIHJhZGl1cyA9IDM7XG5cbiAgcHJvdGVjdGVkIHRoZXRhID0gMDtcblxuICBwcm90ZWN0ZWQgcGhpID0gMDtcblxuICBwcm90ZWN0ZWQgcHJvaiA9IG1hdDQuY3JlYXRlKCk7XG5cbiAgcHJvdGVjdGVkIHZpZXcgPSBtYXQ0LmNyZWF0ZSgpO1xuXG4gIHByb2pWaWV3ID0gbWF0NC5jcmVhdGUoKTtcblxuICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgY29uc3QgYXNwZWN0ID0gY2FudmFzLmNsaWVudFdpZHRoIC8gY2FudmFzLmNsaWVudEhlaWdodDtcbiAgICBtYXQ0LnBlcnNwZWN0aXZlKHRoaXMucHJvaiwgTWF0aC5QSSAvIDIsIGFzcGVjdCwgMC4xLCBJbmZpbml0eSk7XG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2pbMF0gPVxuICAgICAgICAxIC9cbiAgICAgICAgKE1hdGgudGFuKE1hdGguUEkgLyA0KSAqIChjYW52YXMuY2xpZW50V2lkdGggLyBjYW52YXMuY2xpZW50SGVpZ2h0KSk7XG4gICAgICBtYXQ0Lm11bCh0aGlzLnByb2pWaWV3LCB0aGlzLnByb2osIHRoaXMudmlldyk7XG4gICAgfSk7XG5cbiAgICBsZXQgbW91c2VQcmVzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5jYW52YXMub25tb3VzZWRvd24gPSAoKSA9PiB7XG4gICAgICBtb3VzZVByZXNzZWQgPSB0cnVlO1xuICAgIH07XG4gICAgdGhpcy5jYW52YXMub25tb3VzZXVwID0gKCkgPT4ge1xuICAgICAgbW91c2VQcmVzc2VkID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmNhbnZhcy5vbm1vdXNlbW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKG1vdXNlUHJlc3NlZCkge1xuICAgICAgICB0aGlzLnRoZXRhIC09IChldmVudC5tb3ZlbWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiBNYXRoLlBJICogMjtcbiAgICAgICAgdGhpcy5waGkgPSBjbGFtcChcbiAgICAgICAgICB0aGlzLnBoaSAtIChldmVudC5tb3ZlbWVudFkgLyB3aW5kb3cuaW5uZXJIZWlnaHQpICogTWF0aC5QSSxcbiAgICAgICAgICAtTWF0aC5QSSAvIDIgKyAwLjEsXG4gICAgICAgICAgTWF0aC5QSSAvIDIgLSAwLjFcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jYW52YXMub253aGVlbCA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5yYWRpdXMgPSBjbGFtcCh0aGlzLnJhZGl1cyArIGV2ZW50LmRlbHRhWSAqIDAuMDAyLCAwLjEsIEluZmluaXR5KTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGUoKSB7XG4gICAgY29uc3QgZXllID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIHRoaXMucmFkaXVzKTtcbiAgICB2ZWMzLnJvdGF0ZVgoZXllLCBleWUsIGNlbnRlciwgdGhpcy5waGkpO1xuICAgIHZlYzMucm90YXRlWShleWUsIGV5ZSwgY2VudGVyLCB0aGlzLnRoZXRhKTtcbiAgICBtYXQ0Lmxvb2tBdCh0aGlzLnZpZXcsIGV5ZSwgY2VudGVyLCB1cCk7XG4gICAgbWF0NC5tdWwodGhpcy5wcm9qVmlldywgdGhpcy5wcm9qLCB0aGlzLnZpZXcpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHTFRGLCBsb2FkR0xURiB9IGZyb20gJy4uL2xvYWRlci9nbHRmJztcbmltcG9ydCBSZXNvdXJjZSBmcm9tICcuL3Jlc291cmNlJztcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9jYW1lcmEnO1xuXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gIGRldmljZTogR1BVRGV2aWNlO1xuXG4gIGNvbnRleHQ6IEdQVUNhbnZhc0NvbnRleHQ7XG5cbiAgY29udGV4dEZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdDtcblxuICBkZXB0aFRleHR1cmU6IEdQVVRleHR1cmU7XG5cbiAgcmVuZGVyUGFzc0Rlc2M6IEdQVVJlbmRlclBhc3NEZXNjcmlwdG9yO1xuXG4gIGdsdGY/OiBHTFRGO1xuXG4gIHJlc291cmNlPzogUmVzb3VyY2U7XG5cbiAgY2FtZXJhOiBDYW1lcmE7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcbiAgICBkZXZpY2U6IEdQVURldmljZSxcbiAgICBjb250ZXh0OiBHUFVDYW52YXNDb250ZXh0LFxuICAgIGNvbnRleHRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXRcbiAgKSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5kZXZpY2UgPSBkZXZpY2U7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLmNvbnRleHRGb3JtYXQgPSBjb250ZXh0Rm9ybWF0O1xuXG4gICAgdGhpcy5kZXB0aFRleHR1cmUgPSBkZXZpY2UuY3JlYXRlVGV4dHVyZSh7XG4gICAgICBzaXplOiBbXG4gICAgICAgIGNhbnZhcy5jbGllbnRXaWR0aCAqIGRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgIGNhbnZhcy5jbGllbnRIZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgXSxcbiAgICAgIGZvcm1hdDogJ2RlcHRoMjRwbHVzJyxcbiAgICAgIHVzYWdlOiBHUFVUZXh0dXJlVXNhZ2UuUkVOREVSX0FUVEFDSE1FTlQsXG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJQYXNzRGVzYyA9IHtcbiAgICAgIGNvbG9yQXR0YWNobWVudHM6IFtdLFxuICAgICAgZGVwdGhTdGVuY2lsQXR0YWNobWVudDoge1xuICAgICAgICB2aWV3OiB0aGlzLmRlcHRoVGV4dHVyZS5jcmVhdGVWaWV3KCksXG4gICAgICAgIGRlcHRoTG9hZFZhbHVlOiAxLjAsXG4gICAgICAgIGRlcHRoU3RvcmVPcDogJ3N0b3JlJyxcbiAgICAgICAgc3RlbmNpbExvYWRWYWx1ZTogMCxcbiAgICAgICAgc3RlbmNpbFN0b3JlT3A6ICdzdG9yZScsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2l6ZSA9IFtcbiAgICAgICAgY2FudmFzLmNsaWVudFdpZHRoICogZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgY2FudmFzLmNsaWVudEhlaWdodCAqIGRldmljZVBpeGVsUmF0aW8sXG4gICAgICBdO1xuICAgICAgY29udGV4dC5jb25maWd1cmUoeyBkZXZpY2UsIGZvcm1hdDogY29udGV4dEZvcm1hdCwgc2l6ZSB9KTtcbiAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICBzaXplLFxuICAgICAgICBmb3JtYXQ6ICdkZXB0aDI0cGx1cycsXG4gICAgICAgIHVzYWdlOiBHUFVUZXh0dXJlVXNhZ2UuUkVOREVSX0FUVEFDSE1FTlQsXG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVuZGVyUGFzc0Rlc2MuZGVwdGhTdGVuY2lsQXR0YWNobWVudCEudmlldyA9XG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLmNyZWF0ZVZpZXcoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYShjYW52YXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBjb25zdCBmcmFtZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbW1hbmRFbmNvZGVyID0gdGhpcy5kZXZpY2UuY3JlYXRlQ29tbWFuZEVuY29kZXIoKTtcbiAgICAgIHRoaXMucmVuZGVyUGFzc0Rlc2MuY29sb3JBdHRhY2htZW50cyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHZpZXc6IHRoaXMuY29udGV4dC5nZXRDdXJyZW50VGV4dHVyZSgpLmNyZWF0ZVZpZXcoKSxcbiAgICAgICAgICBsb2FkVmFsdWU6IHsgcjogMC4zLCBnOiAwLjUsIGI6IDAuNywgYTogMSB9LFxuICAgICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgY29uc3QgcGFzc0VuY29kZXIgPSBjb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5yZW5kZXJQYXNzRGVzYyk7XG5cbiAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucmVzb3VyY2UhLm1lc2hlcykuZm9yRWFjaCgoWywgbWVzaFJlc291cmNlXSkgPT4ge1xuICAgICAgICBjb25zdCB3cml0ZUJ1ZmZlciA9IChtYXRyaXg6IEZsb2F0MzJBcnJheSwgb2Zmc2V0OiBudW1iZXIpID0+IHtcbiAgICAgICAgICB0aGlzLmRldmljZS5xdWV1ZS53cml0ZUJ1ZmZlcihcbiAgICAgICAgICAgIG1lc2hSZXNvdXJjZS5tYXRyaXhCdWZmZXIsXG4gICAgICAgICAgICBvZmZzZXQgKiA0ICogNCAqIDQsXG4gICAgICAgICAgICBtYXRyaXguYnVmZmVyLFxuICAgICAgICAgICAgbWF0cml4LmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICBtYXRyaXguYnl0ZUxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIHdyaXRlQnVmZmVyKG1lc2hSZXNvdXJjZS5tYXRyaWNlc1swXSBhcyBGbG9hdDMyQXJyYXksIDApO1xuICAgICAgICB3cml0ZUJ1ZmZlcihtZXNoUmVzb3VyY2UubW9kZWxJbnZUcnNbMF0gYXMgRmxvYXQzMkFycmF5LCAxKTtcbiAgICAgICAgd3JpdGVCdWZmZXIodGhpcy5jYW1lcmEucHJvalZpZXcgYXMgRmxvYXQzMkFycmF5LCAyKTtcblxuICAgICAgICBtZXNoUmVzb3VyY2UucHJpbWl0aXZlcy5mb3JFYWNoKChwcmltUmVzb3VyY2UpID0+IHtcbiAgICAgICAgICBwYXNzRW5jb2Rlci5zZXRQaXBlbGluZShcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UhLnBpcGVsaW5lc1twcmltUmVzb3VyY2UucGlwZWxpbmVdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXNzRW5jb2Rlci5zZXRWZXJ0ZXhCdWZmZXIoMCwgcHJpbVJlc291cmNlLnBvc2l0aW9ucyk7XG4gICAgICAgICAgcGFzc0VuY29kZXIuc2V0VmVydGV4QnVmZmVyKDEsIHByaW1SZXNvdXJjZS5ub3JtYWxzKTtcbiAgICAgICAgICBpZiAocHJpbVJlc291cmNlLnV2cykge1xuICAgICAgICAgICAgcGFzc0VuY29kZXIuc2V0VmVydGV4QnVmZmVyKDIsIHByaW1SZXNvdXJjZS51dnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXNzRW5jb2Rlci5zZXRJbmRleEJ1ZmZlcihwcmltUmVzb3VyY2UuaW5kaWNlcywgJ3VpbnQxNicpO1xuICAgICAgICAgIHBhc3NFbmNvZGVyLnNldEJpbmRHcm91cCgwLCBwcmltUmVzb3VyY2UudW5pZm9ybUJpbmRHcm91cCk7XG4gICAgICAgICAgcGFzc0VuY29kZXIuZHJhd0luZGV4ZWQocHJpbVJlc291cmNlLmluZGV4Q291bnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBwYXNzRW5jb2Rlci5lbmRQYXNzKCk7XG4gICAgICB0aGlzLmRldmljZS5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRFbmNvZGVyLmZpbmlzaCgpXSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpO1xuICAgIH07XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWQodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmdsdGYgPSBhd2FpdCBsb2FkR0xURih1cmwpO1xuICAgIHRoaXMucmVzb3VyY2U/LmRlc3Ryb3koKTtcbiAgICB0aGlzLnJlc291cmNlID0gbmV3IFJlc291cmNlKFxuICAgICAgdGhpcy5nbHRmLFxuICAgICAgdGhpcy5nbHRmLnNjZW5lLFxuICAgICAgdGhpcy5kZXZpY2UsXG4gICAgICB0aGlzLmNvbnRleHRGb3JtYXRcbiAgICApO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgY29uc3QgZW50cnkgPSBuYXZpZ2F0b3IuZ3B1O1xuICBpZiAoIWVudHJ5KSB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdQVSBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3Nlci4nKTtcbiAgY29uc3QgYWRhcHRlciA9IGF3YWl0IGVudHJ5LnJlcXVlc3RBZGFwdGVyKCk7XG4gIGNvbnN0IGRldmljZSA9IGF3YWl0IGFkYXB0ZXIhLnJlcXVlc3REZXZpY2UoKTtcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJncHUnKTtcbiAgY29uc3QgZm9ybWF0ID0gY29udGV4dCEuZ2V0UHJlZmVycmVkRm9ybWF0KGFkYXB0ZXIhKTtcbiAgY29udGV4dCEuY29uZmlndXJlKHtcbiAgICBkZXZpY2UsXG4gICAgZm9ybWF0LFxuICAgIHNpemU6IFtcbiAgICAgIGNhbnZhcy5jbGllbnRXaWR0aCAqIGRldmljZVBpeGVsUmF0aW8sXG4gICAgICBjYW52YXMuY2xpZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICBdLFxuICB9KTtcbiAgcmV0dXJuIG5ldyBSZW5kZXJlcihjYW52YXMsIGRldmljZSwgY29udGV4dCEsIGZvcm1hdCk7XG59XG4iLCJpbXBvcnQgeyBSZW5kZXJlciwgY3JlYXRlUmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVyL3JlbmRlcmVyJztcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYmdwdS1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RlbC1zZWxlY3QnKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcbmxldCByZW5kZXJlcjogUmVuZGVyZXI7XG5zZWxlY3Qub25jaGFuZ2UgPSAoKSA9PiByZW5kZXJlci5sb2FkKHNlbGVjdC52YWx1ZSk7XG5mZXRjaChcbiAgJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9LaHJvbm9zR3JvdXAvZ2xURi1TYW1wbGUtTW9kZWxzL21hc3Rlci8yLjAvbW9kZWwtaW5kZXguanNvbidcbilcbiAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gIC50aGVuKChtb2RlbEluZGV4KSA9PiB7XG4gICAgbW9kZWxJbmRleC5mb3JFYWNoKGFzeW5jIChtb2RlbDogYW55KSA9PiB7XG4gICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi5pbm5lckhUTUwgPSBtb2RlbC5uYW1lO1xuICAgICAgb3B0aW9uLnZhbHVlID0gYGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9LaHJvbm9zR3JvdXAvZ2xURi1TYW1wbGUtTW9kZWxzL21hc3Rlci8yLjAvJHttb2RlbC5uYW1lfS9nbFRGLyR7bW9kZWwubmFtZX0uZ2x0ZmA7XG4gICAgICBzZWxlY3QuYWRkKG9wdGlvbik7XG4gICAgICBpZiAobW9kZWwubmFtZSA9PT0gJ0R1Y2snKSB7XG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgcmVuZGVyZXIgPSBhd2FpdCBjcmVhdGVSZW5kZXJlcihjYW52YXMpO1xuICAgICAgICByZW5kZXJlci5sb2FkKHNlbGVjdC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuIl0sIm5hbWVzIjpbIlByaW1pdGl2ZSIsImNvbnN0cnVjdG9yIiwianNvbiIsInByaW1pdGl2ZSIsImJ1ZmZlciIsInRoaXMiLCJpbmRleENvdW50IiwiYWNjZXNzb3JzIiwiaW5kaWNlcyIsImNvdW50IiwiaW5kZXhCdWZmZXJWaWV3IiwiYnVmZmVyVmlld3MiLCJidWZmZXJWaWV3IiwiZ2V0QXJyYXkiLCJpZHgiLCJuIiwiRmxvYXQzMkFycmF5IiwiYnl0ZU9mZnNldCIsIlVpbnQxNkFycmF5IiwiYnl0ZUxlbmd0aCIsIkJZVEVTX1BFUl9FTEVNRU5UIiwicG9zaXRpb25zIiwiYXR0cmlidXRlcyIsIlBPU0lUSU9OIiwibm9ybWFscyIsIk5PUk1BTCIsIlRFWENPT1JEXzAiLCJ1dnMiLCJtYXRlcmlhbCIsIkdMVEYiLCJtZXNoZXMiLCJpbWFnZXMiLCJzY2VuZXMiLCJzY2VuZSIsIm5vZGVzIiwiY2FtZXJhcyIsIm1hdGVyaWFscyIsIkVQU0lMT04iLCJBUlJBWV9UWVBFIiwiQXJyYXkiLCJjcmVhdGUiLCJvdXQiLCJtdWx0aXBseSIsImEiLCJiIiwiYTAwIiwiYTAxIiwiYTAyIiwiYTAzIiwiYTEwIiwiYTExIiwiYTEyIiwiYTEzIiwiYTIwIiwiYTIxIiwiYTIyIiwiYTIzIiwiYTMwIiwiYTMxIiwiYTMyIiwiYTMzIiwiYjAiLCJiMSIsImIyIiwiYjMiLCJNYXRoIiwicmFuZG9tIiwiUEkiLCJoeXBvdCIsInkiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic3FydCIsIm11bCIsInZlcnQiLCJoYXNVViIsImZyYWciLCJiYXNlQ29sb3JGYWN0b3IiLCJiYXNlQ29sb3IiLCJtYXAiLCJudW0iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJSZXNvdXJjZSIsImdsdGYiLCJzY2VuZUluZGV4IiwiZGV2aWNlIiwiY29udGV4dEZvcm1hdCIsInRleHR1cmVzIiwicGlwZWxpbmVzIiwiYmFzZUNvbG9yVGV4dHVyZSIsInBick1ldGFsbGljUm91Z2huZXNzIiwiaW5kZXgiLCJjcmVhdGVUZXh0dXJlIiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZm9ybWF0IiwidXNhZ2UiLCJHUFVUZXh0dXJlVXNhZ2UiLCJURVhUVVJFX0JJTkRJTkciLCJDT1BZX0RTVCIsIlJFTkRFUl9BVFRBQ0hNRU5UIiwicXVldWUiLCJjb3B5RXh0ZXJuYWxJbWFnZVRvVGV4dHVyZSIsInNvdXJjZSIsInRleHR1cmUiLCJ1bmRlZmluZWQiLCJnZXRWZXJ0ZXhCdWZmZXJMYXlvdXQiLCJzaGFkZXJMb2NhdGlvbiIsIm9mZnNldCIsImFycmF5U3RyaWRlIiwidmVydGV4QnVmZmVyTGF5b3V0IiwicHVzaCIsImJpbmRHcm91cExheW91dEVudHJpZXMiLCJiaW5kaW5nIiwidmlzaWJpbGl0eSIsIkdQVVNoYWRlclN0YWdlIiwiVkVSVEVYIiwiRlJBR01FTlQiLCJzYW1wbGVyIiwiY3JlYXRlUmVuZGVyUGlwZWxpbmUiLCJsYXlvdXQiLCJjcmVhdGVQaXBlbGluZUxheW91dCIsImJpbmRHcm91cExheW91dHMiLCJjcmVhdGVCaW5kR3JvdXBMYXlvdXQiLCJlbnRyaWVzIiwidmVydGV4IiwibW9kdWxlIiwiY3JlYXRlU2hhZGVyTW9kdWxlIiwiY29kZSIsImVudHJ5UG9pbnQiLCJidWZmZXJzIiwiZnJhZ21lbnQiLCJ0YXJnZXRzIiwidG9wb2xvZ3kiLCJjdWxsTW9kZSIsImRlcHRoU3RlbmNpbCIsImRlcHRoV3JpdGVFbmFibGVkIiwiZGVwdGhDb21wYXJlIiwiY3JlYXRlUGlwZWxpbmUiLCJjcmVhdGVHUFVCdWZmZXIiLCJhcnJheSIsImlzSW5kZXgiLCJjcmVhdGVCdWZmZXIiLCJHUFVCdWZmZXJVc2FnZSIsIklOREVYIiwibWFwcGVkQXRDcmVhdGlvbiIsImdldE1hcHBlZFJhbmdlIiwic2V0IiwidW5tYXAiLCJjcmVhdGVSZXNvdXJjZSIsIm5vZGUiLCJwYXJlbnRNYXRyaXgiLCJtYXRyaXgiLCJ0cmFuc2xhdGlvbiIsInJvdGF0aW9uIiwic2NhbGUiLCJtZXNoIiwibW9kZWxJbnZlcnNlVHJhbnNwb3NlIiwiYjAwIiwiYjAxIiwiYjAyIiwiYjAzIiwiYjA0IiwiYjA1IiwiYjA2IiwiYjA3IiwiYjA4IiwiYjA5IiwiYjEwIiwiYjExIiwiZGV0IiwibWF0cmljZXMiLCJtb2RlbEludlRycyIsIm1hdHJpeEJ1ZmZlciIsIlVOSUZPUk0iLCJwcmltaXRpdmVzIiwiYmluZEdyb3VwRW50cmllcyIsInJlc291cmNlIiwiY3JlYXRlU2FtcGxlciIsImFkZHJlc3NNb2RlVSIsImFkZHJlc3NNb2RlViIsIm1hZ0ZpbHRlciIsIm1pbkZpbHRlciIsImNyZWF0ZVZpZXciLCJwaXBlbGluZSIsInVuaWZvcm1CaW5kR3JvdXAiLCJjcmVhdGVCaW5kR3JvdXAiLCJnZXRCaW5kR3JvdXBMYXlvdXQiLCJjaGlsZHJlbiIsImZvckVhY2giLCJjaGlsZEluZGV4Iiwibm9kZUluZGV4IiwiZGVzdHJveSIsIk9iamVjdCIsIm1lc2hSZXNvdXJjZSIsInByaW1SZXNvdXJjZSIsIngiLCJ6IiwiY2VudGVyIiwidXAiLCJjbGFtcCIsIm1pbiIsIm1heCIsIkNhbWVyYSIsImNhbnZhcyIsInJhZGl1cyIsInRoZXRhIiwicGhpIiwicHJvaiIsInZpZXciLCJwcm9qVmlldyIsImFzcGVjdCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZm92eSIsIm5lYXIiLCJmYXIiLCJuZiIsImYiLCJ0YW4iLCJJbmZpbml0eSIsInVwZGF0ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJtb3VzZVByZXNzZWQiLCJvbm1vdXNlZG93biIsIm9ubW91c2V1cCIsIm9ubW91c2Vtb3ZlIiwiZXZlbnQiLCJtb3ZlbWVudFgiLCJpbm5lcldpZHRoIiwibW92ZW1lbnRZIiwiaW5uZXJIZWlnaHQiLCJvbndoZWVsIiwiZGVsdGFZIiwiZXllIiwicmFkIiwicCIsInIiLCJjb3MiLCJzaW4iLCJ4MCIsIngxIiwieDIiLCJ5MCIsInkxIiwieTIiLCJ6MCIsInoxIiwiejIiLCJsZW4iLCJleWV4IiwiZXlleSIsImV5ZXoiLCJ1cHgiLCJ1cHkiLCJ1cHoiLCJjZW50ZXJ4IiwiY2VudGVyeSIsImNlbnRlcnoiLCJhYnMiLCJpZGVudGl0eSIsIlJlbmRlcmVyIiwiY29udGV4dCIsImRlcHRoVGV4dHVyZSIsImRldmljZVBpeGVsUmF0aW8iLCJyZW5kZXJQYXNzRGVzYyIsImNvbG9yQXR0YWNobWVudHMiLCJkZXB0aFN0ZW5jaWxBdHRhY2htZW50IiwiZGVwdGhMb2FkVmFsdWUiLCJkZXB0aFN0b3JlT3AiLCJzdGVuY2lsTG9hZFZhbHVlIiwic3RlbmNpbFN0b3JlT3AiLCJjb25maWd1cmUiLCJjYW1lcmEiLCJyZW5kZXIiLCJmcmFtZSIsImNvbW1hbmRFbmNvZGVyIiwiY3JlYXRlQ29tbWFuZEVuY29kZXIiLCJnZXRDdXJyZW50VGV4dHVyZSIsImxvYWRWYWx1ZSIsImciLCJzdG9yZU9wIiwicGFzc0VuY29kZXIiLCJiZWdpblJlbmRlclBhc3MiLCJ3cml0ZUJ1ZmZlciIsInNldFBpcGVsaW5lIiwic2V0VmVydGV4QnVmZmVyIiwic2V0SW5kZXhCdWZmZXIiLCJzZXRCaW5kR3JvdXAiLCJkcmF3SW5kZXhlZCIsImVuZFBhc3MiLCJzdWJtaXQiLCJmaW5pc2giLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsb2FkIiwidXJsIiwiZGlyIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJQcm9taXNlIiwicmVzb2x2ZSIsInhvYmoiLCJYTUxIdHRwUmVxdWVzdCIsIm92ZXJyaWRlTWltZVR5cGUiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJsb2FkSnNvbiIsIm1lc2hlc0xvYWRlZCIsImFsbCIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlIiwibG9hZEJ1ZmZlciIsInVyaSIsInRoZW4iLCJsb2FkTWVzaGVzIiwiaW1hZ2VzTG9hZGVkIiwiaW1hZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwic3JjIiwiZGVjb2RlIiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJsb2FkSW1hZ2UiLCJiaXRNYXAiLCJsb2FkR0xURiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXJlciIsIm9uY2hhbmdlIiwidmFsdWUiLCJmZXRjaCIsIm1vZGVsSW5kZXgiLCJtb2RlbCIsIm9wdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJuYW1lIiwiYWRkIiwiZW50cnkiLCJuYXZpZ2F0b3IiLCJncHUiLCJFcnJvciIsImFkYXB0ZXIiLCJyZXF1ZXN0QWRhcHRlciIsInJlcXVlc3REZXZpY2UiLCJnZXRDb250ZXh0IiwiZ2V0UHJlZmVycmVkRm9ybWF0IiwiY3JlYXRlUmVuZGVyZXIiXSwic291cmNlUm9vdCI6IiJ9