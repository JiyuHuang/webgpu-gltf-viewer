(()=>{"use strict";function e(e,t,n){return Math.min(Math.max(e,t),n)}function t(e,t=1){const n=void 0!==e?e:t;return Number.isInteger(n)?`${n}.0`:n}function n(e,t,n){const r=n.createBuffer({size:e.byteLength+3&-4,usage:t,mappedAtCreation:!0});let i;return i=e instanceof Int8Array?new Int8Array(r.getMappedRange()):e instanceof Uint8Array?new Uint8Array(r.getMappedRange()):e instanceof Int16Array?new Int16Array(r.getMappedRange()):e instanceof Uint16Array?new Uint16Array(r.getMappedRange()):e instanceof Uint32Array?new Uint32Array(r.getMappedRange()):new Float32Array(r.getMappedRange()),i.set(e),r.unmap(),r}class r{constructor(e,t,n){function r(t,r){const i=e.accessors[t],a=e.bufferViews[i.bufferView],s=(a.byteOffset||0)+(i.byteOffset||0);let o=a.byteStride/4;o=o>r?o:r;const c=function(e,t,n,r){switch(e){case 5120:case"BYTE":return new Int8Array(t,n,r);case 5121:case"UNSIGNED_BYTE":return new Uint8Array(t,n,r);case 5122:case"SHORT":return new Int16Array(t,n,r);case 5123:case"UNSIGNED_SHORT":return new Uint16Array(t,n,r);case 5125:case"UNSIGNED_INT":return new Uint32Array(t,n,r);case 5126:case"FLOAT":return new Float32Array(t,n,r);default:throw new Error("invalid component type")}}(i.componentType,n,s,i.count*o);if(o>r){const e=new(0,c.constructor)(i.count*r);for(let t=0,n=0;t<e.length;t+=r,n+=o)for(let i=0;i<r;i+=1)e[t+i]=c[n+i];return e}return c}this.material=e.materials[t.material],this.indexCount=e.accessors[t.indices].count,this.indices=function(e){if(e instanceof Uint16Array||e instanceof Uint32Array)return e;let t;return t=e instanceof Float32Array?new Uint32Array(e.length):new Uint16Array(e.length),e.forEach(((e,n)=>{t[n]=e})),t}(r(t.indices,1)),this.positions=r(t.attributes.POSITION,3),this.normals=r(t.attributes.NORMAL,3),void 0!==t.attributes.TEXCOORD_0&&(this.uvs=r(t.attributes.TEXCOORD_0,2)),void 0!==t.attributes.TANGENT&&(this.tangents=r(t.attributes.TANGENT,4))}}var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};class a{constructor(e,t,n){this.scenes=e.scenes,this.scene=e.scene,this.nodes=e.nodes,this.cameras=e.cameras,this.meshes=t,this.images=n}}var s=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array;function c(){var e=new o(16);return o!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function l(e,t,n){var r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],l=t[6],u=t[7],h=t[8],d=t[9],f=t[10],m=t[11],p=t[12],v=t[13],g=t[14],x=t[15],y=n[0],b=n[1],w=n[2],T=n[3];return e[0]=y*r+b*o+w*h+T*p,e[1]=y*i+b*c+w*d+T*v,e[2]=y*a+b*l+w*f+T*g,e[3]=y*s+b*u+w*m+T*x,y=n[4],b=n[5],w=n[6],T=n[7],e[4]=y*r+b*o+w*h+T*p,e[5]=y*i+b*c+w*d+T*v,e[6]=y*a+b*l+w*f+T*g,e[7]=y*s+b*u+w*m+T*x,y=n[8],b=n[9],w=n[10],T=n[11],e[8]=y*r+b*o+w*h+T*p,e[9]=y*i+b*c+w*d+T*v,e[10]=y*a+b*l+w*f+T*g,e[11]=y*s+b*u+w*m+T*x,y=n[12],b=n[13],w=n[14],T=n[15],e[12]=y*r+b*o+w*h+T*p,e[13]=y*i+b*c+w*d+T*v,e[14]=y*a+b*l+w*f+T*g,e[15]=y*s+b*u+w*m+T*x,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var u=l;function h(e,t,n){return`\n\n  [[block]] struct Camera\n  {\n      projView: mat4x4<f32>;\n  };\n  [[group(0), binding(0)]] var<uniform> camera: Camera;\n\n  struct Model {\n      matrix: mat4x4<f32>;\n      invTr: mat4x4<f32>;\n  };\n  [[block]] struct Models\n  {\n      model: [[stride(128)]] array<Model, ${e}>;\n  };\n  [[group(1), binding(0)]] var<uniform> models: Models;\n\n  struct VertexOutput\n  {\n      [[builtin(position)]] Position: vec4<f32>;\n      [[location(0)]] normal: vec3<f32>;\n      [[location(1)]] worldPos: vec3<f32>;\n      ${t?"[[location(2)]] uv: vec2<f32>;":""}\n      ${n?"[[location(3)]] tangent: vec3<f32>;":""}\n      ${n?"[[location(4)]] bitangent: vec3<f32>;":""}\n  };\n\n  [[stage(vertex)]]\n  fn main([[builtin(instance_index)]] instanceIndex : u32,\n          [[location(0)]] pos: vec3<f32>,\n          [[location(1)]] normal: vec3<f32>,\n          ${t?"[[location(2)]] uv: vec2<f32>,":""}\n          ${n?"[[location(3)]] tangent: vec4<f32>,":""})\n          -> VertexOutput\n  {\n      let model = models.model[instanceIndex];\n      var v: VertexOutput;\n      v.Position = camera.projView * model.matrix * vec4<f32>(pos, 1.0);\n      v.normal = normalize((model.invTr * vec4<f32>(normal, 0.0)).xyz);\n      v.worldPos = (model.matrix * vec4<f32>(pos, 1.0)).xyz;\n      ${t?"v.uv = uv;":""}\n      ${n?"\n      v.tangent = normalize((model.matrix * vec4<f32>(tangent.xyz, 0.0)).xyz);\n      v.bitangent = cross(v.normal, v.tangent) * tangent.w;\n      /* wgsl */ ":""}\n      return v;\n  }\n  `}function d(e,n,r){const{baseColorTexture:i,metallicRoughnessTexture:a,metallicFactor:s,roughnessFactor:o}=e.pbrMetallicRoughness;let{baseColorFactor:c}=e.pbrMetallicRoughness;c=c||[1,1,1,1];const{normalTexture:l,occlusionTexture:u,emissiveTexture:h}=e;let{emissiveFactor:d}=e;d=d||[0,0,0];let{alphaCutoff:f}=e;return f=void 0!==f?f:.5,`\n\n  [[block]] struct Camera\n  {\n      eye: vec3<f32>;\n  };\n  [[group(0), binding(1)]] var<uniform> camera: Camera;\n\n  ${i?"\n  [[group(1), binding(1)]] var texSampler: sampler;\n  [[group(1), binding(2)]] var tex: texture_2d<f32>;\n  /* wgsl */ ":""}\n  ${a?"\n  [[group(1), binding(3)]] var metalRoughSampler: sampler;\n  [[group(1), binding(4)]] var metalRoughTex: texture_2d<f32>;\n  /* wgsl */ ":""}\n  ${l?"\n  [[group(1), binding(5)]] var normalSampler: sampler;\n  [[group(1), binding(6)]] var normalTex: texture_2d<f32>;\n  /* wgsl */ ":""}\n  ${u?"\n  [[group(1), binding(7)]] var occlusionSampler: sampler;\n  [[group(1), binding(8)]] var occlusionTex: texture_2d<f32>;\n  /* wgsl */ ":""}\n  ${h?"\n  [[group(1), binding(9)]] var emissiveSampler: sampler;\n  [[group(1), binding(10)]] var emissiveTex: texture_2d<f32>;\n  /* wgsl */ ":""}\n\n  let pi: f32 = 3.141592653589793;\n\n  fn blinnPhong(color: vec3<f32>,\n           l: vec3<f32>,\n           v: vec3<f32>,\n           n: vec3<f32>) -> vec3<f32>\n  {\n      let specExp = 64.0;\n      let intensity = 0.5;\n      let ambient = 0.5;\n\n      let diffuse = max(dot(n, l), 0.0);\n      let specular = pow(max(dot(n, normalize(l + v)), 0.0), specExp);\n\n      return color * ((diffuse + specular) * intensity + ambient);\n  }\n\n  fn brdf(color: vec3<f32>,\n          metallic: f32,\n          roughness: f32,\n          l: vec3<f32>,\n          v: vec3<f32>,\n          n: vec3<f32>) -> vec3<f32>\n  {\n      let h = normalize(l + v);\n      let ndotl = clamp(dot(n, l), 0.0, 1.0);\n      let ndotv = abs(dot(n, v));\n      let ndoth = clamp(dot(n, h), 0.0, 1.0);\n      let vdoth = clamp(dot(v, h), 0.0, 1.0);\n\n      let f0 = vec3<f32>(0.04);\n      let diffuseColor = color * (1.0 - f0) * (1.0 - metallic);\n      let specularColor = mix(f0, color, metallic);\n\n      let reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n      let reflectance0 = specularColor;\n      let reflectance9 = vec3<f32>(clamp(reflectance * 25.0, 0.0, 1.0));\n      let f = reflectance0 + (reflectance9 - reflectance0) * pow(1.0 - vdoth, 5.0);\n\n      let r2 = roughness * roughness;\n      let r4 = r2 * r2;\n      let attenuationL = 2.0 * ndotl / (ndotl + sqrt(r4 + (1.0 - r4) * ndotl * ndotl));\n      let attenuationV = 2.0 * ndotv / (ndotv + sqrt(r4 + (1.0 - r4) * ndotv * ndotv));\n      let g = attenuationL * attenuationV;\n\n      let temp = ndoth * ndoth * (r2 - 1.0) + 1.0;\n      let d = r2 / (pi * temp * temp);\n\n      let diffuse = (1.0 - f) / pi * diffuseColor;\n      let specular = max(f * g * d / (4.0 * ndotl * ndotv), vec3<f32>(0.0));\n      let intensity = 2.5;\n      let ambient = 0.4;\n      return ndotl * (diffuse + specular) * intensity + color * ambient;\n  }\n\n  [[stage(fragment)]]\n  fn main([[location(0)]] vNormal: vec3<f32>,\n          [[location(1)]] worldPos: vec3<f32>,\n          ${n?"[[location(2)]] uv: vec2<f32>,":""}\n          ${r?"[[location(3)]] tangent: vec3<f32>,":""}\n          ${r?"[[location(4)]] bitangent: vec3<f32>,":""})\n          -> [[location(0)]] vec4<f32>\n  {\n      let lightPos = vec3<f32>(200.0, 400.0, 300.0);\n\n      var color = vec4<f32>(${t(c[0])},\n                            ${t(c[1])},\n                            ${t(c[2])},\n                            ${t(c[3])});\n      ${i?"color = color * textureSample(tex, texSampler, uv);":""}\n      ${"MASK"===e.alphaMode?`\n      if (color.a < ${t(f)})\n      {\n        discard;\n      }\n      /* wgsl */ `:""}\n\n      var metallic: f32 = ${t(s)};\n      var roughness: f32 = ${t(o)};\n      ${a?"\n      let metalRough = textureSample(metalRoughTex, metalRoughSampler, uv);\n      metallic = metallic * metalRough.b;\n      roughness = roughness * metalRough.g;\n      /* wgsl */ ":""}\n      roughness = clamp(roughness, 0.04, 1.0);\n\n      let lightDir = normalize(lightPos - worldPos);\n      let viewDir = normalize(camera.eye - worldPos);\n\n      ${l&&r?"\n      var normal = textureSample(normalTex, normalSampler, uv).rgb;\n      normal = normal * 2.0 - 1.0;\n      normal = normal.x * tangent + normal.y * bitangent + normal.z * vNormal;\n      normal = normalize(normal);\n      /* wgsl */ ":"\n      var normal = normalize(vNormal);\n      /* wgsl */ "}\n      ${e.doubleSided?"\n      if (dot(normal, viewDir) < 0.0) {\n        normal = -normal;\n      }\n      /* wgsl */ ":""}\n\n      ${u?"let ao = textureSample(occlusionTex, occlusionSampler, uv).r;":"let ao = 1.0;"}\n      var emissive = vec3<f32>(${t(d[0])},\n                               ${t(d[1])},\n                               ${t(d[2])});\n      ${h?"emissive = emissive * textureSample(emissiveTex, emissiveSampler, uv).rgb;":""}\n\n      return vec4<f32>(brdf(color.rgb, metallic, roughness, lightDir, viewDir, normal) * ao + emissive, color.a);\n  }\n  `}class f{constructor(e,t){this.isTransparent=!1,this.indexCount=e.indexCount,this.indexFormat=e.indices instanceof Uint16Array?"uint16":"uint32",this.positions=n(e.positions,GPUBufferUsage.VERTEX,t),this.normals=n(e.normals,GPUBufferUsage.VERTEX,t),this.indices=n(e.indices,GPUBufferUsage.INDEX,t),this.uvs=e.uvs?n(e.uvs,GPUBufferUsage.VERTEX,t):null,this.tangents=e.tangents?n(e.tangents,GPUBufferUsage.VERTEX,t):null}draw(e,t){e.setPipeline(this.pipeline),e.setVertexBuffer(0,this.positions),e.setVertexBuffer(1,this.normals),this.uvs&&e.setVertexBuffer(2,this.uvs),this.tangents&&e.setVertexBuffer(3,this.tangents),e.setIndexBuffer(this.indices,this.indexFormat),e.setBindGroup(1,this.uniformBindGroup),e.drawIndexed(this.indexCount,t)}}class m{constructor(e,t,r,i){this.meshes={},this.textures={};const a=r.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{}},{binding:1,visibility:GPUShaderStage.FRAGMENT,buffer:{}}]}),s=r.createBuffer({size:64,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),u=r.createBuffer({size:12,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});this.camera={projViewBuffer:s,eyeBuffer:u,bindGroup:r.createBindGroup({layout:a,entries:[{binding:0,resource:{buffer:s}},{binding:1,resource:{buffer:u}}]})};const m=(t,n=c())=>{var i;const a=(s=n,(u=new o(16))[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[3],u[4]=s[4],u[5]=s[5],u[6]=s[6],u[7]=s[7],u[8]=s[8],u[9]=s[9],u[10]=s[10],u[11]=s[11],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15],u);var s,u;if(t.matrix)l(a,a,t.matrix);else{if(t.translation&&function(e,t,n){var r,i,a,s,o,c,l,u,h,d,f,m,p=n[0],v=n[1],g=n[2];t===e?(e[12]=t[0]*p+t[4]*v+t[8]*g+t[12],e[13]=t[1]*p+t[5]*v+t[9]*g+t[13],e[14]=t[2]*p+t[6]*v+t[10]*g+t[14],e[15]=t[3]*p+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],c=t[5],l=t[6],u=t[7],h=t[8],d=t[9],f=t[10],m=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=c,e[6]=l,e[7]=u,e[8]=h,e[9]=d,e[10]=f,e[11]=m,e[12]=r*p+o*v+h*g+t[12],e[13]=i*p+c*v+d*g+t[13],e[14]=a*p+l*v+f*g+t[14],e[15]=s*p+u*v+m*g+t[15])}(a,a,t.translation),t.rotation){const e=c();!function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=n+n,o=r+r,c=i+i,l=n*s,u=r*s,h=r*o,d=i*s,f=i*o,m=i*c,p=a*s,v=a*o,g=a*c;e[0]=1-h-m,e[1]=u+g,e[2]=d-v,e[3]=0,e[4]=u-g,e[5]=1-l-m,e[6]=f+p,e[7]=0,e[8]=d+v,e[9]=f-p,e[10]=1-l-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e,t.rotation),l(a,a,e)}t.scale&&function(e,t,n){var r=n[0],i=n[1],a=n[2];e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]}(a,a,t.scale)}if(void 0!==t.mesh){const n=c();!function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],s=t[4],o=t[5],c=t[6],l=t[7],u=t[8],h=t[9],d=t[10],f=t[11],m=t[12],p=t[13],v=t[14],g=t[15],x=n*o-r*s,y=n*c-i*s,b=n*l-a*s,w=r*c-i*o,T=r*l-a*o,E=i*l-a*c,M=u*p-h*m,P=u*v-d*m,U=u*g-f*m,R=h*v-d*p,A=h*g-f*p,S=d*g-f*v,B=x*S-y*A+b*R+w*U-T*P+E*M;B&&(B=1/B,e[0]=(o*S-c*A+l*R)*B,e[1]=(i*A-r*S-a*R)*B,e[2]=(p*E-v*T+g*w)*B,e[3]=(d*T-h*E-f*w)*B,e[4]=(c*U-s*S-l*P)*B,e[5]=(n*S-i*U+a*P)*B,e[6]=(v*b-m*E-g*y)*B,e[7]=(u*E-d*b+f*y)*B,e[8]=(s*A-o*U+l*M)*B,e[9]=(r*U-n*A-a*M)*B,e[10]=(m*T-p*b+g*x)*B,e[11]=(h*b-u*T-f*x)*B,e[12]=(o*P-s*R-c*M)*B,e[13]=(n*R-r*P+i*M)*B,e[14]=(p*y-m*w-v*x)*B,e[15]=(u*w-h*y+d*x)*B)}(n,a),function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(n,n),this.meshes[t.mesh]?(this.meshes[t.mesh].matrices.push(a),this.meshes[t.mesh].matrices.push(n)):this.meshes[t.mesh]={matrices:[a,n],matrixBuffer:void 0,primitives:e.meshes[t.mesh].map((e=>new f(e,r)))}}null===(i=t.children)||void 0===i||i.forEach((t=>m(e.nodes[t],a)))};e.scenes[t].nodes.forEach((t=>{m(e.nodes[t])})),Object.entries(this.meshes).forEach((([t,s])=>{s.matrixBuffer=n(function(e){let t=0;e.forEach((e=>{t+=e.length}));const n=new Float32Array(t);return t=0,e.forEach((e=>{n.set(e,t),t+=e.length})),n}(s.matrices),GPUBufferUsage.UNIFORM,r),s.primitives.forEach(((n,o)=>{const{material:c}=e.meshes[Number(t)][o],{baseColorTexture:l,metallicRoughnessTexture:u}=c.pbrMetallicRoughness,{normalTexture:f,occlusionTexture:m,emissiveTexture:p}=c,v=[l,u,f,m,p];n.isTransparent="BLEND"===c.alphaMode,v.forEach((t=>{t&&!this.textures[t.index]&&(this.textures[t.index]=r.createTexture({size:[e.images[t.index].width,e.images[t.index].height,1],format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT}),r.queue.copyExternalImageToTexture({source:e.images[t.index]},{texture:this.textures[t.index]},[e.images[t.index].width,e.images[t.index].height]))})),n.pipeline=function(e,t,n,r,i,a,s){const{baseColorTexture:o,metallicRoughnessTexture:c}=n.pbrMetallicRoughness,{normalTexture:l,occlusionTexture:u,emissiveTexture:f}=n,m=[o,c,l,u,f];function p(e,t){return{attributes:[{shaderLocation:e,offset:0,format:`float32x${t}`}],arrayStride:4*t}}const v=[p(0,3),p(1,3)];r&&v.push(p(2,2)),i&&v.push(p(3,4));const g=[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{}}];return m.forEach(((e,t)=>{e&&(g.push({binding:2*t+1,visibility:GPUShaderStage.FRAGMENT,sampler:{}}),g.push({binding:2*t+2,visibility:GPUShaderStage.FRAGMENT,texture:{}}))})),e.createRenderPipeline({layout:e.createPipelineLayout({bindGroupLayouts:[s,e.createBindGroupLayout({entries:g})]}),vertex:{module:e.createShaderModule({code:h(a,r,i)}),entryPoint:"main",buffers:v},fragment:{module:e.createShaderModule({code:d(n,r,i)}),entryPoint:"main",targets:[{format:t,blend:{color:"BLEND"!==n.alphaMode?{operation:"add",srcFactor:"one",dstFactor:"zero"}:{operation:"add",srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha"},alpha:"BLEND"!==n.alphaMode?{operation:"add",srcFactor:"zero",dstFactor:"one"}:{operation:"add",srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha"}}}]},primitive:{topology:"triangle-list",cullMode:n.doubleSided?"none":"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}})}(r,i,c,null!==n.uvs,null!==n.tangents,s.matrices.length/2,a);const g=[{binding:0,resource:{buffer:s.matrixBuffer}}];v.forEach(((e,t)=>{e&&(g.push({binding:2*t+1,resource:r.createSampler({addressModeU:"repeat",addressModeV:"repeat",magFilter:"linear",minFilter:"linear"})}),g.push({binding:2*t+2,resource:this.textures[e.index].createView()}))})),n.uniformBindGroup=r.createBindGroup({layout:n.pipeline.getBindGroupLayout(1),entries:g})}))}))}destroy(){Object.entries(this.meshes).forEach((([,e])=>{e.matrixBuffer.destroy(),e.primitives.forEach((e=>{var t;e.indices.destroy(),e.positions.destroy(),e.normals.destroy(),null===(t=e.uvs)||void 0===t||t.destroy()}))})),Object.entries(this.textures).forEach((([,e])=>e.destroy()))}}function p(){var e=new o(3);return o!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function v(e,t,n){var r=new o(3);return r[0]=e,r[1]=t,r[2]=n,r}p();const g=p(),x=v(0,1,0);class y{constructor(t){this.radius=3,this.theta=0,this.phi=0,this.proj=c(),this.view=c(),this.eye=v(0,0,3),this.projView=c(),this.canvas=t;const n=t.clientWidth/t.clientHeight;(function(e,t,n,r,i){var a,s=1/Math.tan(t/2);e[0]=s/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(r-i),e[10]=(i+r)*a,e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r)})(this.proj,Math.PI/3,n,.01,1/0),this.update(),window.addEventListener("resize",(()=>{this.proj[0]=1/(Math.tan(Math.PI/6)*(t.clientWidth/t.clientHeight)),u(this.projView,this.proj,this.view)}));let r=!1;this.canvas.onmousedown=()=>{r=!0},this.canvas.onmouseup=()=>{r=!1},this.canvas.onmousemove=t=>{r&&(this.theta-=t.movementX/window.innerWidth*Math.PI*2,this.phi=e(this.phi-t.movementY/window.innerHeight*Math.PI,-Math.PI/2+.1,Math.PI/2-.1),this.update())},this.canvas.onwheel=t=>{this.radius=e(this.radius+.002*t.deltaY,.01,1/0),this.update()}}update(){var e,t,n,r,i,a;this.eye=v(0,0,this.radius),e=this.eye,t=this.eye,n=g,r=this.phi,a=[],(i=[])[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],function(e,t,n,r){var i=[],a=[];i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2]}(this.eye,this.eye,g,this.theta),function(e,t,n,r){var i,a,o,c,l,u,h,d,f,m,p=t[0],v=t[1],g=t[2],x=r[0],y=r[1],b=r[2],w=n[0],T=n[1],E=n[2];Math.abs(p-w)<s&&Math.abs(v-T)<s&&Math.abs(g-E)<s?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(h=p-w,d=v-T,f=g-E,i=y*(f*=m=1/Math.hypot(h,d,f))-b*(d*=m),a=b*(h*=m)-x*f,o=x*d-y*h,(m=Math.hypot(i,a,o))?(i*=m=1/m,a*=m,o*=m):(i=0,a=0,o=0),c=d*o-f*a,l=f*i-h*o,u=h*a-d*i,(m=Math.hypot(c,l,u))?(c*=m=1/m,l*=m,u*=m):(c=0,l=0,u=0),e[0]=i,e[1]=c,e[2]=h,e[3]=0,e[4]=a,e[5]=l,e[6]=d,e[7]=0,e[8]=o,e[9]=u,e[10]=f,e[11]=0,e[12]=-(i*p+a*v+o*g),e[13]=-(c*p+l*v+u*g),e[14]=-(h*p+d*v+f*g),e[15]=1)}(this.view,this.eye,g,x),u(this.projView,this.proj,this.view)}reset(){this.radius=3,this.theta=0,this.phi=0,this.update()}}var b=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};class w{constructor(e,t,n,r){this.canvas=e,this.device=t,this.context=n,this.contextFormat=r;let i=t.createTexture({size:[e.clientWidth*devicePixelRatio,e.clientHeight*devicePixelRatio],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT});this.renderPassDesc={colorAttachments:[],depthStencilAttachment:{view:i.createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}},window.addEventListener("resize",(()=>{const a=[e.clientWidth*devicePixelRatio,e.clientHeight*devicePixelRatio];n.configure({device:t,format:r,size:a}),i.destroy(),i=t.createTexture({size:a,format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT}),this.renderPassDesc.depthStencilAttachment.view=i.createView()})),this.camera=new y(e)}render(){const e=()=>{const t=this.device.createCommandEncoder();this.renderPassDesc.colorAttachments=[{view:this.context.getCurrentTexture().createView(),loadValue:{r:.3,g:.5,b:.7,a:1},storeOp:"store"}];const n=t.beginRenderPass(this.renderPassDesc),r=this.camera.projView;this.device.queue.writeBuffer(this.scene.camera.projViewBuffer,0,r.buffer,r.byteOffset,r.byteLength);const i=this.camera.eye;this.device.queue.writeBuffer(this.scene.camera.eyeBuffer,0,i.buffer,i.byteOffset,i.byteLength),n.setBindGroup(0,this.scene.camera.bindGroup),Object.entries(this.scene.meshes).forEach((([,e])=>{e.primitives.forEach((t=>{t.isTransparent||t.draw(n,e.matrices.length/2)}))})),Object.entries(this.scene.meshes).forEach((([,e])=>{e.primitives.forEach((t=>{t.isTransparent&&t.draw(n,e.matrices.length/2)}))})),n.endPass(),this.device.queue.submit([t.finish()]),requestAnimationFrame(e)};requestAnimationFrame(e)}load(e){var t;return b(this,void 0,void 0,(function*(){this.gltf=yield function(e){return i(this,void 0,void 0,(function*(){const t=e.substring(0,e.lastIndexOf("/")),n=yield function(e){return new Promise((t=>{const n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET",e),n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&t(JSON.parse(n.responseText))},n.send(null)}))}(e);let s;const o=Promise.all(n.buffers.map((e=>function(e){return new Promise((t=>{const n=new XMLHttpRequest;n.responseType="arraybuffer",n.open("GET",e),n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&t(n.response)},n.send(null)}))}(`${t}/${e.uri}`)))).then((e=>{s=function(e,t){return e.meshes.map((n=>n.primitives.map((n=>new r(e,n,t)))))}(n,e[0])})),c=[];let l=Promise.resolve();return n.images&&(l=Promise.all(n.images.map(((e,n)=>function(e){return i(this,void 0,void 0,(function*(){const t=new Image;return t.crossOrigin="Anonymous",t.src=e,yield t.decode(),createImageBitmap(t)}))}(`${t}/${e.uri}`).then((e=>{c[n]=e})))))),Promise.all([o,l]).then((()=>new a(n,s,c)))}))}(e),null===(t=this.scene)||void 0===t||t.destroy(),this.scene=new m(this.gltf,this.gltf.scene,this.device,this.contextFormat),this.camera.reset(),this.render()}))}}const T=document.getElementById("webgpu-canvas"),E=document.getElementById("model-select");let M;E.onchange=()=>M.load(E.value),fetch("https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/model-index.json").then((e=>e.json())).then((e=>{e.forEach((e=>{return t=void 0,n=void 0,i=function*(){const t=document.createElement("option");t.innerHTML=e.name,t.value=`https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/${e.name}/glTF/${e.name}.gltf`,E.add(t),"DamagedHelmet"===e.name&&(E.value=t.value,M=yield function(e){return b(this,void 0,void 0,(function*(){const t=navigator.gpu;if(!t)throw new Error("WebGPU is not supported on this browser.");const n=yield t.requestAdapter(),r=yield n.requestDevice(),i=e.getContext("webgpu"),a=i.getPreferredFormat(n);return i.configure({device:r,format:a,size:[e.clientWidth*devicePixelRatio,e.clientHeight*devicePixelRatio]}),new w(e,r,i,a)}))}(T),M.load(E.value))},new((r=void 0)||(r=Promise))((function(e,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,o)}c((i=i.apply(t,n||[])).next())}));var t,n,r,i}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDakJ4VSxPQUFBQSxFQUNBcU4sT0FBQUEsRUFDQWxOLEtBQU0sQ0FDSmtRLEVBQU9TLFlBQWNrRCxpQkFDckIzRCxFQUFPVSxhQUFlaUQsb0JBR25CLElBQUlILEVBQVN4RCxFQUFRclEsRUFBUThULEVBQVV6RyxNQ3JJdkI0TCxDQUFlNUksR0FDaEN5SCxFQUFTdkMsS0FBSyxFQUFPeUMsUyxZQVJnQixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vc3JjL3V0aWwudHMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vc3JjL2xvYWRlci9tZXNoLnRzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9sb2FkZXIvZ2x0Zi50cyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9zcmMvc2hhZGVycy92ZXJ0Lndnc2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vc3JjL3NoYWRlcnMvZnJhZy53Z3NsLnRzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9yZW5kZXJlci9wcmltaXRpdmUudHMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vc3JjL3JlbmRlcmVyL3NjZW5lLnRzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9yZW5kZXJlci9waXBlbGluZS50cyIsIndlYnBhY2s6Ly93ZWJncHUtZ2x0Zi12aWV3ZXIvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9yZW5kZXJlci9jYW1lcmEudHMiLCJ3ZWJwYWNrOi8vd2ViZ3B1LWdsdGYtdmlld2VyLy4vc3JjL3JlbmRlcmVyL3JlbmRlcmVyLnRzIiwid2VicGFjazovL3dlYmdwdS1nbHRmLXZpZXdlci8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2xhbXAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9GbG9hdChudW06IG51bWJlciB8IHVuZGVmaW5lZCwgZGVmYXVsdFZhbHVlID0gMSkge1xuICBjb25zdCBuID0gbnVtICE9PSB1bmRlZmluZWQgPyBudW0gOiBkZWZhdWx0VmFsdWU7XG4gIGlmIChOdW1iZXIuaXNJbnRlZ2VyKG4pKSB7XG4gICAgcmV0dXJuIGAke259LjBgO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG5leHBvcnQgdHlwZSBUeXBlZEFycmF5ID1cbiAgfCBJbnQ4QXJyYXlcbiAgfCBVaW50OEFycmF5XG4gIHwgSW50MTZBcnJheVxuICB8IFVpbnQxNkFycmF5XG4gIHwgVWludDMyQXJyYXlcbiAgfCBGbG9hdDMyQXJyYXk7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdUeXBlZEFycmF5KFxuICB0eXBlOiBzdHJpbmcgfCBudW1iZXIsXG4gIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXG4gIGJ5dGVPZmZzZXQ6IG51bWJlcixcbiAgbGVuZ3RoOiBudW1iZXJcbikge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIDUxMjA6XG4gICAgY2FzZSAnQllURSc6XG4gICAgICByZXR1cm4gbmV3IEludDhBcnJheShidWZmZXIsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gICAgY2FzZSA1MTIxOlxuICAgIGNhc2UgJ1VOU0lHTkVEX0JZVEUnOlxuICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgICBjYXNlIDUxMjI6XG4gICAgY2FzZSAnU0hPUlQnOlxuICAgICAgcmV0dXJuIG5ldyBJbnQxNkFycmF5KGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgICBjYXNlIDUxMjM6XG4gICAgY2FzZSAnVU5TSUdORURfU0hPUlQnOlxuICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheShidWZmZXIsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gICAgY2FzZSA1MTI1OlxuICAgIGNhc2UgJ1VOU0lHTkVEX0lOVCc6XG4gICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgICBjYXNlIDUxMjY6XG4gICAgY2FzZSAnRkxPQVQnOlxuICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgY29tcG9uZW50IHR5cGUnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9JbmRleEFycmF5KGFycmF5OiBUeXBlZEFycmF5KTogVWludDE2QXJyYXkgfCBVaW50MzJBcnJheSB7XG4gIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5IHx8IGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgbGV0IHRvQXJyYXk7XG4gIGlmIChhcnJheSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkge1xuICAgIHRvQXJyYXkgPSBuZXcgVWludDMyQXJyYXkoYXJyYXkubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICB0b0FycmF5ID0gbmV3IFVpbnQxNkFycmF5KGFycmF5Lmxlbmd0aCk7XG4gIH1cbiAgYXJyYXkuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICB0b0FycmF5W2luZGV4XSA9IGVsZW1lbnQ7XG4gIH0pO1xuICByZXR1cm4gdG9BcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5BcnJheShhcnJheXM6IEFycmF5PEZsb2F0MzJBcnJheT4pIHtcbiAgbGV0IGxlbmd0aCA9IDA7XG4gIGFycmF5cy5mb3JFYWNoKChhcnJheSkgPT4ge1xuICAgIGxlbmd0aCArPSBhcnJheS5sZW5ndGg7XG4gIH0pO1xuICBjb25zdCBqb2luZWQgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gIGxlbmd0aCA9IDA7XG4gIGFycmF5cy5mb3JFYWNoKChhcnJheSkgPT4ge1xuICAgIGpvaW5lZC5zZXQoYXJyYXksIGxlbmd0aCk7XG4gICAgbGVuZ3RoICs9IGFycmF5Lmxlbmd0aDtcbiAgfSk7XG4gIHJldHVybiBqb2luZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHUFVCdWZmZXIoXG4gIGFycmF5OiBUeXBlZEFycmF5LFxuICB1c2FnZTogbnVtYmVyLFxuICBkZXZpY2U6IEdQVURldmljZVxuKSB7XG4gIGNvbnN0IGJ1ZmZlciA9IGRldmljZS5jcmVhdGVCdWZmZXIoe1xuICAgIHNpemU6IChhcnJheS5ieXRlTGVuZ3RoICsgMykgJiB+MywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1iaXR3aXNlXG4gICAgdXNhZ2UsXG4gICAgbWFwcGVkQXRDcmVhdGlvbjogdHJ1ZSxcbiAgfSk7XG4gIGxldCB3cml0ZUFyYXJ5O1xuICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpIHtcbiAgICB3cml0ZUFyYXJ5ID0gbmV3IEludDhBcnJheShidWZmZXIuZ2V0TWFwcGVkUmFuZ2UoKSk7XG4gIH0gZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgd3JpdGVBcmFyeSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5nZXRNYXBwZWRSYW5nZSgpKTtcbiAgfSBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIEludDE2QXJyYXkpIHtcbiAgICB3cml0ZUFyYXJ5ID0gbmV3IEludDE2QXJyYXkoYnVmZmVyLmdldE1hcHBlZFJhbmdlKCkpO1xuICB9IGVsc2UgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpIHtcbiAgICB3cml0ZUFyYXJ5ID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlci5nZXRNYXBwZWRSYW5nZSgpKTtcbiAgfSBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KSB7XG4gICAgd3JpdGVBcmFyeSA9IG5ldyBVaW50MzJBcnJheShidWZmZXIuZ2V0TWFwcGVkUmFuZ2UoKSk7XG4gIH0gZWxzZSB7XG4gICAgd3JpdGVBcmFyeSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyLmdldE1hcHBlZFJhbmdlKCkpO1xuICB9XG4gIHdyaXRlQXJhcnkuc2V0KGFycmF5KTtcbiAgYnVmZmVyLnVubWFwKCk7XG4gIHJldHVybiBidWZmZXI7XG59XG4iLCJpbXBvcnQgeyBuZXdUeXBlZEFycmF5LCB0b0luZGV4QXJyYXksIFR5cGVkQXJyYXkgfSBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGNsYXNzIEdMVEZQcmltaXRpdmUge1xuICBpbmRleENvdW50OiBudW1iZXI7XG5cbiAgaW5kaWNlczogVWludDE2QXJyYXkgfCBVaW50MzJBcnJheTtcblxuICBwb3NpdGlvbnM6IFR5cGVkQXJyYXk7XG5cbiAgbm9ybWFsczogVHlwZWRBcnJheTtcblxuICB1dnM/OiBUeXBlZEFycmF5O1xuXG4gIHRhbmdlbnRzPzogVHlwZWRBcnJheTtcblxuICBtYXRlcmlhbDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGpzb246IGFueSwgcHJpbWl0aXZlOiBhbnksIGJ1ZmZlcjogQXJyYXlCdWZmZXIpIHtcbiAgICB0aGlzLm1hdGVyaWFsID0ganNvbi5tYXRlcmlhbHNbcHJpbWl0aXZlLm1hdGVyaWFsXTtcbiAgICB0aGlzLmluZGV4Q291bnQgPSBqc29uLmFjY2Vzc29yc1twcmltaXRpdmUuaW5kaWNlc10uY291bnQ7XG5cbiAgICBmdW5jdGlvbiBnZXRBcnJheShpZHg6IG51bWJlciwgbjogbnVtYmVyKSB7XG4gICAgICBjb25zdCBhY2Nlc3NvciA9IGpzb24uYWNjZXNzb3JzW2lkeF07XG4gICAgICBjb25zdCBidWZmZXJWaWV3ID0ganNvbi5idWZmZXJWaWV3c1thY2Nlc3Nvci5idWZmZXJWaWV3XTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IChidWZmZXJWaWV3LmJ5dGVPZmZzZXQgfHwgMCkgKyAoYWNjZXNzb3IuYnl0ZU9mZnNldCB8fCAwKTtcbiAgICAgIGxldCBzdHJpZGUgPSBidWZmZXJWaWV3LmJ5dGVTdHJpZGUgLyA0O1xuICAgICAgc3RyaWRlID0gc3RyaWRlID4gbiA/IHN0cmlkZSA6IG47XG5cbiAgICAgIGNvbnN0IGFycmF5ID0gbmV3VHlwZWRBcnJheShcbiAgICAgICAgYWNjZXNzb3IuY29tcG9uZW50VHlwZSxcbiAgICAgICAgYnVmZmVyLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGFjY2Vzc29yLmNvdW50ICogc3RyaWRlXG4gICAgICApO1xuXG4gICAgICBpZiAoc3RyaWRlID4gbikge1xuICAgICAgICBjb25zdCBUeXBlZEFycmF5Q29uc3RydWN0b3IgPSBhcnJheS5jb25zdHJ1Y3RvciBhcyB7XG4gICAgICAgICAgbmV3ICguLi5hcmdzOiBhbnkpOiBUeXBlZEFycmF5O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHJpZGVkID0gbmV3IFR5cGVkQXJyYXlDb25zdHJ1Y3RvcihhY2Nlc3Nvci5jb3VudCAqIG4pO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCBzdHJpZGVkLmxlbmd0aDsgaSArPSBuLCBqICs9IHN0cmlkZSkge1xuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbjsgayArPSAxKSB7XG4gICAgICAgICAgICBzdHJpZGVkW2kgKyBrXSA9IGFycmF5W2ogKyBrXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmlkZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgdGhpcy5pbmRpY2VzID0gdG9JbmRleEFycmF5KGdldEFycmF5KHByaW1pdGl2ZS5pbmRpY2VzLCAxKSk7XG4gICAgdGhpcy5wb3NpdGlvbnMgPSBnZXRBcnJheShwcmltaXRpdmUuYXR0cmlidXRlcy5QT1NJVElPTiwgMyk7XG4gICAgdGhpcy5ub3JtYWxzID0gZ2V0QXJyYXkocHJpbWl0aXZlLmF0dHJpYnV0ZXMuTk9STUFMLCAzKTtcbiAgICBpZiAocHJpbWl0aXZlLmF0dHJpYnV0ZXMuVEVYQ09PUkRfMCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnV2cyA9IGdldEFycmF5KHByaW1pdGl2ZS5hdHRyaWJ1dGVzLlRFWENPT1JEXzAsIDIpO1xuICAgIH1cbiAgICBpZiAocHJpbWl0aXZlLmF0dHJpYnV0ZXMuVEFOR0VOVCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnRhbmdlbnRzID0gZ2V0QXJyYXkocHJpbWl0aXZlLmF0dHJpYnV0ZXMuVEFOR0VOVCwgNCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEdMVEZNZXNoID0gQXJyYXk8R0xURlByaW1pdGl2ZT47XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTWVzaGVzKGpzb246IGFueSwgYnVmZmVyOiBBcnJheUJ1ZmZlcikge1xuICByZXR1cm4ganNvbi5tZXNoZXMubWFwKChtZXNoOiBhbnkpID0+XG4gICAgbWVzaC5wcmltaXRpdmVzLm1hcChcbiAgICAgIChwcmltaXRpdmU6IGFueSkgPT4gbmV3IEdMVEZQcmltaXRpdmUoanNvbiwgcHJpbWl0aXZlLCBidWZmZXIpXG4gICAgKVxuICApO1xufVxuIiwiaW1wb3J0IHsgR0xURk1lc2gsIGxvYWRNZXNoZXMgfSBmcm9tICcuL21lc2gnO1xuXG5mdW5jdGlvbiBsb2FkSnNvbih1cmw6IHN0cmluZykge1xuICByZXR1cm4gbmV3IFByb21pc2U8YW55PigocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IHhvYmogPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4b2JqLm92ZXJyaWRlTWltZVR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB4b2JqLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgeG9iai5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoeG9iai5yZWFkeVN0YXRlID09PSA0ICYmIHhvYmouc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKHhvYmoucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB4b2JqLnNlbmQobnVsbCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkQnVmZmVyKHVybDogc3RyaW5nKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxBcnJheUJ1ZmZlcj4oKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCB4b2JqID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeG9iai5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgIHhvYmoub3BlbignR0VUJywgdXJsKTtcbiAgICB4b2JqLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGlmICh4b2JqLnJlYWR5U3RhdGUgPT09IDQgJiYgeG9iai5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICByZXNvbHZlKHhvYmoucmVzcG9uc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgeG9iai5zZW5kKG51bGwpO1xuICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKHVybDogc3RyaW5nKSB7XG4gIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gIGltYWdlLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XG4gIGltYWdlLnNyYyA9IHVybDtcbiAgYXdhaXQgaW1hZ2UuZGVjb2RlKCk7XG4gIHJldHVybiBjcmVhdGVJbWFnZUJpdG1hcChpbWFnZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBHTFRGIHtcbiAgc2NlbmVzOiBBcnJheTxhbnk+O1xuXG4gIHNjZW5lOiBudW1iZXI7XG5cbiAgbm9kZXM6IEFycmF5PGFueT47XG5cbiAgY2FtZXJhcz86IEFycmF5PGFueT47XG5cbiAgbWVzaGVzOiBBcnJheTxHTFRGTWVzaD47XG5cbiAgaW1hZ2VzOiBBcnJheTxJbWFnZUJpdG1hcD47XG5cbiAgY29uc3RydWN0b3IoanNvbjogYW55LCBtZXNoZXM6IEFycmF5PEdMVEZNZXNoPiwgaW1hZ2VzOiBBcnJheTxJbWFnZUJpdG1hcD4pIHtcbiAgICB0aGlzLnNjZW5lcyA9IGpzb24uc2NlbmVzO1xuICAgIHRoaXMuc2NlbmUgPSBqc29uLnNjZW5lO1xuICAgIHRoaXMubm9kZXMgPSBqc29uLm5vZGVzO1xuICAgIHRoaXMuY2FtZXJhcyA9IGpzb24uY2FtZXJhcztcbiAgICB0aGlzLm1lc2hlcyA9IG1lc2hlcztcbiAgICB0aGlzLmltYWdlcyA9IGltYWdlcztcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEdMVEYodXJsOiBzdHJpbmcpIHtcbiAgY29uc3QgZGlyID0gdXJsLnN1YnN0cmluZygwLCB1cmwubGFzdEluZGV4T2YoJy8nKSk7XG4gIGNvbnN0IGpzb24gPSBhd2FpdCBsb2FkSnNvbih1cmwpO1xuXG4gIGxldCBtZXNoZXM6IEFycmF5PEdMVEZNZXNoPjtcbiAgY29uc3QgbWVzaGVzTG9hZGVkID0gUHJvbWlzZS5hbGwoXG4gICAganNvbi5idWZmZXJzLm1hcCgoYnVmZmVyOiBhbnkpID0+XG4gICAgICBsb2FkQnVmZmVyKGAke2Rpcn0vJHtidWZmZXIudXJpfWApXG4gICAgKSBhcyBBcnJheTxQcm9taXNlPEFycmF5QnVmZmVyPj5cbiAgKS50aGVuKChidWZmZXJzKSA9PiB7XG4gICAgbWVzaGVzID0gbG9hZE1lc2hlcyhqc29uLCBidWZmZXJzWzBdKTtcbiAgfSk7XG5cbiAgY29uc3QgaW1hZ2VzOiBBcnJheTxJbWFnZUJpdG1hcD4gPSBbXTtcbiAgbGV0IGltYWdlc0xvYWRlZDogUHJvbWlzZTxhbnk+ID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIGlmIChqc29uLmltYWdlcykge1xuICAgIGltYWdlc0xvYWRlZCA9IFByb21pc2UuYWxsKFxuICAgICAganNvbi5pbWFnZXMubWFwKChpbWFnZTogYW55LCBpbmRleDogbnVtYmVyKSA9PlxuICAgICAgICBsb2FkSW1hZ2UoYCR7ZGlyfS8ke2ltYWdlLnVyaX1gKS50aGVuKChiaXRNYXApID0+IHtcbiAgICAgICAgICBpbWFnZXNbaW5kZXhdID0gYml0TWFwO1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW21lc2hlc0xvYWRlZCwgaW1hZ2VzTG9hZGVkXSkudGhlbihcbiAgICAoKSA9PiBuZXcgR0xURihqc29uLCBtZXNoZXMsIGltYWdlcylcbiAgKTtcbn1cbiIsIi8qKlxuICogQ29tbW9uIHV0aWxpdGllc1xuICogQG1vZHVsZSBnbE1hdHJpeFxuICovXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xuZXhwb3J0IHZhciBFUFNJTE9OID0gMC4wMDAwMDE7XG5leHBvcnQgdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IEZsb2F0MzJBcnJheSA6IEFycmF5O1xuZXhwb3J0IHZhciBSQU5ET00gPSBNYXRoLnJhbmRvbTtcbi8qKlxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpIHtcbiAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG52YXIgZGVncmVlID0gTWF0aC5QSSAvIDE4MDtcbi8qKlxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXG4gKiBvciByZWxhdGl2ZSB0b2xlcmFuY2Ugb2YgZ2xNYXRyaXguRVBTSUxPTiAoYW4gYWJzb2x1dGUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIHZhbHVlcyBsZXNzXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgVGhlIGZpcnN0IG51bWJlciB0byB0ZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cbmlmICghTWF0aC5oeXBvdCkgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHkgPSAwLFxuICAgICAgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHkgKz0gYXJndW1lbnRzW2ldICogYXJndW1lbnRzW2ldO1xuICB9XG5cbiAgcmV0dXJuIE1hdGguc3FydCh5KTtcbn07IiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxuICogQG1vZHVsZSBtYXQ0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCBhIG1hdDQgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgICAgYTAyID0gYVsyXSxcbiAgICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgICAgYTEzID0gYVs3XTtcbiAgICB2YXIgYTIzID0gYVsxMV07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGEwMTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGEwMjtcbiAgICBvdXRbOV0gPSBhMTI7XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhMDM7XG4gICAgb3V0WzEzXSA9IGExMztcbiAgICBvdXRbMTRdID0gYTIzO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGFbMV07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGFbMl07XG4gICAgb3V0WzldID0gYVs2XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhWzNdO1xuICAgIG91dFsxM10gPSBhWzddO1xuICAgIG91dFsxNF0gPSBhWzExXTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBJbnZlcnRzIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICBvdXRbMF0gPSBhMTEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMik7XG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcbiAgb3V0WzJdID0gYTAxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbM10gPSAtKGEwMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTExICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcbiAgb3V0WzVdID0gYTAwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpO1xuICBvdXRbNl0gPSAtKGEwMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTEwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzhdID0gYTEwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpO1xuICBvdXRbOV0gPSAtKGEwMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSk7XG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XG4gIG91dFsxMV0gPSAtKGEwMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKSk7XG4gIG91dFsxMl0gPSAtKGExMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSk7XG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XG4gIG91dFsxNF0gPSAtKGEwMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKSk7XG4gIG91dFsxNV0gPSBhMDAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICByZXR1cm4gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XG5cbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls0XTtcbiAgYjEgPSBiWzVdO1xuICBiMiA9IGJbNl07XG4gIGIzID0gYls3XTtcbiAgb3V0WzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbNl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls4XTtcbiAgYjEgPSBiWzldO1xuICBiMiA9IGJbMTBdO1xuICBiMyA9IGJbMTFdO1xuICBvdXRbOF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzldID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzExXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbMTJdO1xuICBiMSA9IGJbMTNdO1xuICBiMiA9IGJbMTRdO1xuICBiMyA9IGJbMTVdO1xuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzE0XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDQgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdLFxuICAgICAgeiA9IHZbMl07XG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XG5cbiAgaWYgKGEgPT09IG91dCkge1xuICAgIG91dFsxMl0gPSBhWzBdICogeCArIGFbNF0gKiB5ICsgYVs4XSAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxXSAqIHggKyBhWzVdICogeSArIGFbOV0gKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMl0gKiB4ICsgYVs2XSAqIHkgKyBhWzEwXSAqIHogKyBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVszXSAqIHggKyBhWzddICogeSArIGFbMTFdICogeiArIGFbMTVdO1xuICB9IGVsc2Uge1xuICAgIGEwMCA9IGFbMF07XG4gICAgYTAxID0gYVsxXTtcbiAgICBhMDIgPSBhWzJdO1xuICAgIGEwMyA9IGFbM107XG4gICAgYTEwID0gYVs0XTtcbiAgICBhMTEgPSBhWzVdO1xuICAgIGExMiA9IGFbNl07XG4gICAgYTEzID0gYVs3XTtcbiAgICBhMjAgPSBhWzhdO1xuICAgIGEyMSA9IGFbOV07XG4gICAgYTIyID0gYVsxMF07XG4gICAgYTIzID0gYVsxMV07XG4gICAgb3V0WzBdID0gYTAwO1xuICAgIG91dFsxXSA9IGEwMTtcbiAgICBvdXRbMl0gPSBhMDI7XG4gICAgb3V0WzNdID0gYTAzO1xuICAgIG91dFs0XSA9IGExMDtcbiAgICBvdXRbNV0gPSBhMTE7XG4gICAgb3V0WzZdID0gYTEyO1xuICAgIG91dFs3XSA9IGExMztcbiAgICBvdXRbOF0gPSBhMjA7XG4gICAgb3V0WzldID0gYTIxO1xuICAgIG91dFsxMF0gPSBhMjI7XG4gICAgb3V0WzExXSA9IGEyMztcbiAgICBvdXRbMTJdID0gYTAwICogeCArIGExMCAqIHkgKyBhMjAgKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGEwMSAqIHggKyBhMTEgKiB5ICsgYTIxICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhMDIgKiB4ICsgYTEyICogeSArIGEyMiAqIHogKyBhWzE0XTtcbiAgICBvdXRbMTVdID0gYTAzICogeCArIGExMyAqIHkgKyBhMjMgKiB6ICsgYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgdGhlIG1hdDQgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzMgbm90IHVzaW5nIHZlY3Rvcml6YXRpb25cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdLFxuICAgICAgeiA9IHZbMl07XG4gIG91dFswXSA9IGFbMF0gKiB4O1xuICBvdXRbMV0gPSBhWzFdICogeDtcbiAgb3V0WzJdID0gYVsyXSAqIHg7XG4gIG91dFszXSA9IGFbM10gKiB4O1xuICBvdXRbNF0gPSBhWzRdICogeTtcbiAgb3V0WzVdID0gYVs1XSAqIHk7XG4gIG91dFs2XSA9IGFbNl0gKiB5O1xuICBvdXRbN10gPSBhWzddICogeTtcbiAgb3V0WzhdID0gYVs4XSAqIHo7XG4gIG91dFs5XSA9IGFbOV0gKiB6O1xuICBvdXRbMTBdID0gYVsxMF0gKiB6O1xuICBvdXRbMTFdID0gYVsxMV0gKiB6O1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XG4gIHZhciBiMDAsIGIwMSwgYjAyO1xuICB2YXIgYjEwLCBiMTEsIGIxMjtcbiAgdmFyIGIyMCwgYjIxLCBiMjI7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjO1xuICBhMDAgPSBhWzBdO1xuICBhMDEgPSBhWzFdO1xuICBhMDIgPSBhWzJdO1xuICBhMDMgPSBhWzNdO1xuICBhMTAgPSBhWzRdO1xuICBhMTEgPSBhWzVdO1xuICBhMTIgPSBhWzZdO1xuICBhMTMgPSBhWzddO1xuICBhMjAgPSBhWzhdO1xuICBhMjEgPSBhWzldO1xuICBhMjIgPSBhWzEwXTtcbiAgYTIzID0gYVsxMV07IC8vIENvbnN0cnVjdCB0aGUgZWxlbWVudHMgb2YgdGhlIHJvdGF0aW9uIG1hdHJpeFxuXG4gIGIwMCA9IHggKiB4ICogdCArIGM7XG4gIGIwMSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBiMDIgPSB6ICogeCAqIHQgLSB5ICogcztcbiAgYjEwID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIGIxMSA9IHkgKiB5ICogdCArIGM7XG4gIGIxMiA9IHogKiB5ICogdCArIHggKiBzO1xuICBiMjAgPSB4ICogeiAqIHQgKyB5ICogcztcbiAgYjIxID0geSAqIHogKiB0IC0geCAqIHM7XG4gIGIyMiA9IHogKiB6ICogdCArIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYTAwICogYjAwICsgYTEwICogYjAxICsgYTIwICogYjAyO1xuICBvdXRbMV0gPSBhMDEgKiBiMDAgKyBhMTEgKiBiMDEgKyBhMjEgKiBiMDI7XG4gIG91dFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMjtcbiAgb3V0WzNdID0gYTAzICogYjAwICsgYTEzICogYjAxICsgYTIzICogYjAyO1xuICBvdXRbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7XG4gIG91dFs1XSA9IGEwMSAqIGIxMCArIGExMSAqIGIxMSArIGEyMSAqIGIxMjtcbiAgb3V0WzZdID0gYTAyICogYjEwICsgYTEyICogYjExICsgYTIyICogYjEyO1xuICBvdXRbN10gPSBhMDMgKiBiMTAgKyBhMTMgKiBiMTEgKyBhMjMgKiBiMTI7XG4gIG91dFs4XSA9IGEwMCAqIGIyMCArIGExMCAqIGIyMSArIGEyMCAqIGIyMjtcbiAgb3V0WzldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyO1xuICBvdXRbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyO1xuICBvdXRbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsxXTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIG91dFszXSA9IGFbM107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFs0XSA9IGExMCAqIGMgKyBhMjAgKiBzO1xuICBvdXRbNV0gPSBhMTEgKiBjICsgYTIxICogcztcbiAgb3V0WzZdID0gYTEyICogYyArIGEyMiAqIHM7XG4gIG91dFs3XSA9IGExMyAqIGMgKyBhMjMgKiBzO1xuICBvdXRbOF0gPSBhMjAgKiBjIC0gYTEwICogcztcbiAgb3V0WzldID0gYTIxICogYyAtIGExMSAqIHM7XG4gIG91dFsxMF0gPSBhMjIgKiBjIC0gYTEyICogcztcbiAgb3V0WzExXSA9IGEyMyAqIGMgLSBhMTMgKiBzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbOF0gPSBhWzhdO1xuICAgIG91dFs5XSA9IGFbOV07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzExXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyArIGExMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgKyBhMTEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjICsgYTEyICogcztcbiAgb3V0WzNdID0gYTAzICogYyArIGExMyAqIHM7XG4gIG91dFs0XSA9IGExMCAqIGMgLSBhMDAgKiBzO1xuICBvdXRbNV0gPSBhMTEgKiBjIC0gYTAxICogcztcbiAgb3V0WzZdID0gYTEyICogYyAtIGEwMiAqIHM7XG4gIG91dFs3XSA9IGExMyAqIGMgLSBhMDMgKiBzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3IgdHJhbnNsYXRpb25cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGUgYXJvdW5kIGEgZ2l2ZW4gYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkLCBheGlzKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgICAgeSA9IGF4aXNbMV0sXG4gICAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XG4gIHZhciBzLCBjLCB0O1xuXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSB4ICogeCAqIHQgKyBjO1xuICBvdXRbMV0gPSB5ICogeCAqIHQgKyB6ICogcztcbiAgb3V0WzJdID0geiAqIHggKiB0IC0geSAqIHM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHggKiB5ICogdCAtIHogKiBzO1xuICBvdXRbNV0gPSB5ICogeSAqIHQgKyBjO1xuICBvdXRbNl0gPSB6ICogeSAqIHQgKyB4ICogcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIG91dFs5XSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBvdXRbMTBdID0geiAqIHogKiB0ICsgYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVgoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gLXM7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21ZUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAtcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gcztcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVpSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IC1zO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdikge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0gKHl5ICsgenopO1xuICBvdXRbMV0gPSB4eSArIHd6O1xuICBvdXRbMl0gPSB4eiAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4eSAtIHd6O1xuICBvdXRbNV0gPSAxIC0gKHh4ICsgenopO1xuICBvdXRbNl0gPSB5eiArIHd4O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4eiArIHd5O1xuICBvdXRbOV0gPSB5eiAtIHd4O1xuICBvdXRbMTBdID0gMSAtICh4eCArIHl5KTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgZnJvbSBhIGR1YWwgcXVhdC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBNYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0MihvdXQsIGEpIHtcbiAgdmFyIHRyYW5zbGF0aW9uID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIHZhciBieCA9IC1hWzBdLFxuICAgICAgYnkgPSAtYVsxXSxcbiAgICAgIGJ6ID0gLWFbMl0sXG4gICAgICBidyA9IGFbM10sXG4gICAgICBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN107XG4gIHZhciBtYWduaXR1ZGUgPSBieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnogKyBidyAqIGJ3OyAvL09ubHkgc2NhbGUgaWYgaXQgbWFrZXMgc2Vuc2VcblxuICBpZiAobWFnbml0dWRlID4gMCkge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyIC8gbWFnbml0dWRlO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xuICB9XG5cbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBhLCB0cmFuc2xhdGlvbik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcbiAqICB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBtYXQpIHtcbiAgb3V0WzBdID0gbWF0WzEyXTtcbiAgb3V0WzFdID0gbWF0WzEzXTtcbiAgb3V0WzJdID0gbWF0WzE0XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZVxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW10ZXIsIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZVxuICogIHRoZSBzYW1lIGFzIHRoZSBzY2FsaW5nIHZlY3RvclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50XG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5oeXBvdChtMTEsIG0xMiwgbTEzKTtcbiAgb3V0WzFdID0gTWF0aC5oeXBvdChtMjEsIG0yMiwgbTIzKTtcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbmFsIGNvbXBvbmVudFxuICogIG9mIGEgdHJhbnNmb3JtYXRpb24gbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXG4gKiAgc2FtZSBhcyB0aGUgcXVhdGVybmlvbiBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtIHtxdWF0fSBvdXQgUXVhdGVybmlvbiB0byByZWNlaXZlIHRoZSByb3RhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0aW9uKG91dCwgbWF0KSB7XG4gIHZhciBzY2FsaW5nID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIGdldFNjYWxpbmcoc2NhbGluZywgbWF0KTtcbiAgdmFyIGlzMSA9IDEgLyBzY2FsaW5nWzBdO1xuICB2YXIgaXMyID0gMSAvIHNjYWxpbmdbMV07XG4gIHZhciBpczMgPSAxIC8gc2NhbGluZ1syXTtcbiAgdmFyIHNtMTEgPSBtYXRbMF0gKiBpczE7XG4gIHZhciBzbTEyID0gbWF0WzFdICogaXMyO1xuICB2YXIgc20xMyA9IG1hdFsyXSAqIGlzMztcbiAgdmFyIHNtMjEgPSBtYXRbNF0gKiBpczE7XG4gIHZhciBzbTIyID0gbWF0WzVdICogaXMyO1xuICB2YXIgc20yMyA9IG1hdFs2XSAqIGlzMztcbiAgdmFyIHNtMzEgPSBtYXRbOF0gKiBpczE7XG4gIHZhciBzbTMyID0gbWF0WzldICogaXMyO1xuICB2YXIgc20zMyA9IG1hdFsxMF0gKiBpczM7XG4gIHZhciB0cmFjZSA9IHNtMTEgKyBzbTIyICsgc20zMztcbiAgdmFyIFMgPSAwO1xuXG4gIGlmICh0cmFjZSA+IDApIHtcbiAgICBTID0gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKSAqIDI7XG4gICAgb3V0WzNdID0gMC4yNSAqIFM7XG4gICAgb3V0WzBdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20xMSA+IHNtMjIgJiYgc20xMSA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMTEgLSBzbTIyIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFswXSA9IDAuMjUgKiBTO1xuICAgIG91dFsxXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsyXSA9IChzbTMxICsgc20xMykgLyBTO1xuICB9IGVsc2UgaWYgKHNtMjIgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTIyIC0gc20xMSAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMF0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMV0gPSAwLjI1ICogUztcbiAgICBvdXRbMl0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgfSBlbHNlIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMzMgLSBzbTExIC0gc20yMikgKiAyO1xuICAgIG91dFszXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICAgIG91dFswXSA9IChzbTMxICsgc20xMykgLyBTO1xuICAgIG91dFsxXSA9IChzbTIzICsgc20zMikgLyBTO1xuICAgIG91dFsyXSA9IDAuMjUgKiBTO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUob3V0LCBxLCB2LCBzKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIG91dFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogc3g7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xuICBvdXRbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogc3k7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9ICh4eiArIHd5KSAqIHN6O1xuICBvdXRbOV0gPSAoeXogLSB3eCkgKiBzejtcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIG9yaWdpblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBvcmlnaW4pO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG5lZ2F0aXZlT3JpZ2luKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBvIFRoZSBvcmlnaW4gdmVjdG9yIGFyb3VuZCB3aGljaCB0byBzY2FsZSBhbmQgcm90YXRlXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW4ob3V0LCBxLCB2LCBzLCBvKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIHZhciBveCA9IG9bMF07XG4gIHZhciBveSA9IG9bMV07XG4gIHZhciBveiA9IG9bMl07XG4gIHZhciBvdXQwID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIHZhciBvdXQxID0gKHh5ICsgd3opICogc3g7XG4gIHZhciBvdXQyID0gKHh6IC0gd3kpICogc3g7XG4gIHZhciBvdXQ0ID0gKHh5IC0gd3opICogc3k7XG4gIHZhciBvdXQ1ID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIHZhciBvdXQ2ID0gKHl6ICsgd3gpICogc3k7XG4gIHZhciBvdXQ4ID0gKHh6ICsgd3kpICogc3o7XG4gIHZhciBvdXQ5ID0gKHl6IC0gd3gpICogc3o7XG4gIHZhciBvdXQxMCA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMF0gPSBvdXQwO1xuICBvdXRbMV0gPSBvdXQxO1xuICBvdXRbMl0gPSBvdXQyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSBvdXQ0O1xuICBvdXRbNV0gPSBvdXQ1O1xuICBvdXRbNl0gPSBvdXQ2O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBvdXQ4O1xuICBvdXRbOV0gPSBvdXQ5O1xuICBvdXRbMTBdID0gb3V0MTA7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXSArIG94IC0gKG91dDAgKiBveCArIG91dDQgKiBveSArIG91dDggKiBveik7XG4gIG91dFsxM10gPSB2WzFdICsgb3kgLSAob3V0MSAqIG94ICsgb3V0NSAqIG95ICsgb3V0OSAqIG96KTtcbiAgb3V0WzE0XSA9IHZbMl0gKyBveiAtIChvdXQyICogb3ggKyBvdXQ2ICogb3kgKyBvdXQxMCAqIG96KTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgYSA0eDQgbWF0cml4IGZyb20gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQob3V0LCBxKSB7XG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeXggPSB5ICogeDI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHp4ID0geiAqIHgyO1xuICB2YXIgenkgPSB6ICogeTI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtIHl5IC0geno7XG4gIG91dFsxXSA9IHl4ICsgd3o7XG4gIG91dFsyXSA9IHp4IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHl4IC0gd3o7XG4gIG91dFs1XSA9IDEgLSB4eCAtIHp6O1xuICBvdXRbNl0gPSB6eSArIHd4O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6eCArIHd5O1xuICBvdXRbOV0gPSB6eSAtIHd4O1xuICBvdXRbMTBdID0gMSAtIHh4IC0geXk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZydXN0dW0ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgcmwgPSAxIC8gKHJpZ2h0IC0gbGVmdCk7XG4gIHZhciB0YiA9IDEgLyAodG9wIC0gYm90dG9tKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gbmVhciAqIDIgKiBybDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gbmVhciAqIDIgKiB0YjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHJpZ2h0ICsgbGVmdCkgKiBybDtcbiAgb3V0WzldID0gKHRvcCArIGJvdHRvbSkgKiB0YjtcbiAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiAyICogbmY7XG4gIG91dFsxNV0gPSAwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqIFBhc3NpbmcgbnVsbC91bmRlZmluZWQvbm8gdmFsdWUgZm9yIGZhciB3aWxsIGdlbmVyYXRlIGluZmluaXRlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3Z5IFZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtLCBjYW4gYmUgbnVsbCBvciBJbmZpbml0eVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZU5PKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC0yICogbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5wZXJzcGVjdGl2ZU5PfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBwZXJzcGVjdGl2ZSA9IHBlcnNwZWN0aXZlTk87XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHN1aXRhYmxlIGZvciBXZWJHUFUgd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cbiAqIFBhc3NpbmcgbnVsbC91bmRlZmluZWQvbm8gdmFsdWUgZm9yIGZhciB3aWxsIGdlbmVyYXRlIGluZmluaXRlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3Z5IFZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtLCBjYW4gYmUgbnVsbCBvciBJbmZpbml0eVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZVpPKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSBmYXIgKiBuZjtcbiAgICBvdXRbMTRdID0gZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLW5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBmaWVsZCBvZiB2aWV3LlxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxuICogd2l0aCB0aGUgc3RpbGwgZXhwZXJpZW1lbnRhbCBXZWJWUiBBUEkuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtPYmplY3R9IGZvdiBPYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHZhbHVlczogdXBEZWdyZWVzLCBkb3duRGVncmVlcywgbGVmdERlZ3JlZXMsIHJpZ2h0RGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVGcm9tRmllbGRPZlZpZXcob3V0LCBmb3YsIG5lYXIsIGZhcikge1xuICB2YXIgdXBUYW4gPSBNYXRoLnRhbihmb3YudXBEZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGRvd25UYW4gPSBNYXRoLnRhbihmb3YuZG93bkRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgbGVmdFRhbiA9IE1hdGgudGFuKGZvdi5sZWZ0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciByaWdodFRhbiA9IE1hdGgudGFuKGZvdi5yaWdodERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgeFNjYWxlID0gMi4wIC8gKGxlZnRUYW4gKyByaWdodFRhbik7XG4gIHZhciB5U2NhbGUgPSAyLjAgLyAodXBUYW4gKyBkb3duVGFuKTtcbiAgb3V0WzBdID0geFNjYWxlO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICBvdXRbNF0gPSAwLjA7XG4gIG91dFs1XSA9IHlTY2FsZTtcbiAgb3V0WzZdID0gMC4wO1xuICBvdXRbN10gPSAwLjA7XG4gIG91dFs4XSA9IC0oKGxlZnRUYW4gLSByaWdodFRhbikgKiB4U2NhbGUgKiAwLjUpO1xuICBvdXRbOV0gPSAodXBUYW4gLSBkb3duVGFuKSAqIHlTY2FsZSAqIDAuNTtcbiAgb3V0WzEwXSA9IGZhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzExXSA9IC0xLjA7XG4gIG91dFsxMl0gPSAwLjA7XG4gIG91dFsxM10gPSAwLjA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTVdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRob05PKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAyICogbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5vcnRob05PfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBvcnRobyA9IG9ydGhvTk87XG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9aTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSBuZWFyICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBsb29rLWF0IG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBleWUgcG9zaXRpb24sIGZvY2FsIHBvaW50LCBhbmQgdXAgYXhpcy5cbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9va0F0KG91dCwgZXllLCBjZW50ZXIsIHVwKSB7XG4gIHZhciB4MCwgeDEsIHgyLCB5MCwgeTEsIHkyLCB6MCwgejEsIHoyLCBsZW47XG4gIHZhciBleWV4ID0gZXllWzBdO1xuICB2YXIgZXlleSA9IGV5ZVsxXTtcbiAgdmFyIGV5ZXogPSBleWVbMl07XG4gIHZhciB1cHggPSB1cFswXTtcbiAgdmFyIHVweSA9IHVwWzFdO1xuICB2YXIgdXB6ID0gdXBbMl07XG4gIHZhciBjZW50ZXJ4ID0gY2VudGVyWzBdO1xuICB2YXIgY2VudGVyeSA9IGNlbnRlclsxXTtcbiAgdmFyIGNlbnRlcnogPSBjZW50ZXJbMl07XG5cbiAgaWYgKE1hdGguYWJzKGV5ZXggLSBjZW50ZXJ4KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleSAtIGNlbnRlcnkpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV6IC0gY2VudGVyeikgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIGlkZW50aXR5KG91dCk7XG4gIH1cblxuICB6MCA9IGV5ZXggLSBjZW50ZXJ4O1xuICB6MSA9IGV5ZXkgLSBjZW50ZXJ5O1xuICB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xuICBsZW4gPSAxIC8gTWF0aC5oeXBvdCh6MCwgejEsIHoyKTtcbiAgejAgKj0gbGVuO1xuICB6MSAqPSBsZW47XG4gIHoyICo9IGxlbjtcbiAgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxO1xuICB4MSA9IHVweiAqIHowIC0gdXB4ICogejI7XG4gIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh4MCwgeDEsIHgyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHgwID0gMDtcbiAgICB4MSA9IDA7XG4gICAgeDIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICB5MCA9IHoxICogeDIgLSB6MiAqIHgxO1xuICB5MSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICB5MiA9IHowICogeDEgLSB6MSAqIHgwO1xuICBsZW4gPSBNYXRoLmh5cG90KHkwLCB5MSwgeTIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeTAgPSAwO1xuICAgIHkxID0gMDtcbiAgICB5MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB5MCAqPSBsZW47XG4gICAgeTEgKj0gbGVuO1xuICAgIHkyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB5MDtcbiAgb3V0WzJdID0gejA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHgxO1xuICBvdXRbNV0gPSB5MTtcbiAgb3V0WzZdID0gejE7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHgyO1xuICBvdXRbOV0gPSB5MjtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IC0oeDAgKiBleWV4ICsgeDEgKiBleWV5ICsgeDIgKiBleWV6KTtcbiAgb3V0WzEzXSA9IC0oeTAgKiBleWV4ICsgeTEgKiBleWV5ICsgeTIgKiBleWV6KTtcbiAgb3V0WzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG1hdHJpeCB0aGF0IG1ha2VzIHNvbWV0aGluZyBsb29rIGF0IHNvbWV0aGluZyBlbHNlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XG4gIHZhciBleWV4ID0gZXllWzBdLFxuICAgICAgZXlleSA9IGV5ZVsxXSxcbiAgICAgIGV5ZXogPSBleWVbMl0sXG4gICAgICB1cHggPSB1cFswXSxcbiAgICAgIHVweSA9IHVwWzFdLFxuICAgICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XG4gIHZhciBsZW4gPSB6MCAqIHowICsgejEgKiB6MSArIHoyICogejI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cblxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxuICAgICAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyLFxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geDE7XG4gIG91dFsyXSA9IHgyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XG4gIG91dFs2XSA9IHowICogeDEgLSB6MSAqIHgwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6MDtcbiAgb3V0WzldID0gejE7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSBleWV4O1xuICBvdXRbMTNdID0gZXlleTtcbiAgb3V0WzE0XSA9IGV5ZXo7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcIm1hdDQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiLCBcIiArIGFbOF0gKyBcIiwgXCIgKyBhWzldICsgXCIsIFwiICsgYVsxMF0gKyBcIiwgXCIgKyBhWzExXSArIFwiLCBcIiArIGFbMTJdICsgXCIsIFwiICsgYVsxM10gKyBcIiwgXCIgKyBhWzE0XSArIFwiLCBcIiArIGFbMTVdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xuICByZXR1cm4gTWF0aC5oeXBvdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdLCBhWzZdLCBhWzddLCBhWzhdLCBhWzldLCBhWzEwXSwgYVsxMV0sIGFbMTJdLCBhWzEzXSwgYVsxNF0sIGFbMTVdKTtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0NCdzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcbiAgb3V0WzddID0gYVs3XSArIGJbN107XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdO1xuICBvdXRbOV0gPSBhWzldICsgYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgb3V0WzldID0gYVs5XSAtIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gLSBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdIC0gYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gLSBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdIC0gYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICBvdXRbOV0gPSBhWzldICogYjtcbiAgb3V0WzEwXSA9IGFbMTBdICogYjtcbiAgb3V0WzExXSA9IGFbMTFdICogYjtcbiAgb3V0WzEyXSA9IGFbMTJdICogYjtcbiAgb3V0WzEzXSA9IGFbMTNdICogYjtcbiAgb3V0WzE0XSA9IGFbMTRdICogYjtcbiAgb3V0WzE1XSA9IGFbMTVdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0NCdzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV0gKiBzY2FsZTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV0gKiBzY2FsZTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl0gKiBzY2FsZTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF0gKiBzY2FsZTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF0gJiYgYVs5XSA9PT0gYls5XSAmJiBhWzEwXSA9PT0gYlsxMF0gJiYgYVsxMV0gPT09IGJbMTFdICYmIGFbMTJdID09PSBiWzEyXSAmJiBhWzEzXSA9PT0gYlsxM10gJiYgYVsxNF0gPT09IGJbMTRdICYmIGFbMTVdID09PSBiWzE1XTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGE4ID0gYVs4XSxcbiAgICAgIGE5ID0gYVs5XSxcbiAgICAgIGExMCA9IGFbMTBdLFxuICAgICAgYTExID0gYVsxMV07XG4gIHZhciBhMTIgPSBhWzEyXSxcbiAgICAgIGExMyA9IGFbMTNdLFxuICAgICAgYTE0ID0gYVsxNF0sXG4gICAgICBhMTUgPSBhWzE1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgdmFyIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgdmFyIGI4ID0gYls4XSxcbiAgICAgIGI5ID0gYls5XSxcbiAgICAgIGIxMCA9IGJbMTBdLFxuICAgICAgYjExID0gYlsxMV07XG4gIHZhciBiMTIgPSBiWzEyXSxcbiAgICAgIGIxMyA9IGJbMTNdLFxuICAgICAgYjE0ID0gYlsxNF0sXG4gICAgICBiMTUgPSBiWzE1XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2ZXJ0KFxuICBpbnN0YW5jZUNvdW50OiBudW1iZXIsXG4gIGhhc1VWOiBib29sZWFuLFxuICBoYXNUYW5nZW50OiBib29sZWFuXG4pIHtcbiAgcmV0dXJuIC8qIHdnc2wgKi8gYFxuXG4gIFtbYmxvY2tdXSBzdHJ1Y3QgQ2FtZXJhXG4gIHtcbiAgICAgIHByb2pWaWV3OiBtYXQ0eDQ8ZjMyPjtcbiAgfTtcbiAgW1tncm91cCgwKSwgYmluZGluZygwKV1dIHZhcjx1bmlmb3JtPiBjYW1lcmE6IENhbWVyYTtcblxuICBzdHJ1Y3QgTW9kZWwge1xuICAgICAgbWF0cml4OiBtYXQ0eDQ8ZjMyPjtcbiAgICAgIGludlRyOiBtYXQ0eDQ8ZjMyPjtcbiAgfTtcbiAgW1tibG9ja11dIHN0cnVjdCBNb2RlbHNcbiAge1xuICAgICAgbW9kZWw6IFtbc3RyaWRlKDEyOCldXSBhcnJheTxNb2RlbCwgJHtpbnN0YW5jZUNvdW50fT47XG4gIH07XG4gIFtbZ3JvdXAoMSksIGJpbmRpbmcoMCldXSB2YXI8dW5pZm9ybT4gbW9kZWxzOiBNb2RlbHM7XG5cbiAgc3RydWN0IFZlcnRleE91dHB1dFxuICB7XG4gICAgICBbW2J1aWx0aW4ocG9zaXRpb24pXV0gUG9zaXRpb246IHZlYzQ8ZjMyPjtcbiAgICAgIFtbbG9jYXRpb24oMCldXSBub3JtYWw6IHZlYzM8ZjMyPjtcbiAgICAgIFtbbG9jYXRpb24oMSldXSB3b3JsZFBvczogdmVjMzxmMzI+O1xuICAgICAgJHtoYXNVViA/ICdbW2xvY2F0aW9uKDIpXV0gdXY6IHZlYzI8ZjMyPjsnIDogJyd9XG4gICAgICAke2hhc1RhbmdlbnQgPyAnW1tsb2NhdGlvbigzKV1dIHRhbmdlbnQ6IHZlYzM8ZjMyPjsnIDogJyd9XG4gICAgICAke2hhc1RhbmdlbnQgPyAnW1tsb2NhdGlvbig0KV1dIGJpdGFuZ2VudDogdmVjMzxmMzI+OycgOiAnJ31cbiAgfTtcblxuICBbW3N0YWdlKHZlcnRleCldXVxuICBmbiBtYWluKFtbYnVpbHRpbihpbnN0YW5jZV9pbmRleCldXSBpbnN0YW5jZUluZGV4IDogdTMyLFxuICAgICAgICAgIFtbbG9jYXRpb24oMCldXSBwb3M6IHZlYzM8ZjMyPixcbiAgICAgICAgICBbW2xvY2F0aW9uKDEpXV0gbm9ybWFsOiB2ZWMzPGYzMj4sXG4gICAgICAgICAgJHtoYXNVViA/ICdbW2xvY2F0aW9uKDIpXV0gdXY6IHZlYzI8ZjMyPiwnIDogJyd9XG4gICAgICAgICAgJHtoYXNUYW5nZW50ID8gJ1tbbG9jYXRpb24oMyldXSB0YW5nZW50OiB2ZWM0PGYzMj4sJyA6ICcnfSlcbiAgICAgICAgICAtPiBWZXJ0ZXhPdXRwdXRcbiAge1xuICAgICAgbGV0IG1vZGVsID0gbW9kZWxzLm1vZGVsW2luc3RhbmNlSW5kZXhdO1xuICAgICAgdmFyIHY6IFZlcnRleE91dHB1dDtcbiAgICAgIHYuUG9zaXRpb24gPSBjYW1lcmEucHJvalZpZXcgKiBtb2RlbC5tYXRyaXggKiB2ZWM0PGYzMj4ocG9zLCAxLjApO1xuICAgICAgdi5ub3JtYWwgPSBub3JtYWxpemUoKG1vZGVsLmludlRyICogdmVjNDxmMzI+KG5vcm1hbCwgMC4wKSkueHl6KTtcbiAgICAgIHYud29ybGRQb3MgPSAobW9kZWwubWF0cml4ICogdmVjNDxmMzI+KHBvcywgMS4wKSkueHl6O1xuICAgICAgJHtoYXNVViA/ICd2LnV2ID0gdXY7JyA6ICcnfVxuICAgICAgJHtcbiAgICAgICAgaGFzVGFuZ2VudFxuICAgICAgICAgID8gYFxuICAgICAgdi50YW5nZW50ID0gbm9ybWFsaXplKChtb2RlbC5tYXRyaXggKiB2ZWM0PGYzMj4odGFuZ2VudC54eXosIDAuMCkpLnh5eik7XG4gICAgICB2LmJpdGFuZ2VudCA9IGNyb3NzKHYubm9ybWFsLCB2LnRhbmdlbnQpICogdGFuZ2VudC53O1xuICAgICAgLyogd2dzbCAqLyBgXG4gICAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgICAgcmV0dXJuIHY7XG4gIH1cbiAgYDtcbn1cbiIsImltcG9ydCB7IHRvRmxvYXQgfSBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZnJhZyhcbiAgbWF0ZXJpYWw6IGFueSxcbiAgaGFzVVY6IGJvb2xlYW4sXG4gIGhhc1RhbmdlbnQ6IGJvb2xlYW5cbikge1xuICBjb25zdCB7XG4gICAgYmFzZUNvbG9yVGV4dHVyZSxcbiAgICBtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUsXG4gICAgbWV0YWxsaWNGYWN0b3IsXG4gICAgcm91Z2huZXNzRmFjdG9yLFxuICB9ID0gbWF0ZXJpYWwucGJyTWV0YWxsaWNSb3VnaG5lc3M7XG4gIGxldCB7IGJhc2VDb2xvckZhY3RvciB9ID0gbWF0ZXJpYWwucGJyTWV0YWxsaWNSb3VnaG5lc3M7XG4gIGJhc2VDb2xvckZhY3RvciA9IGJhc2VDb2xvckZhY3RvciB8fCBbMSwgMSwgMSwgMV07XG4gIGNvbnN0IHsgbm9ybWFsVGV4dHVyZSwgb2NjbHVzaW9uVGV4dHVyZSwgZW1pc3NpdmVUZXh0dXJlIH0gPSBtYXRlcmlhbDtcbiAgbGV0IHsgZW1pc3NpdmVGYWN0b3IgfSA9IG1hdGVyaWFsO1xuICBlbWlzc2l2ZUZhY3RvciA9IGVtaXNzaXZlRmFjdG9yIHx8IFswLCAwLCAwXTtcblxuICBsZXQgeyBhbHBoYUN1dG9mZiB9ID0gbWF0ZXJpYWw7XG4gIGFscGhhQ3V0b2ZmID0gYWxwaGFDdXRvZmYgIT09IHVuZGVmaW5lZCA/IGFscGhhQ3V0b2ZmIDogMC41O1xuXG4gIHJldHVybiAvKiB3Z3NsICovIGBcblxuICBbW2Jsb2NrXV0gc3RydWN0IENhbWVyYVxuICB7XG4gICAgICBleWU6IHZlYzM8ZjMyPjtcbiAgfTtcbiAgW1tncm91cCgwKSwgYmluZGluZygxKV1dIHZhcjx1bmlmb3JtPiBjYW1lcmE6IENhbWVyYTtcblxuICAke1xuICAgIGJhc2VDb2xvclRleHR1cmVcbiAgICAgID8gYFxuICBbW2dyb3VwKDEpLCBiaW5kaW5nKDEpXV0gdmFyIHRleFNhbXBsZXI6IHNhbXBsZXI7XG4gIFtbZ3JvdXAoMSksIGJpbmRpbmcoMildXSB2YXIgdGV4OiB0ZXh0dXJlXzJkPGYzMj47XG4gIC8qIHdnc2wgKi8gYFxuICAgICAgOiAnJ1xuICB9XG4gICR7XG4gICAgbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXG4gICAgICA/IGBcbiAgW1tncm91cCgxKSwgYmluZGluZygzKV1dIHZhciBtZXRhbFJvdWdoU2FtcGxlcjogc2FtcGxlcjtcbiAgW1tncm91cCgxKSwgYmluZGluZyg0KV1dIHZhciBtZXRhbFJvdWdoVGV4OiB0ZXh0dXJlXzJkPGYzMj47XG4gIC8qIHdnc2wgKi8gYFxuICAgICAgOiAnJ1xuICB9XG4gICR7XG4gICAgbm9ybWFsVGV4dHVyZVxuICAgICAgPyBgXG4gIFtbZ3JvdXAoMSksIGJpbmRpbmcoNSldXSB2YXIgbm9ybWFsU2FtcGxlcjogc2FtcGxlcjtcbiAgW1tncm91cCgxKSwgYmluZGluZyg2KV1dIHZhciBub3JtYWxUZXg6IHRleHR1cmVfMmQ8ZjMyPjtcbiAgLyogd2dzbCAqLyBgXG4gICAgICA6ICcnXG4gIH1cbiAgJHtcbiAgICBvY2NsdXNpb25UZXh0dXJlXG4gICAgICA/IGBcbiAgW1tncm91cCgxKSwgYmluZGluZyg3KV1dIHZhciBvY2NsdXNpb25TYW1wbGVyOiBzYW1wbGVyO1xuICBbW2dyb3VwKDEpLCBiaW5kaW5nKDgpXV0gdmFyIG9jY2x1c2lvblRleDogdGV4dHVyZV8yZDxmMzI+O1xuICAvKiB3Z3NsICovIGBcbiAgICAgIDogJydcbiAgfVxuICAke1xuICAgIGVtaXNzaXZlVGV4dHVyZVxuICAgICAgPyBgXG4gIFtbZ3JvdXAoMSksIGJpbmRpbmcoOSldXSB2YXIgZW1pc3NpdmVTYW1wbGVyOiBzYW1wbGVyO1xuICBbW2dyb3VwKDEpLCBiaW5kaW5nKDEwKV1dIHZhciBlbWlzc2l2ZVRleDogdGV4dHVyZV8yZDxmMzI+O1xuICAvKiB3Z3NsICovIGBcbiAgICAgIDogJydcbiAgfVxuXG4gIGxldCBwaTogZjMyID0gMy4xNDE1OTI2NTM1ODk3OTM7XG5cbiAgZm4gYmxpbm5QaG9uZyhjb2xvcjogdmVjMzxmMzI+LFxuICAgICAgICAgICBsOiB2ZWMzPGYzMj4sXG4gICAgICAgICAgIHY6IHZlYzM8ZjMyPixcbiAgICAgICAgICAgbjogdmVjMzxmMzI+KSAtPiB2ZWMzPGYzMj5cbiAge1xuICAgICAgbGV0IHNwZWNFeHAgPSA2NC4wO1xuICAgICAgbGV0IGludGVuc2l0eSA9IDAuNTtcbiAgICAgIGxldCBhbWJpZW50ID0gMC41O1xuXG4gICAgICBsZXQgZGlmZnVzZSA9IG1heChkb3QobiwgbCksIDAuMCk7XG4gICAgICBsZXQgc3BlY3VsYXIgPSBwb3cobWF4KGRvdChuLCBub3JtYWxpemUobCArIHYpKSwgMC4wKSwgc3BlY0V4cCk7XG5cbiAgICAgIHJldHVybiBjb2xvciAqICgoZGlmZnVzZSArIHNwZWN1bGFyKSAqIGludGVuc2l0eSArIGFtYmllbnQpO1xuICB9XG5cbiAgZm4gYnJkZihjb2xvcjogdmVjMzxmMzI+LFxuICAgICAgICAgIG1ldGFsbGljOiBmMzIsXG4gICAgICAgICAgcm91Z2huZXNzOiBmMzIsXG4gICAgICAgICAgbDogdmVjMzxmMzI+LFxuICAgICAgICAgIHY6IHZlYzM8ZjMyPixcbiAgICAgICAgICBuOiB2ZWMzPGYzMj4pIC0+IHZlYzM8ZjMyPlxuICB7XG4gICAgICBsZXQgaCA9IG5vcm1hbGl6ZShsICsgdik7XG4gICAgICBsZXQgbmRvdGwgPSBjbGFtcChkb3QobiwgbCksIDAuMCwgMS4wKTtcbiAgICAgIGxldCBuZG90diA9IGFicyhkb3QobiwgdikpO1xuICAgICAgbGV0IG5kb3RoID0gY2xhbXAoZG90KG4sIGgpLCAwLjAsIDEuMCk7XG4gICAgICBsZXQgdmRvdGggPSBjbGFtcChkb3QodiwgaCksIDAuMCwgMS4wKTtcblxuICAgICAgbGV0IGYwID0gdmVjMzxmMzI+KDAuMDQpO1xuICAgICAgbGV0IGRpZmZ1c2VDb2xvciA9IGNvbG9yICogKDEuMCAtIGYwKSAqICgxLjAgLSBtZXRhbGxpYyk7XG4gICAgICBsZXQgc3BlY3VsYXJDb2xvciA9IG1peChmMCwgY29sb3IsIG1ldGFsbGljKTtcblxuICAgICAgbGV0IHJlZmxlY3RhbmNlID0gbWF4KG1heChzcGVjdWxhckNvbG9yLnIsIHNwZWN1bGFyQ29sb3IuZyksIHNwZWN1bGFyQ29sb3IuYik7XG4gICAgICBsZXQgcmVmbGVjdGFuY2UwID0gc3BlY3VsYXJDb2xvcjtcbiAgICAgIGxldCByZWZsZWN0YW5jZTkgPSB2ZWMzPGYzMj4oY2xhbXAocmVmbGVjdGFuY2UgKiAyNS4wLCAwLjAsIDEuMCkpO1xuICAgICAgbGV0IGYgPSByZWZsZWN0YW5jZTAgKyAocmVmbGVjdGFuY2U5IC0gcmVmbGVjdGFuY2UwKSAqIHBvdygxLjAgLSB2ZG90aCwgNS4wKTtcblxuICAgICAgbGV0IHIyID0gcm91Z2huZXNzICogcm91Z2huZXNzO1xuICAgICAgbGV0IHI0ID0gcjIgKiByMjtcbiAgICAgIGxldCBhdHRlbnVhdGlvbkwgPSAyLjAgKiBuZG90bCAvIChuZG90bCArIHNxcnQocjQgKyAoMS4wIC0gcjQpICogbmRvdGwgKiBuZG90bCkpO1xuICAgICAgbGV0IGF0dGVudWF0aW9uViA9IDIuMCAqIG5kb3R2IC8gKG5kb3R2ICsgc3FydChyNCArICgxLjAgLSByNCkgKiBuZG90diAqIG5kb3R2KSk7XG4gICAgICBsZXQgZyA9IGF0dGVudWF0aW9uTCAqIGF0dGVudWF0aW9uVjtcblxuICAgICAgbGV0IHRlbXAgPSBuZG90aCAqIG5kb3RoICogKHIyIC0gMS4wKSArIDEuMDtcbiAgICAgIGxldCBkID0gcjIgLyAocGkgKiB0ZW1wICogdGVtcCk7XG5cbiAgICAgIGxldCBkaWZmdXNlID0gKDEuMCAtIGYpIC8gcGkgKiBkaWZmdXNlQ29sb3I7XG4gICAgICBsZXQgc3BlY3VsYXIgPSBtYXgoZiAqIGcgKiBkIC8gKDQuMCAqIG5kb3RsICogbmRvdHYpLCB2ZWMzPGYzMj4oMC4wKSk7XG4gICAgICBsZXQgaW50ZW5zaXR5ID0gMi41O1xuICAgICAgbGV0IGFtYmllbnQgPSAwLjQ7XG4gICAgICByZXR1cm4gbmRvdGwgKiAoZGlmZnVzZSArIHNwZWN1bGFyKSAqIGludGVuc2l0eSArIGNvbG9yICogYW1iaWVudDtcbiAgfVxuXG4gIFtbc3RhZ2UoZnJhZ21lbnQpXV1cbiAgZm4gbWFpbihbW2xvY2F0aW9uKDApXV0gdk5vcm1hbDogdmVjMzxmMzI+LFxuICAgICAgICAgIFtbbG9jYXRpb24oMSldXSB3b3JsZFBvczogdmVjMzxmMzI+LFxuICAgICAgICAgICR7aGFzVVYgPyAnW1tsb2NhdGlvbigyKV1dIHV2OiB2ZWMyPGYzMj4sJyA6ICcnfVxuICAgICAgICAgICR7aGFzVGFuZ2VudCA/ICdbW2xvY2F0aW9uKDMpXV0gdGFuZ2VudDogdmVjMzxmMzI+LCcgOiAnJ31cbiAgICAgICAgICAke2hhc1RhbmdlbnQgPyAnW1tsb2NhdGlvbig0KV1dIGJpdGFuZ2VudDogdmVjMzxmMzI+LCcgOiAnJ30pXG4gICAgICAgICAgLT4gW1tsb2NhdGlvbigwKV1dIHZlYzQ8ZjMyPlxuICB7XG4gICAgICBsZXQgbGlnaHRQb3MgPSB2ZWMzPGYzMj4oMjAwLjAsIDQwMC4wLCAzMDAuMCk7XG5cbiAgICAgIHZhciBjb2xvciA9IHZlYzQ8ZjMyPigke3RvRmxvYXQoYmFzZUNvbG9yRmFjdG9yWzBdKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0b0Zsb2F0KGJhc2VDb2xvckZhY3RvclsxXSl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dG9GbG9hdChiYXNlQ29sb3JGYWN0b3JbMl0pfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RvRmxvYXQoYmFzZUNvbG9yRmFjdG9yWzNdKX0pO1xuICAgICAgJHtcbiAgICAgICAgYmFzZUNvbG9yVGV4dHVyZVxuICAgICAgICAgID8gJ2NvbG9yID0gY29sb3IgKiB0ZXh0dXJlU2FtcGxlKHRleCwgdGV4U2FtcGxlciwgdXYpOydcbiAgICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgICAke1xuICAgICAgICBtYXRlcmlhbC5hbHBoYU1vZGUgPT09ICdNQVNLJ1xuICAgICAgICAgID8gYFxuICAgICAgaWYgKGNvbG9yLmEgPCAke3RvRmxvYXQoYWxwaGFDdXRvZmYpfSlcbiAgICAgIHtcbiAgICAgICAgZGlzY2FyZDtcbiAgICAgIH1cbiAgICAgIC8qIHdnc2wgKi8gYFxuICAgICAgICAgIDogJydcbiAgICAgIH1cblxuICAgICAgdmFyIG1ldGFsbGljOiBmMzIgPSAke3RvRmxvYXQobWV0YWxsaWNGYWN0b3IpfTtcbiAgICAgIHZhciByb3VnaG5lc3M6IGYzMiA9ICR7dG9GbG9hdChyb3VnaG5lc3NGYWN0b3IpfTtcbiAgICAgICR7XG4gICAgICAgIG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVxuICAgICAgICAgID8gYFxuICAgICAgbGV0IG1ldGFsUm91Z2ggPSB0ZXh0dXJlU2FtcGxlKG1ldGFsUm91Z2hUZXgsIG1ldGFsUm91Z2hTYW1wbGVyLCB1dik7XG4gICAgICBtZXRhbGxpYyA9IG1ldGFsbGljICogbWV0YWxSb3VnaC5iO1xuICAgICAgcm91Z2huZXNzID0gcm91Z2huZXNzICogbWV0YWxSb3VnaC5nO1xuICAgICAgLyogd2dzbCAqLyBgXG4gICAgICAgICAgOiAnJ1xuICAgICAgfVxuICAgICAgcm91Z2huZXNzID0gY2xhbXAocm91Z2huZXNzLCAwLjA0LCAxLjApO1xuXG4gICAgICBsZXQgbGlnaHREaXIgPSBub3JtYWxpemUobGlnaHRQb3MgLSB3b3JsZFBvcyk7XG4gICAgICBsZXQgdmlld0RpciA9IG5vcm1hbGl6ZShjYW1lcmEuZXllIC0gd29ybGRQb3MpO1xuXG4gICAgICAke1xuICAgICAgICBub3JtYWxUZXh0dXJlICYmIGhhc1RhbmdlbnRcbiAgICAgICAgICA/IGBcbiAgICAgIHZhciBub3JtYWwgPSB0ZXh0dXJlU2FtcGxlKG5vcm1hbFRleCwgbm9ybWFsU2FtcGxlciwgdXYpLnJnYjtcbiAgICAgIG5vcm1hbCA9IG5vcm1hbCAqIDIuMCAtIDEuMDtcbiAgICAgIG5vcm1hbCA9IG5vcm1hbC54ICogdGFuZ2VudCArIG5vcm1hbC55ICogYml0YW5nZW50ICsgbm9ybWFsLnogKiB2Tm9ybWFsO1xuICAgICAgbm9ybWFsID0gbm9ybWFsaXplKG5vcm1hbCk7XG4gICAgICAvKiB3Z3NsICovIGBcbiAgICAgICAgICA6IGBcbiAgICAgIHZhciBub3JtYWwgPSBub3JtYWxpemUodk5vcm1hbCk7XG4gICAgICAvKiB3Z3NsICovIGBcbiAgICAgIH1cbiAgICAgICR7XG4gICAgICAgIG1hdGVyaWFsLmRvdWJsZVNpZGVkXG4gICAgICAgICAgPyBgXG4gICAgICBpZiAoZG90KG5vcm1hbCwgdmlld0RpcikgPCAwLjApIHtcbiAgICAgICAgbm9ybWFsID0gLW5vcm1hbDtcbiAgICAgIH1cbiAgICAgIC8qIHdnc2wgKi8gYFxuICAgICAgICAgIDogJydcbiAgICAgIH1cblxuICAgICAgJHtcbiAgICAgICAgb2NjbHVzaW9uVGV4dHVyZVxuICAgICAgICAgID8gJ2xldCBhbyA9IHRleHR1cmVTYW1wbGUob2NjbHVzaW9uVGV4LCBvY2NsdXNpb25TYW1wbGVyLCB1dikucjsnXG4gICAgICAgICAgOiAnbGV0IGFvID0gMS4wOydcbiAgICAgIH1cbiAgICAgIHZhciBlbWlzc2l2ZSA9IHZlYzM8ZjMyPigke3RvRmxvYXQoZW1pc3NpdmVGYWN0b3JbMF0pfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RvRmxvYXQoZW1pc3NpdmVGYWN0b3JbMV0pfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RvRmxvYXQoZW1pc3NpdmVGYWN0b3JbMl0pfSk7XG4gICAgICAke1xuICAgICAgICBlbWlzc2l2ZVRleHR1cmVcbiAgICAgICAgICA/ICdlbWlzc2l2ZSA9IGVtaXNzaXZlICogdGV4dHVyZVNhbXBsZShlbWlzc2l2ZVRleCwgZW1pc3NpdmVTYW1wbGVyLCB1dikucmdiOydcbiAgICAgICAgICA6ICcnXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2ZWM0PGYzMj4oYnJkZihjb2xvci5yZ2IsIG1ldGFsbGljLCByb3VnaG5lc3MsIGxpZ2h0RGlyLCB2aWV3RGlyLCBub3JtYWwpICogYW8gKyBlbWlzc2l2ZSwgY29sb3IuYSk7XG4gIH1cbiAgYDtcbn1cbiIsImltcG9ydCB7IEdMVEZQcmltaXRpdmUgfSBmcm9tICcuLi9sb2FkZXIvbWVzaCc7XG5pbXBvcnQgeyBjcmVhdGVHUFVCdWZmZXIgfSBmcm9tICcuLi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJpbWl0aXZlIHtcbiAgaXNUcmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gIGluZGV4Q291bnQ6IG51bWJlcjtcblxuICBpbmRleEZvcm1hdDogR1BVSW5kZXhGb3JtYXQ7XG5cbiAgcG9zaXRpb25zOiBHUFVCdWZmZXI7XG5cbiAgbm9ybWFsczogR1BVQnVmZmVyO1xuXG4gIGluZGljZXM6IEdQVUJ1ZmZlcjtcblxuICB1dnM6IEdQVUJ1ZmZlciB8IG51bGw7XG5cbiAgdGFuZ2VudHM6IEdQVUJ1ZmZlciB8IG51bGw7XG5cbiAgcGlwZWxpbmU6IEdQVVJlbmRlclBpcGVsaW5lIHwgdW5kZWZpbmVkO1xuXG4gIHVuaWZvcm1CaW5kR3JvdXA6IEdQVUJpbmRHcm91cCB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihwcmltaXRpdmU6IEdMVEZQcmltaXRpdmUsIGRldmljZTogR1BVRGV2aWNlKSB7XG4gICAgdGhpcy5pbmRleENvdW50ID0gcHJpbWl0aXZlLmluZGV4Q291bnQ7XG4gICAgdGhpcy5pbmRleEZvcm1hdCA9XG4gICAgICBwcmltaXRpdmUuaW5kaWNlcyBpbnN0YW5jZW9mIFVpbnQxNkFycmF5ID8gJ3VpbnQxNicgOiAndWludDMyJztcbiAgICB0aGlzLnBvc2l0aW9ucyA9IGNyZWF0ZUdQVUJ1ZmZlcihcbiAgICAgIHByaW1pdGl2ZS5wb3NpdGlvbnMsXG4gICAgICBHUFVCdWZmZXJVc2FnZS5WRVJURVgsXG4gICAgICBkZXZpY2VcbiAgICApO1xuICAgIHRoaXMubm9ybWFscyA9IGNyZWF0ZUdQVUJ1ZmZlcihcbiAgICAgIHByaW1pdGl2ZS5ub3JtYWxzLFxuICAgICAgR1BVQnVmZmVyVXNhZ2UuVkVSVEVYLFxuICAgICAgZGV2aWNlXG4gICAgKTtcbiAgICB0aGlzLmluZGljZXMgPSBjcmVhdGVHUFVCdWZmZXIoXG4gICAgICBwcmltaXRpdmUuaW5kaWNlcyxcbiAgICAgIEdQVUJ1ZmZlclVzYWdlLklOREVYLFxuICAgICAgZGV2aWNlXG4gICAgKTtcbiAgICB0aGlzLnV2cyA9IHByaW1pdGl2ZS51dnNcbiAgICAgID8gY3JlYXRlR1BVQnVmZmVyKHByaW1pdGl2ZS51dnMsIEdQVUJ1ZmZlclVzYWdlLlZFUlRFWCwgZGV2aWNlKVxuICAgICAgOiBudWxsO1xuICAgIHRoaXMudGFuZ2VudHMgPSBwcmltaXRpdmUudGFuZ2VudHNcbiAgICAgID8gY3JlYXRlR1BVQnVmZmVyKHByaW1pdGl2ZS50YW5nZW50cywgR1BVQnVmZmVyVXNhZ2UuVkVSVEVYLCBkZXZpY2UpXG4gICAgICA6IG51bGw7XG4gIH1cblxuICBkcmF3KHBhc3NFbmNvZGVyOiBHUFVSZW5kZXJQYXNzRW5jb2RlciwgaW5zdGFuY2VDb3VudDogbnVtYmVyKSB7XG4gICAgcGFzc0VuY29kZXIuc2V0UGlwZWxpbmUodGhpcy5waXBlbGluZSEpO1xuICAgIHBhc3NFbmNvZGVyLnNldFZlcnRleEJ1ZmZlcigwLCB0aGlzLnBvc2l0aW9ucyk7XG4gICAgcGFzc0VuY29kZXIuc2V0VmVydGV4QnVmZmVyKDEsIHRoaXMubm9ybWFscyk7XG4gICAgaWYgKHRoaXMudXZzKSB7XG4gICAgICBwYXNzRW5jb2Rlci5zZXRWZXJ0ZXhCdWZmZXIoMiwgdGhpcy51dnMpO1xuICAgIH1cbiAgICBpZiAodGhpcy50YW5nZW50cykge1xuICAgICAgcGFzc0VuY29kZXIuc2V0VmVydGV4QnVmZmVyKDMsIHRoaXMudGFuZ2VudHMpO1xuICAgIH1cbiAgICBwYXNzRW5jb2Rlci5zZXRJbmRleEJ1ZmZlcih0aGlzLmluZGljZXMsIHRoaXMuaW5kZXhGb3JtYXQpO1xuICAgIHBhc3NFbmNvZGVyLnNldEJpbmRHcm91cCgxLCB0aGlzLnVuaWZvcm1CaW5kR3JvdXAhKTtcbiAgICBwYXNzRW5jb2Rlci5kcmF3SW5kZXhlZCh0aGlzLmluZGV4Q291bnQsIGluc3RhbmNlQ291bnQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBtYXQ0IH0gZnJvbSAnZ2wtbWF0cml4JztcbmltcG9ydCB7IEdMVEYgfSBmcm9tICcuLi9sb2FkZXIvZ2x0Zic7XG5pbXBvcnQgY3JlYXRlUGlwZWxpbmUgZnJvbSAnLi9waXBlbGluZSc7XG5pbXBvcnQgUHJpbWl0aXZlIGZyb20gJy4vcHJpbWl0aXZlJztcbmltcG9ydCB7IGpvaW5BcnJheSwgY3JlYXRlR1BVQnVmZmVyIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lIHtcbiAgbWVzaGVzOiB7XG4gICAgW2tleTogbnVtYmVyXToge1xuICAgICAgbWF0cmljZXM6IEFycmF5PG1hdDQ+O1xuICAgICAgbWF0cml4QnVmZmVyOiBHUFVCdWZmZXIgfCB1bmRlZmluZWQ7XG4gICAgICBwcmltaXRpdmVzOiBBcnJheTxQcmltaXRpdmU+O1xuICAgIH07XG4gIH0gPSB7fTtcblxuICB0ZXh0dXJlczogeyBba2V5OiBudW1iZXJdOiBHUFVUZXh0dXJlIH0gPSB7fTtcblxuICBjYW1lcmE6IHtcbiAgICBwcm9qVmlld0J1ZmZlcjogR1BVQnVmZmVyO1xuICAgIGV5ZUJ1ZmZlcjogR1BVQnVmZmVyO1xuICAgIGJpbmRHcm91cDogR1BVQmluZEdyb3VwO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGdsdGY6IEdMVEYsXG4gICAgc2NlbmVJbmRleDogbnVtYmVyLFxuICAgIGRldmljZTogR1BVRGV2aWNlLFxuICAgIGNvbnRleHRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXRcbiAgKSB7XG4gICAgY29uc3QgY2FtZXJhQmluZEdyb3VwTGF5b3V0ID0gZGV2aWNlLmNyZWF0ZUJpbmRHcm91cExheW91dCh7XG4gICAgICBlbnRyaWVzOiBbXG4gICAgICAgIHsgYmluZGluZzogMCwgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuVkVSVEVYLCBidWZmZXI6IHt9IH0sXG4gICAgICAgIHsgYmluZGluZzogMSwgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsIGJ1ZmZlcjoge30gfSxcbiAgICAgIF0sXG4gICAgfSk7XG4gICAgY29uc3QgcHJvalZpZXdCdWZmZXIgPSBkZXZpY2UuY3JlYXRlQnVmZmVyKHtcbiAgICAgIHNpemU6IDQgKiA0ICogNCxcbiAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5VTklGT1JNIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICAgIH0pO1xuICAgIGNvbnN0IGV5ZUJ1ZmZlciA9IGRldmljZS5jcmVhdGVCdWZmZXIoe1xuICAgICAgc2l6ZTogNCAqIDMsXG4gICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICB9KTtcbiAgICB0aGlzLmNhbWVyYSA9IHtcbiAgICAgIHByb2pWaWV3QnVmZmVyLFxuICAgICAgZXllQnVmZmVyLFxuICAgICAgYmluZEdyb3VwOiBkZXZpY2UuY3JlYXRlQmluZEdyb3VwKHtcbiAgICAgICAgbGF5b3V0OiBjYW1lcmFCaW5kR3JvdXBMYXlvdXQsXG4gICAgICAgIGVudHJpZXM6IFtcbiAgICAgICAgICB7IGJpbmRpbmc6IDAsIHJlc291cmNlOiB7IGJ1ZmZlcjogcHJvalZpZXdCdWZmZXIgfSB9LFxuICAgICAgICAgIHsgYmluZGluZzogMSwgcmVzb3VyY2U6IHsgYnVmZmVyOiBleWVCdWZmZXIgfSB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZVJlc291cmNlID0gKG5vZGU6IGFueSwgcGFyZW50TWF0cml4ID0gbWF0NC5jcmVhdGUoKSkgPT4ge1xuICAgICAgY29uc3QgbWF0cml4ID0gbWF0NC5jbG9uZShwYXJlbnRNYXRyaXgpO1xuICAgICAgaWYgKG5vZGUubWF0cml4KSB7XG4gICAgICAgIG1hdDQubXVsdGlwbHkobWF0cml4LCBtYXRyaXgsIG5vZGUubWF0cml4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChub2RlLnRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgbWF0NC50cmFuc2xhdGUobWF0cml4LCBtYXRyaXgsIG5vZGUudHJhbnNsYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnJvdGF0aW9uKSB7XG4gICAgICAgICAgY29uc3Qgcm90YXRpb24gPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICAgIG1hdDQuZnJvbVF1YXQocm90YXRpb24sIG5vZGUucm90YXRpb24pO1xuICAgICAgICAgIG1hdDQubXVsdGlwbHkobWF0cml4LCBtYXRyaXgsIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5zY2FsZSkge1xuICAgICAgICAgIG1hdDQuc2NhbGUobWF0cml4LCBtYXRyaXgsIG5vZGUuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlLm1lc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBtb2RlbEludlRyID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC5pbnZlcnQobW9kZWxJbnZUciwgbWF0cml4KTtcbiAgICAgICAgbWF0NC50cmFuc3Bvc2UobW9kZWxJbnZUciwgbW9kZWxJbnZUcik7XG5cbiAgICAgICAgaWYgKCF0aGlzLm1lc2hlc1tub2RlLm1lc2hdKSB7XG4gICAgICAgICAgdGhpcy5tZXNoZXNbbm9kZS5tZXNoXSA9IHtcbiAgICAgICAgICAgIG1hdHJpY2VzOiBbbWF0cml4LCBtb2RlbEludlRyXSxcbiAgICAgICAgICAgIG1hdHJpeEJ1ZmZlcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJpbWl0aXZlczogZ2x0Zi5tZXNoZXNbbm9kZS5tZXNoXS5tYXA8UHJpbWl0aXZlPihcbiAgICAgICAgICAgICAgKHByaW1pdGl2ZSkgPT4gbmV3IFByaW1pdGl2ZShwcmltaXRpdmUsIGRldmljZSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm1lc2hlc1tub2RlLm1lc2hdLm1hdHJpY2VzLnB1c2gobWF0cml4KTtcbiAgICAgICAgICB0aGlzLm1lc2hlc1tub2RlLm1lc2hdLm1hdHJpY2VzLnB1c2gobW9kZWxJbnZUcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbm9kZS5jaGlsZHJlbj8uZm9yRWFjaCgoY2hpbGRJbmRleDogYW55KSA9PlxuICAgICAgICBjcmVhdGVSZXNvdXJjZShnbHRmLm5vZGVzW2NoaWxkSW5kZXhdLCBtYXRyaXgpXG4gICAgICApO1xuICAgIH07XG5cbiAgICBnbHRmLnNjZW5lc1tzY2VuZUluZGV4XS5ub2Rlcy5mb3JFYWNoKChub2RlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgY3JlYXRlUmVzb3VyY2UoZ2x0Zi5ub2Rlc1tub2RlSW5kZXhdKTtcbiAgICB9KTtcblxuICAgIE9iamVjdC5lbnRyaWVzKHRoaXMubWVzaGVzKS5mb3JFYWNoKChbbWVzaEluZGV4LCBtZXNoXSkgPT4ge1xuICAgICAgbWVzaC5tYXRyaXhCdWZmZXIgPSBjcmVhdGVHUFVCdWZmZXIoXG4gICAgICAgIGpvaW5BcnJheShtZXNoLm1hdHJpY2VzIGFzIEFycmF5PEZsb2F0MzJBcnJheT4pLFxuICAgICAgICBHUFVCdWZmZXJVc2FnZS5VTklGT1JNLFxuICAgICAgICBkZXZpY2VcbiAgICAgICk7XG5cbiAgICAgIG1lc2gucHJpbWl0aXZlcy5mb3JFYWNoKChwcmltaXRpdmUsIHByaW1JbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1hdGVyaWFsIH0gPSBnbHRmLm1lc2hlc1tOdW1iZXIobWVzaEluZGV4KV1bcHJpbUluZGV4XTtcbiAgICAgICAgY29uc3QgeyBiYXNlQ29sb3JUZXh0dXJlLCBtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgfSA9XG4gICAgICAgICAgbWF0ZXJpYWwucGJyTWV0YWxsaWNSb3VnaG5lc3M7XG4gICAgICAgIGNvbnN0IHsgbm9ybWFsVGV4dHVyZSwgb2NjbHVzaW9uVGV4dHVyZSwgZW1pc3NpdmVUZXh0dXJlIH0gPSBtYXRlcmlhbDtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSBbXG4gICAgICAgICAgYmFzZUNvbG9yVGV4dHVyZSxcbiAgICAgICAgICBtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUsXG4gICAgICAgICAgbm9ybWFsVGV4dHVyZSxcbiAgICAgICAgICBvY2NsdXNpb25UZXh0dXJlLFxuICAgICAgICAgIGVtaXNzaXZlVGV4dHVyZSxcbiAgICAgICAgXTtcblxuICAgICAgICBwcmltaXRpdmUuaXNUcmFuc3BhcmVudCA9IG1hdGVyaWFsLmFscGhhTW9kZSA9PT0gJ0JMRU5EJztcblxuICAgICAgICB0ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgICAgaWYgKHRleHR1cmUgJiYgIXRoaXMudGV4dHVyZXNbdGV4dHVyZS5pbmRleF0pIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbdGV4dHVyZS5pbmRleF0gPSBkZXZpY2UuY3JlYXRlVGV4dHVyZSh7XG4gICAgICAgICAgICAgIHNpemU6IFtcbiAgICAgICAgICAgICAgICBnbHRmLmltYWdlc1t0ZXh0dXJlLmluZGV4XS53aWR0aCxcbiAgICAgICAgICAgICAgICBnbHRmLmltYWdlc1t0ZXh0dXJlLmluZGV4XS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgZm9ybWF0OiAncmdiYTh1bm9ybScsXG4gICAgICAgICAgICAgIHVzYWdlOlxuICAgICAgICAgICAgICAgIEdQVVRleHR1cmVVc2FnZS5URVhUVVJFX0JJTkRJTkcgfCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9EU1QgfCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuUkVOREVSX0FUVEFDSE1FTlQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRldmljZS5xdWV1ZS5jb3B5RXh0ZXJuYWxJbWFnZVRvVGV4dHVyZShcbiAgICAgICAgICAgICAgeyBzb3VyY2U6IGdsdGYuaW1hZ2VzW3RleHR1cmUuaW5kZXhdIH0sXG4gICAgICAgICAgICAgIHsgdGV4dHVyZTogdGhpcy50ZXh0dXJlc1t0ZXh0dXJlLmluZGV4XSB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgZ2x0Zi5pbWFnZXNbdGV4dHVyZS5pbmRleF0ud2lkdGgsXG4gICAgICAgICAgICAgICAgZ2x0Zi5pbWFnZXNbdGV4dHVyZS5pbmRleF0uaGVpZ2h0LFxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJpbWl0aXZlLnBpcGVsaW5lID0gY3JlYXRlUGlwZWxpbmUoXG4gICAgICAgICAgZGV2aWNlLFxuICAgICAgICAgIGNvbnRleHRGb3JtYXQsXG4gICAgICAgICAgbWF0ZXJpYWwsXG4gICAgICAgICAgcHJpbWl0aXZlLnV2cyAhPT0gbnVsbCxcbiAgICAgICAgICBwcmltaXRpdmUudGFuZ2VudHMgIT09IG51bGwsXG4gICAgICAgICAgbWVzaC5tYXRyaWNlcy5sZW5ndGggLyAyLFxuICAgICAgICAgIGNhbWVyYUJpbmRHcm91cExheW91dFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGJpbmRHcm91cEVudHJpZXM6IFtHUFVCaW5kR3JvdXBFbnRyeV0gPSBbXG4gICAgICAgICAgeyBiaW5kaW5nOiAwLCByZXNvdXJjZTogeyBidWZmZXI6IG1lc2gubWF0cml4QnVmZmVyISB9IH0sXG4gICAgICAgIF07XG4gICAgICAgIHRleHR1cmVzLmZvckVhY2goKHRleHR1cmUsIG4pID0+IHtcbiAgICAgICAgICBpZiAodGV4dHVyZSkge1xuICAgICAgICAgICAgYmluZEdyb3VwRW50cmllcy5wdXNoKHtcbiAgICAgICAgICAgICAgYmluZGluZzogbiAqIDIgKyAxLFxuICAgICAgICAgICAgICByZXNvdXJjZTogZGV2aWNlLmNyZWF0ZVNhbXBsZXIoe1xuICAgICAgICAgICAgICAgIGFkZHJlc3NNb2RlVTogJ3JlcGVhdCcsXG4gICAgICAgICAgICAgICAgYWRkcmVzc01vZGVWOiAncmVwZWF0JyxcbiAgICAgICAgICAgICAgICBtYWdGaWx0ZXI6ICdsaW5lYXInLFxuICAgICAgICAgICAgICAgIG1pbkZpbHRlcjogJ2xpbmVhcicsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiaW5kR3JvdXBFbnRyaWVzLnB1c2goe1xuICAgICAgICAgICAgICBiaW5kaW5nOiBuICogMiArIDIsXG4gICAgICAgICAgICAgIHJlc291cmNlOiB0aGlzLnRleHR1cmVzW3RleHR1cmUuaW5kZXhdLmNyZWF0ZVZpZXcoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHByaW1pdGl2ZS51bmlmb3JtQmluZEdyb3VwID0gZGV2aWNlLmNyZWF0ZUJpbmRHcm91cCh7XG4gICAgICAgICAgbGF5b3V0OiBwcmltaXRpdmUucGlwZWxpbmUhLmdldEJpbmRHcm91cExheW91dCgxKSxcbiAgICAgICAgICBlbnRyaWVzOiBiaW5kR3JvdXBFbnRyaWVzLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBPYmplY3QuZW50cmllcyh0aGlzLm1lc2hlcykuZm9yRWFjaCgoWywgbWVzaF0pID0+IHtcbiAgICAgIG1lc2gubWF0cml4QnVmZmVyIS5kZXN0cm95KCk7XG4gICAgICBtZXNoLnByaW1pdGl2ZXMuZm9yRWFjaCgocHJpbWl0aXZlKSA9PiB7XG4gICAgICAgIHByaW1pdGl2ZS5pbmRpY2VzLmRlc3Ryb3koKTtcbiAgICAgICAgcHJpbWl0aXZlLnBvc2l0aW9ucy5kZXN0cm95KCk7XG4gICAgICAgIHByaW1pdGl2ZS5ub3JtYWxzLmRlc3Ryb3koKTtcbiAgICAgICAgcHJpbWl0aXZlLnV2cz8uZGVzdHJveSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgT2JqZWN0LmVudHJpZXModGhpcy50ZXh0dXJlcykuZm9yRWFjaCgoWywgdGV4dHVyZV0pID0+IHRleHR1cmUuZGVzdHJveSgpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHZlcnQgZnJvbSAnLi4vc2hhZGVycy92ZXJ0Lndnc2wnO1xuaW1wb3J0IGZyYWcgZnJvbSAnLi4vc2hhZGVycy9mcmFnLndnc2wnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVQaXBlbGluZShcbiAgZGV2aWNlOiBHUFVEZXZpY2UsXG4gIGZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdCxcbiAgbWF0ZXJpYWw6IGFueSxcbiAgaGFzVVY6IGJvb2xlYW4sXG4gIGhhc1RhbmdlbnQ6IGJvb2xlYW4sXG4gIGluc3RhbmNlQ291bnQ6IG51bWJlcixcbiAgY2FtZXJhQmluZEdyb3VwTGF5b3V0OiBHUFVCaW5kR3JvdXBMYXlvdXRcbikge1xuICBjb25zdCB7IGJhc2VDb2xvclRleHR1cmUsIG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSB9ID1cbiAgICBtYXRlcmlhbC5wYnJNZXRhbGxpY1JvdWdobmVzcztcbiAgY29uc3QgeyBub3JtYWxUZXh0dXJlLCBvY2NsdXNpb25UZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUgfSA9IG1hdGVyaWFsO1xuICBjb25zdCB0ZXh0dXJlcyA9IFtcbiAgICBiYXNlQ29sb3JUZXh0dXJlLFxuICAgIG1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSxcbiAgICBub3JtYWxUZXh0dXJlLFxuICAgIG9jY2x1c2lvblRleHR1cmUsXG4gICAgZW1pc3NpdmVUZXh0dXJlLFxuICBdO1xuXG4gIGZ1bmN0aW9uIGdldFZlcnRleEJ1ZmZlckxheW91dChcbiAgICBzaGFkZXJMb2NhdGlvbjogbnVtYmVyLFxuICAgIG46IG51bWJlclxuICApOiBHUFVWZXJ0ZXhCdWZmZXJMYXlvdXQge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzaGFkZXJMb2NhdGlvbixcbiAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgZm9ybWF0OiBgZmxvYXQzMngke259YCBhcyBHUFVWZXJ0ZXhGb3JtYXQsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgYXJyYXlTdHJpZGU6IDQgKiBuLFxuICAgIH07XG4gIH1cbiAgY29uc3QgdmVydGV4QnVmZmVyTGF5b3V0ID0gW1xuICAgIGdldFZlcnRleEJ1ZmZlckxheW91dCgwLCAzKSxcbiAgICBnZXRWZXJ0ZXhCdWZmZXJMYXlvdXQoMSwgMyksXG4gIF07XG4gIGlmIChoYXNVVikge1xuICAgIHZlcnRleEJ1ZmZlckxheW91dC5wdXNoKGdldFZlcnRleEJ1ZmZlckxheW91dCgyLCAyKSk7XG4gIH1cbiAgaWYgKGhhc1RhbmdlbnQpIHtcbiAgICB2ZXJ0ZXhCdWZmZXJMYXlvdXQucHVzaChnZXRWZXJ0ZXhCdWZmZXJMYXlvdXQoMywgNCkpO1xuICB9XG5cbiAgY29uc3QgYmluZEdyb3VwTGF5b3V0RW50cmllczogW0dQVUJpbmRHcm91cExheW91dEVudHJ5XSA9IFtcbiAgICB7XG4gICAgICBiaW5kaW5nOiAwLFxuICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuVkVSVEVYLFxuICAgICAgYnVmZmVyOiB7fSxcbiAgICB9LFxuICBdO1xuICB0ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlLCBpbmRleCkgPT4ge1xuICAgIGlmICh0ZXh0dXJlKSB7XG4gICAgICBiaW5kR3JvdXBMYXlvdXRFbnRyaWVzLnB1c2goe1xuICAgICAgICBiaW5kaW5nOiAyICogaW5kZXggKyAxLFxuICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcbiAgICAgICAgc2FtcGxlcjoge30sXG4gICAgICB9KTtcbiAgICAgIGJpbmRHcm91cExheW91dEVudHJpZXMucHVzaCh7XG4gICAgICAgIGJpbmRpbmc6IDIgKiBpbmRleCArIDIsXG4gICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxuICAgICAgICB0ZXh0dXJlOiB7fSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRldmljZS5jcmVhdGVSZW5kZXJQaXBlbGluZSh7XG4gICAgbGF5b3V0OiBkZXZpY2UuY3JlYXRlUGlwZWxpbmVMYXlvdXQoe1xuICAgICAgYmluZEdyb3VwTGF5b3V0czogW1xuICAgICAgICBjYW1lcmFCaW5kR3JvdXBMYXlvdXQsXG4gICAgICAgIGRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoe1xuICAgICAgICAgIGVudHJpZXM6IGJpbmRHcm91cExheW91dEVudHJpZXMsXG4gICAgICAgIH0pLFxuICAgICAgXSxcbiAgICB9KSxcbiAgICB2ZXJ0ZXg6IHtcbiAgICAgIG1vZHVsZTogZGV2aWNlLmNyZWF0ZVNoYWRlck1vZHVsZSh7XG4gICAgICAgIGNvZGU6IHZlcnQoaW5zdGFuY2VDb3VudCwgaGFzVVYsIGhhc1RhbmdlbnQpLFxuICAgICAgfSksXG4gICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICBidWZmZXJzOiB2ZXJ0ZXhCdWZmZXJMYXlvdXQsXG4gICAgfSxcbiAgICBmcmFnbWVudDoge1xuICAgICAgbW9kdWxlOiBkZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgICAgY29kZTogZnJhZyhtYXRlcmlhbCwgaGFzVVYsIGhhc1RhbmdlbnQpLFxuICAgICAgfSksXG4gICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICB0YXJnZXRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgYmxlbmQ6IHtcbiAgICAgICAgICAgIGNvbG9yOlxuICAgICAgICAgICAgICBtYXRlcmlhbC5hbHBoYU1vZGUgIT09ICdCTEVORCdcbiAgICAgICAgICAgICAgICA/IHsgb3BlcmF0aW9uOiAnYWRkJywgc3JjRmFjdG9yOiAnb25lJywgZHN0RmFjdG9yOiAnemVybycgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdhZGQnLFxuICAgICAgICAgICAgICAgICAgICBzcmNGYWN0b3I6ICdzcmMtYWxwaGEnLFxuICAgICAgICAgICAgICAgICAgICBkc3RGYWN0b3I6ICdvbmUtbWludXMtc3JjLWFscGhhJyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbHBoYTpcbiAgICAgICAgICAgICAgbWF0ZXJpYWwuYWxwaGFNb2RlICE9PSAnQkxFTkQnXG4gICAgICAgICAgICAgICAgPyB7IG9wZXJhdGlvbjogJ2FkZCcsIHNyY0ZhY3RvcjogJ3plcm8nLCBkc3RGYWN0b3I6ICdvbmUnIH1cbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnYWRkJyxcbiAgICAgICAgICAgICAgICAgICAgc3JjRmFjdG9yOiAnc3JjLWFscGhhJyxcbiAgICAgICAgICAgICAgICAgICAgZHN0RmFjdG9yOiAnb25lLW1pbnVzLXNyYy1hbHBoYScsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgcHJpbWl0aXZlOiB7XG4gICAgICB0b3BvbG9neTogJ3RyaWFuZ2xlLWxpc3QnLFxuICAgICAgY3VsbE1vZGU6IG1hdGVyaWFsLmRvdWJsZVNpZGVkID8gJ25vbmUnIDogJ2JhY2snLFxuICAgIH0sXG4gICAgZGVwdGhTdGVuY2lsOiB7XG4gICAgICBkZXB0aFdyaXRlRW5hYmxlZDogdHJ1ZSxcbiAgICAgIGRlcHRoQ29tcGFyZTogJ2xlc3MnLFxuICAgICAgZm9ybWF0OiAnZGVwdGgyNHBsdXMnLFxuICAgIH0sXG4gIH0pO1xufVxuIiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcbiAqXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHksIHopIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHopIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIGEgdmVjMyBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXTtcbiAgdmFyIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXTtcbiAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XG4gIG91dFsxXSA9IGF6ICogYnggLSBheCAqIGJ6O1xuICBvdXRbMl0gPSBheCAqIGJ5IC0gYXkgKiBieDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGhlcm1pdGUgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBmYWN0b3JUaW1lczIgKiAoMiAqIHQgLSAzKSArIDE7XG4gIHZhciBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XG4gIHZhciBmYWN0b3IzID0gZmFjdG9yVGltZXMyICogKHQgLSAxKTtcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiAoMyAtIDIgKiB0KTtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBiZXppZXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGJlemllcihvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGludmVyc2VGYWN0b3IgPSAxIC0gdDtcbiAgdmFyIGludmVyc2VGYWN0b3JUaW1lc1R3byA9IGludmVyc2VGYWN0b3IgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gaW52ZXJzZUZhY3RvclRpbWVzVHdvICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvcjIgPSAzICogdCAqIGludmVyc2VGYWN0b3JUaW1lc1R3bztcbiAgdmFyIGZhY3RvcjMgPSAzICogZmFjdG9yVGltZXMyICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiB0O1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDtcbiAgdmFyIHIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAqIE1hdGguUEk7XG4gIHZhciB6ID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgLSAxLjA7XG4gIHZhciB6U2NhbGUgPSBNYXRoLnNxcnQoMS4wIC0geiAqIHopICogc2NhbGU7XG4gIG91dFswXSA9IE1hdGguY29zKHIpICogelNjYWxlO1xuICBvdXRbMV0gPSBNYXRoLnNpbihyKSAqIHpTY2FsZTtcbiAgb3V0WzJdID0geiAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgdyA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XTtcbiAgdyA9IHcgfHwgMS4wO1xuICBvdXRbMF0gPSAobVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0pIC8gdztcbiAgb3V0WzFdID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAvIHc7XG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0My5cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHRoZSAzeDMgbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIG91dFswXSA9IHggKiBtWzBdICsgeSAqIG1bM10gKyB6ICogbVs2XTtcbiAgb3V0WzFdID0geCAqIG1bMV0gKyB5ICogbVs0XSArIHogKiBtWzddO1xuICBvdXRbMl0gPSB4ICogbVsyXSArIHkgKiBtWzVdICsgeiAqIG1bOF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcbiAqIENhbiBhbHNvIGJlIHVzZWQgZm9yIGR1YWwgcXVhdGVybmlvbnMuIChNdWx0aXBseSBpdCB3aXRoIHRoZSByZWFsIHBhcnQpXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIC8vIGJlbmNobWFya3M6IGh0dHBzOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXRyYW5zZm9ybS12ZWMzLWltcGxlbWVudGF0aW9ucy1maXhlZFxuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdO1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdOyAvLyB2YXIgcXZlYyA9IFtxeCwgcXksIHF6XTtcbiAgLy8gdmFyIHV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgYSk7XG5cbiAgdmFyIHV2eCA9IHF5ICogeiAtIHF6ICogeSxcbiAgICAgIHV2eSA9IHF6ICogeCAtIHF4ICogeixcbiAgICAgIHV2eiA9IHF4ICogeSAtIHF5ICogeDsgLy8gdmFyIHV1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIHV2KTtcblxuICB2YXIgdXV2eCA9IHF5ICogdXZ6IC0gcXogKiB1dnksXG4gICAgICB1dXZ5ID0gcXogKiB1dnggLSBxeCAqIHV2eixcbiAgICAgIHV1dnogPSBxeCAqIHV2eSAtIHF5ICogdXZ4OyAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xuXG4gIHZhciB3MiA9IHF3ICogMjtcbiAgdXZ4ICo9IHcyO1xuICB1dnkgKj0gdzI7XG4gIHV2eiAqPSB3MjsgLy8gdmVjMy5zY2FsZSh1dXYsIHV1diwgMik7XG5cbiAgdXV2eCAqPSAyO1xuICB1dXZ5ICo9IDI7XG4gIHV1dnogKj0gMjsgLy8gcmV0dXJuIHZlYzMuYWRkKG91dCwgYSwgdmVjMy5hZGQob3V0LCB1diwgdXV2KSk7XG5cbiAgb3V0WzBdID0geCArIHV2eCArIHV1dng7XG4gIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xuICBvdXRbMl0gPSB6ICsgdXZ6ICsgdXV2ejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeC1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF07XG4gIHJbMV0gPSBwWzFdICogTWF0aC5jb3MocmFkKSAtIHBbMl0gKiBNYXRoLnNpbihyYWQpO1xuICByWzJdID0gcFsxXSAqIE1hdGguc2luKHJhZCkgKyBwWzJdICogTWF0aC5jb3MocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB6LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXSAqIE1hdGguY29zKHJhZCkgLSBwWzFdICogTWF0aC5zaW4ocmFkKTtcbiAgclsxXSA9IHBbMF0gKiBNYXRoLnNpbihyYWQpICsgcFsxXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMl0gPSBwWzJdOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHR3byAzRCB2ZWN0b3JzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXG4gICAgICBtYWcyID0gTWF0aC5zcXJ0KGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiksXG4gICAgICBtYWcgPSBtYWcxICogbWFnMixcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB6ZXJvXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcbiAgb3V0WzBdID0gMC4wO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGl2aWRlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXYgPSBkaXZpZGU7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGlzdCA9IGRpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZERpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJEaXN0ID0gc3F1YXJlZERpc3RhbmNlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMubGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBsZW4gPSBsZW5ndGg7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkTGVuZ3RofVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzcXJMZW4gPSBzcXVhcmVkTGVuZ3RoO1xuLyoqXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjM3MuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjMy4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzNzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0IHsgdmVjMywgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCc7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBjZW50ZXIgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgdXAgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XG4gIHByb3RlY3RlZCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gIHByb3RlY3RlZCByYWRpdXMgPSAzO1xuXG4gIHByb3RlY3RlZCB0aGV0YSA9IDA7XG5cbiAgcHJvdGVjdGVkIHBoaSA9IDA7XG5cbiAgcHJvdGVjdGVkIHByb2ogPSBtYXQ0LmNyZWF0ZSgpO1xuXG4gIHByb3RlY3RlZCB2aWV3ID0gbWF0NC5jcmVhdGUoKTtcblxuICBleWUgPSB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgMyk7XG5cbiAgcHJvalZpZXcgPSBtYXQ0LmNyZWF0ZSgpO1xuXG4gIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICBjb25zdCBhc3BlY3QgPSBjYW52YXMuY2xpZW50V2lkdGggLyBjYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgIG1hdDQucGVyc3BlY3RpdmUodGhpcy5wcm9qLCBNYXRoLlBJIC8gMywgYXNwZWN0LCAwLjAxLCBJbmZpbml0eSk7XG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2pbMF0gPVxuICAgICAgICAxIC9cbiAgICAgICAgKE1hdGgudGFuKE1hdGguUEkgLyA2KSAqIChjYW52YXMuY2xpZW50V2lkdGggLyBjYW52YXMuY2xpZW50SGVpZ2h0KSk7XG4gICAgICBtYXQ0Lm11bCh0aGlzLnByb2pWaWV3LCB0aGlzLnByb2osIHRoaXMudmlldyk7XG4gICAgfSk7XG5cbiAgICBsZXQgbW91c2VQcmVzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5jYW52YXMub25tb3VzZWRvd24gPSAoKSA9PiB7XG4gICAgICBtb3VzZVByZXNzZWQgPSB0cnVlO1xuICAgIH07XG4gICAgdGhpcy5jYW52YXMub25tb3VzZXVwID0gKCkgPT4ge1xuICAgICAgbW91c2VQcmVzc2VkID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmNhbnZhcy5vbm1vdXNlbW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKG1vdXNlUHJlc3NlZCkge1xuICAgICAgICB0aGlzLnRoZXRhIC09IChldmVudC5tb3ZlbWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiBNYXRoLlBJICogMjtcbiAgICAgICAgdGhpcy5waGkgPSBjbGFtcChcbiAgICAgICAgICB0aGlzLnBoaSAtIChldmVudC5tb3ZlbWVudFkgLyB3aW5kb3cuaW5uZXJIZWlnaHQpICogTWF0aC5QSSxcbiAgICAgICAgICAtTWF0aC5QSSAvIDIgKyAwLjEsXG4gICAgICAgICAgTWF0aC5QSSAvIDIgLSAwLjFcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jYW52YXMub253aGVlbCA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5yYWRpdXMgPSBjbGFtcCh0aGlzLnJhZGl1cyArIGV2ZW50LmRlbHRhWSAqIDAuMDAyLCAwLjAxLCBJbmZpbml0eSk7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgdXBkYXRlKCkge1xuICAgIHRoaXMuZXllID0gdmVjMy5mcm9tVmFsdWVzKDAsIDAsIHRoaXMucmFkaXVzKTtcbiAgICB2ZWMzLnJvdGF0ZVgodGhpcy5leWUsIHRoaXMuZXllLCBjZW50ZXIsIHRoaXMucGhpKTtcbiAgICB2ZWMzLnJvdGF0ZVkodGhpcy5leWUsIHRoaXMuZXllLCBjZW50ZXIsIHRoaXMudGhldGEpO1xuICAgIG1hdDQubG9va0F0KHRoaXMudmlldywgdGhpcy5leWUsIGNlbnRlciwgdXApO1xuICAgIG1hdDQubXVsKHRoaXMucHJvalZpZXcsIHRoaXMucHJvaiwgdGhpcy52aWV3KTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmFkaXVzID0gMztcbiAgICB0aGlzLnRoZXRhID0gMDtcbiAgICB0aGlzLnBoaSA9IDA7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR0xURiwgbG9hZEdMVEYgfSBmcm9tICcuLi9sb2FkZXIvZ2x0Zic7XG5pbXBvcnQgU2NlbmUgZnJvbSAnLi9zY2VuZSc7XG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vY2FtZXJhJztcblxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyIHtcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICBkZXZpY2U6IEdQVURldmljZTtcblxuICBjb250ZXh0OiBHUFVDYW52YXNDb250ZXh0O1xuXG4gIGNvbnRleHRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQ7XG5cbiAgcmVuZGVyUGFzc0Rlc2M6IEdQVVJlbmRlclBhc3NEZXNjcmlwdG9yO1xuXG4gIGdsdGY/OiBHTFRGO1xuXG4gIHNjZW5lPzogU2NlbmU7XG5cbiAgY2FtZXJhOiBDYW1lcmE7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcbiAgICBkZXZpY2U6IEdQVURldmljZSxcbiAgICBjb250ZXh0OiBHUFVDYW52YXNDb250ZXh0LFxuICAgIGNvbnRleHRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXRcbiAgKSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5kZXZpY2UgPSBkZXZpY2U7XG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLmNvbnRleHRGb3JtYXQgPSBjb250ZXh0Rm9ybWF0O1xuXG4gICAgbGV0IGRlcHRoVGV4dHVyZSA9IGRldmljZS5jcmVhdGVUZXh0dXJlKHtcbiAgICAgIHNpemU6IFtcbiAgICAgICAgY2FudmFzLmNsaWVudFdpZHRoICogZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgY2FudmFzLmNsaWVudEhlaWdodCAqIGRldmljZVBpeGVsUmF0aW8sXG4gICAgICBdLFxuICAgICAgZm9ybWF0OiAnZGVwdGgyNHBsdXMnLFxuICAgICAgdXNhZ2U6IEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVCxcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlclBhc3NEZXNjID0ge1xuICAgICAgY29sb3JBdHRhY2htZW50czogW10sXG4gICAgICBkZXB0aFN0ZW5jaWxBdHRhY2htZW50OiB7XG4gICAgICAgIHZpZXc6IGRlcHRoVGV4dHVyZS5jcmVhdGVWaWV3KCksXG4gICAgICAgIGRlcHRoTG9hZFZhbHVlOiAxLjAsXG4gICAgICAgIGRlcHRoU3RvcmVPcDogJ3N0b3JlJyxcbiAgICAgICAgc3RlbmNpbExvYWRWYWx1ZTogMCxcbiAgICAgICAgc3RlbmNpbFN0b3JlT3A6ICdzdG9yZScsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2l6ZSA9IFtcbiAgICAgICAgY2FudmFzLmNsaWVudFdpZHRoICogZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgY2FudmFzLmNsaWVudEhlaWdodCAqIGRldmljZVBpeGVsUmF0aW8sXG4gICAgICBdO1xuICAgICAgY29udGV4dC5jb25maWd1cmUoeyBkZXZpY2UsIGZvcm1hdDogY29udGV4dEZvcm1hdCwgc2l6ZSB9KTtcbiAgICAgIGRlcHRoVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICBkZXB0aFRleHR1cmUgPSBkZXZpY2UuY3JlYXRlVGV4dHVyZSh7XG4gICAgICAgIHNpemUsXG4gICAgICAgIGZvcm1hdDogJ2RlcHRoMjRwbHVzJyxcbiAgICAgICAgdXNhZ2U6IEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZW5kZXJQYXNzRGVzYy5kZXB0aFN0ZW5jaWxBdHRhY2htZW50IS52aWV3ID1cbiAgICAgICAgZGVwdGhUZXh0dXJlLmNyZWF0ZVZpZXcoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYShjYW52YXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBjb25zdCBmcmFtZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbW1hbmRFbmNvZGVyID0gdGhpcy5kZXZpY2UuY3JlYXRlQ29tbWFuZEVuY29kZXIoKTtcbiAgICAgIHRoaXMucmVuZGVyUGFzc0Rlc2MuY29sb3JBdHRhY2htZW50cyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHZpZXc6IHRoaXMuY29udGV4dC5nZXRDdXJyZW50VGV4dHVyZSgpLmNyZWF0ZVZpZXcoKSxcbiAgICAgICAgICBsb2FkVmFsdWU6IHsgcjogMC4zLCBnOiAwLjUsIGI6IDAuNywgYTogMSB9LFxuICAgICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgICAgY29uc3QgcGFzc0VuY29kZXIgPSBjb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5yZW5kZXJQYXNzRGVzYyk7XG5cbiAgICAgIGNvbnN0IHByb2pWaWV3ID0gdGhpcy5jYW1lcmEucHJvalZpZXcgYXMgRmxvYXQzMkFycmF5O1xuICAgICAgdGhpcy5kZXZpY2UucXVldWUud3JpdGVCdWZmZXIoXG4gICAgICAgIHRoaXMuc2NlbmUhLmNhbWVyYS5wcm9qVmlld0J1ZmZlcixcbiAgICAgICAgMCxcbiAgICAgICAgcHJvalZpZXcuYnVmZmVyLFxuICAgICAgICBwcm9qVmlldy5ieXRlT2Zmc2V0LFxuICAgICAgICBwcm9qVmlldy5ieXRlTGVuZ3RoXG4gICAgICApO1xuICAgICAgY29uc3QgZXllID0gdGhpcy5jYW1lcmEuZXllIGFzIEZsb2F0MzJBcnJheTtcbiAgICAgIHRoaXMuZGV2aWNlLnF1ZXVlLndyaXRlQnVmZmVyKFxuICAgICAgICB0aGlzLnNjZW5lIS5jYW1lcmEuZXllQnVmZmVyLFxuICAgICAgICAwLFxuICAgICAgICBleWUuYnVmZmVyLFxuICAgICAgICBleWUuYnl0ZU9mZnNldCxcbiAgICAgICAgZXllLmJ5dGVMZW5ndGhcbiAgICAgICk7XG4gICAgICBwYXNzRW5jb2Rlci5zZXRCaW5kR3JvdXAoMCwgdGhpcy5zY2VuZSEuY2FtZXJhLmJpbmRHcm91cCk7XG5cbiAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuc2NlbmUhLm1lc2hlcykuZm9yRWFjaCgoWywgbWVzaF0pID0+IHtcbiAgICAgICAgbWVzaC5wcmltaXRpdmVzLmZvckVhY2goKHByaW1pdGl2ZSkgPT4ge1xuICAgICAgICAgIGlmICghcHJpbWl0aXZlLmlzVHJhbnNwYXJlbnQpIHtcbiAgICAgICAgICAgIHByaW1pdGl2ZS5kcmF3KHBhc3NFbmNvZGVyLCBtZXNoLm1hdHJpY2VzLmxlbmd0aCAvIDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuc2NlbmUhLm1lc2hlcykuZm9yRWFjaCgoWywgbWVzaF0pID0+IHtcbiAgICAgICAgbWVzaC5wcmltaXRpdmVzLmZvckVhY2goKHByaW1pdGl2ZSkgPT4ge1xuICAgICAgICAgIGlmIChwcmltaXRpdmUuaXNUcmFuc3BhcmVudCkge1xuICAgICAgICAgICAgcHJpbWl0aXZlLmRyYXcocGFzc0VuY29kZXIsIG1lc2gubWF0cmljZXMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBwYXNzRW5jb2Rlci5lbmRQYXNzKCk7XG4gICAgICB0aGlzLmRldmljZS5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRFbmNvZGVyLmZpbmlzaCgpXSk7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpO1xuICAgIH07XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWQodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmdsdGYgPSBhd2FpdCBsb2FkR0xURih1cmwpO1xuICAgIHRoaXMuc2NlbmU/LmRlc3Ryb3koKTtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFNjZW5lKFxuICAgICAgdGhpcy5nbHRmLFxuICAgICAgdGhpcy5nbHRmLnNjZW5lLFxuICAgICAgdGhpcy5kZXZpY2UsXG4gICAgICB0aGlzLmNvbnRleHRGb3JtYXRcbiAgICApO1xuICAgIHRoaXMuY2FtZXJhLnJlc2V0KCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICBjb25zdCBlbnRyeSA9IG5hdmlnYXRvci5ncHU7XG4gIGlmICghZW50cnkpIHRocm93IG5ldyBFcnJvcignV2ViR1BVIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLicpO1xuICBjb25zdCBhZGFwdGVyID0gYXdhaXQgZW50cnkucmVxdWVzdEFkYXB0ZXIoKTtcbiAgY29uc3QgZGV2aWNlID0gYXdhaXQgYWRhcHRlciEucmVxdWVzdERldmljZSgpO1xuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdwdScpO1xuICBjb25zdCBmb3JtYXQgPSBjb250ZXh0IS5nZXRQcmVmZXJyZWRGb3JtYXQoYWRhcHRlciEpO1xuICBjb250ZXh0IS5jb25maWd1cmUoe1xuICAgIGRldmljZSxcbiAgICBmb3JtYXQsXG4gICAgc2l6ZTogW1xuICAgICAgY2FudmFzLmNsaWVudFdpZHRoICogZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgIGNhbnZhcy5jbGllbnRIZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvLFxuICAgIF0sXG4gIH0pO1xuICByZXR1cm4gbmV3IFJlbmRlcmVyKGNhbnZhcywgZGV2aWNlLCBjb250ZXh0ISwgZm9ybWF0KTtcbn1cbiIsImltcG9ydCB7IFJlbmRlcmVyLCBjcmVhdGVSZW5kZXJlciB9IGZyb20gJy4vcmVuZGVyZXIvcmVuZGVyZXInO1xuXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2ViZ3B1LWNhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGVsLXNlbGVjdCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xubGV0IHJlbmRlcmVyOiBSZW5kZXJlcjtcbnNlbGVjdC5vbmNoYW5nZSA9ICgpID0+IHJlbmRlcmVyLmxvYWQoc2VsZWN0LnZhbHVlKTtcbmZldGNoKFxuICAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0tocm9ub3NHcm91cC9nbFRGLVNhbXBsZS1Nb2RlbHMvbWFzdGVyLzIuMC9tb2RlbC1pbmRleC5qc29uJ1xuKVxuICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgLnRoZW4oKG1vZGVsSW5kZXgpID0+IHtcbiAgICBtb2RlbEluZGV4LmZvckVhY2goYXN5bmMgKG1vZGVsOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3B0aW9uLmlubmVySFRNTCA9IG1vZGVsLm5hbWU7XG4gICAgICBvcHRpb24udmFsdWUgPSBgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0tocm9ub3NHcm91cC9nbFRGLVNhbXBsZS1Nb2RlbHMvbWFzdGVyLzIuMC8ke21vZGVsLm5hbWV9L2dsVEYvJHttb2RlbC5uYW1lfS5nbHRmYDtcbiAgICAgIHNlbGVjdC5hZGQob3B0aW9uKTtcbiAgICAgIGlmIChtb2RlbC5uYW1lID09PSAnRGFtYWdlZEhlbG1ldCcpIHtcbiAgICAgICAgc2VsZWN0LnZhbHVlID0gb3B0aW9uLnZhbHVlO1xuICAgICAgICByZW5kZXJlciA9IGF3YWl0IGNyZWF0ZVJlbmRlcmVyKGNhbnZhcyk7XG4gICAgICAgIHJlbmRlcmVyLmxvYWQoc2VsZWN0LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4iXSwibmFtZXMiOlsiY2xhbXAiLCJudW0iLCJtaW4iLCJtYXgiLCJNYXRoIiwidG9GbG9hdCIsImRlZmF1bHRWYWx1ZSIsIm4iLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJjcmVhdGVHUFVCdWZmZXIiLCJhcnJheSIsInVzYWdlIiwiZGV2aWNlIiwiYnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwic2l6ZSIsImJ5dGVMZW5ndGgiLCJtYXBwZWRBdENyZWF0aW9uIiwid3JpdGVBcmFyeSIsIkludDhBcnJheSIsImdldE1hcHBlZFJhbmdlIiwiVWludDhBcnJheSIsIkludDE2QXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQzMkFycmF5IiwiRmxvYXQzMkFycmF5Iiwic2V0IiwidW5tYXAiLCJHTFRGUHJpbWl0aXZlIiwiY29uc3RydWN0b3IiLCJqc29uIiwicHJpbWl0aXZlIiwiZ2V0QXJyYXkiLCJpZHgiLCJhY2Nlc3NvciIsImFjY2Vzc29ycyIsImJ1ZmZlclZpZXciLCJidWZmZXJWaWV3cyIsIm9mZnNldCIsImJ5dGVPZmZzZXQiLCJzdHJpZGUiLCJieXRlU3RyaWRlIiwidHlwZSIsImxlbmd0aCIsIkVycm9yIiwibmV3VHlwZWRBcnJheSIsImNvbXBvbmVudFR5cGUiLCJjb3VudCIsInN0cmlkZWQiLCJUeXBlZEFycmF5Q29uc3RydWN0b3IiLCJpIiwiaiIsImsiLCJ0aGlzIiwibWF0ZXJpYWwiLCJtYXRlcmlhbHMiLCJpbmRleENvdW50IiwiaW5kaWNlcyIsInRvQXJyYXkiLCJmb3JFYWNoIiwiZWxlbWVudCIsImluZGV4IiwidG9JbmRleEFycmF5IiwicG9zaXRpb25zIiwiYXR0cmlidXRlcyIsIlBPU0lUSU9OIiwibm9ybWFscyIsIk5PUk1BTCIsIlRFWENPT1JEXzAiLCJ1dnMiLCJUQU5HRU5UIiwidGFuZ2VudHMiLCJHTFRGIiwibWVzaGVzIiwiaW1hZ2VzIiwic2NlbmVzIiwic2NlbmUiLCJub2RlcyIsImNhbWVyYXMiLCJFUFNJTE9OIiwiQVJSQVlfVFlQRSIsIkFycmF5IiwiY3JlYXRlIiwib3V0IiwibXVsdGlwbHkiLCJhIiwiYiIsImEwMCIsImEwMSIsImEwMiIsImEwMyIsImExMCIsImExMSIsImExMiIsImExMyIsImEyMCIsImEyMSIsImEyMiIsImEyMyIsImEzMCIsImEzMSIsImEzMiIsImEzMyIsImIwIiwiYjEiLCJiMiIsImIzIiwicmFuZG9tIiwiUEkiLCJoeXBvdCIsInkiLCJhcmd1bWVudHMiLCJzcXJ0IiwibXVsIiwidmVydCIsImluc3RhbmNlQ291bnQiLCJoYXNVViIsImhhc1RhbmdlbnQiLCJmcmFnIiwiYmFzZUNvbG9yVGV4dHVyZSIsIm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSIsIm1ldGFsbGljRmFjdG9yIiwicm91Z2huZXNzRmFjdG9yIiwicGJyTWV0YWxsaWNSb3VnaG5lc3MiLCJiYXNlQ29sb3JGYWN0b3IiLCJub3JtYWxUZXh0dXJlIiwib2NjbHVzaW9uVGV4dHVyZSIsImVtaXNzaXZlVGV4dHVyZSIsImVtaXNzaXZlRmFjdG9yIiwiYWxwaGFDdXRvZmYiLCJhbHBoYU1vZGUiLCJkb3VibGVTaWRlZCIsIlByaW1pdGl2ZSIsImlzVHJhbnNwYXJlbnQiLCJpbmRleEZvcm1hdCIsIkdQVUJ1ZmZlclVzYWdlIiwiVkVSVEVYIiwiSU5ERVgiLCJkcmF3IiwicGFzc0VuY29kZXIiLCJzZXRQaXBlbGluZSIsInBpcGVsaW5lIiwic2V0VmVydGV4QnVmZmVyIiwic2V0SW5kZXhCdWZmZXIiLCJzZXRCaW5kR3JvdXAiLCJ1bmlmb3JtQmluZEdyb3VwIiwiZHJhd0luZGV4ZWQiLCJTY2VuZSIsImdsdGYiLCJzY2VuZUluZGV4IiwiY29udGV4dEZvcm1hdCIsInRleHR1cmVzIiwiY2FtZXJhQmluZEdyb3VwTGF5b3V0IiwiY3JlYXRlQmluZEdyb3VwTGF5b3V0IiwiZW50cmllcyIsImJpbmRpbmciLCJ2aXNpYmlsaXR5IiwiR1BVU2hhZGVyU3RhZ2UiLCJGUkFHTUVOVCIsInByb2pWaWV3QnVmZmVyIiwiVU5JRk9STSIsIkNPUFlfRFNUIiwiZXllQnVmZmVyIiwiY2FtZXJhIiwiYmluZEdyb3VwIiwiY3JlYXRlQmluZEdyb3VwIiwibGF5b3V0IiwicmVzb3VyY2UiLCJjcmVhdGVSZXNvdXJjZSIsIm5vZGUiLCJwYXJlbnRNYXRyaXgiLCJtYXRyaXgiLCJ0cmFuc2xhdGlvbiIsInYiLCJ4IiwieiIsInJvdGF0aW9uIiwicSIsInciLCJ4MiIsInkyIiwiejIiLCJ4eCIsInl4IiwieXkiLCJ6eCIsInp5IiwienoiLCJ3eCIsInd5Iiwid3oiLCJzY2FsZSIsIm1lc2giLCJtb2RlbEludlRyIiwiYjAwIiwiYjAxIiwiYjAyIiwiYjAzIiwiYjA0IiwiYjA1IiwiYjA2IiwiYjA3IiwiYjA4IiwiYjA5IiwiYjEwIiwiYjExIiwiZGV0IiwibWF0cmljZXMiLCJwdXNoIiwibWF0cml4QnVmZmVyIiwicHJpbWl0aXZlcyIsIm1hcCIsImNoaWxkcmVuIiwiY2hpbGRJbmRleCIsIm5vZGVJbmRleCIsIk9iamVjdCIsIm1lc2hJbmRleCIsImFycmF5cyIsImpvaW5lZCIsImpvaW5BcnJheSIsInByaW1JbmRleCIsInRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwid2lkdGgiLCJoZWlnaHQiLCJmb3JtYXQiLCJHUFVUZXh0dXJlVXNhZ2UiLCJURVhUVVJFX0JJTkRJTkciLCJSRU5ERVJfQVRUQUNITUVOVCIsInF1ZXVlIiwiY29weUV4dGVybmFsSW1hZ2VUb1RleHR1cmUiLCJzb3VyY2UiLCJnZXRWZXJ0ZXhCdWZmZXJMYXlvdXQiLCJzaGFkZXJMb2NhdGlvbiIsImFycmF5U3RyaWRlIiwidmVydGV4QnVmZmVyTGF5b3V0IiwiYmluZEdyb3VwTGF5b3V0RW50cmllcyIsInNhbXBsZXIiLCJjcmVhdGVSZW5kZXJQaXBlbGluZSIsImNyZWF0ZVBpcGVsaW5lTGF5b3V0IiwiYmluZEdyb3VwTGF5b3V0cyIsInZlcnRleCIsIm1vZHVsZSIsImNyZWF0ZVNoYWRlck1vZHVsZSIsImNvZGUiLCJlbnRyeVBvaW50IiwiYnVmZmVycyIsImZyYWdtZW50IiwidGFyZ2V0cyIsImJsZW5kIiwiY29sb3IiLCJvcGVyYXRpb24iLCJzcmNGYWN0b3IiLCJkc3RGYWN0b3IiLCJhbHBoYSIsInRvcG9sb2d5IiwiY3VsbE1vZGUiLCJkZXB0aFN0ZW5jaWwiLCJkZXB0aFdyaXRlRW5hYmxlZCIsImRlcHRoQ29tcGFyZSIsImNyZWF0ZVBpcGVsaW5lIiwiYmluZEdyb3VwRW50cmllcyIsImNyZWF0ZVNhbXBsZXIiLCJhZGRyZXNzTW9kZVUiLCJhZGRyZXNzTW9kZVYiLCJtYWdGaWx0ZXIiLCJtaW5GaWx0ZXIiLCJjcmVhdGVWaWV3IiwiZ2V0QmluZEdyb3VwTGF5b3V0IiwiZGVzdHJveSIsImNlbnRlciIsInVwIiwiQ2FtZXJhIiwiY2FudmFzIiwicmFkaXVzIiwidGhldGEiLCJwaGkiLCJwcm9qIiwidmlldyIsImV5ZSIsInByb2pWaWV3IiwiYXNwZWN0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJmb3Z5IiwibmVhciIsImZhciIsIm5mIiwiZiIsInRhbiIsIkluZmluaXR5IiwidXBkYXRlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1vdXNlUHJlc3NlZCIsIm9ubW91c2Vkb3duIiwib25tb3VzZXVwIiwib25tb3VzZW1vdmUiLCJldmVudCIsIm1vdmVtZW50WCIsImlubmVyV2lkdGgiLCJtb3ZlbWVudFkiLCJpbm5lckhlaWdodCIsIm9ud2hlZWwiLCJkZWx0YVkiLCJyYWQiLCJwIiwiciIsImNvcyIsInNpbiIsIngwIiwieDEiLCJ5MCIsInkxIiwiejAiLCJ6MSIsImxlbiIsImV5ZXgiLCJleWV5IiwiZXlleiIsInVweCIsInVweSIsInVweiIsImNlbnRlcngiLCJjZW50ZXJ5IiwiY2VudGVyeiIsImFicyIsImlkZW50aXR5IiwicmVzZXQiLCJSZW5kZXJlciIsImNvbnRleHQiLCJkZXB0aFRleHR1cmUiLCJkZXZpY2VQaXhlbFJhdGlvIiwicmVuZGVyUGFzc0Rlc2MiLCJjb2xvckF0dGFjaG1lbnRzIiwiZGVwdGhTdGVuY2lsQXR0YWNobWVudCIsImRlcHRoTG9hZFZhbHVlIiwiZGVwdGhTdG9yZU9wIiwic3RlbmNpbExvYWRWYWx1ZSIsInN0ZW5jaWxTdG9yZU9wIiwiY29uZmlndXJlIiwicmVuZGVyIiwiZnJhbWUiLCJjb21tYW5kRW5jb2RlciIsImNyZWF0ZUNvbW1hbmRFbmNvZGVyIiwiZ2V0Q3VycmVudFRleHR1cmUiLCJsb2FkVmFsdWUiLCJnIiwic3RvcmVPcCIsImJlZ2luUmVuZGVyUGFzcyIsIndyaXRlQnVmZmVyIiwiZW5kUGFzcyIsInN1Ym1pdCIsImZpbmlzaCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImxvYWQiLCJ1cmwiLCJkaXIiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsIlByb21pc2UiLCJyZXNvbHZlIiwieG9iaiIsIlhNTEh0dHBSZXF1ZXN0Iiwib3ZlcnJpZGVNaW1lVHlwZSIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsImxvYWRKc29uIiwibWVzaGVzTG9hZGVkIiwiYWxsIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2UiLCJsb2FkQnVmZmVyIiwidXJpIiwidGhlbiIsImxvYWRNZXNoZXMiLCJpbWFnZXNMb2FkZWQiLCJpbWFnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJzcmMiLCJkZWNvZGUiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImxvYWRJbWFnZSIsImJpdE1hcCIsImxvYWRHTFRGIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlcmVyIiwib25jaGFuZ2UiLCJ2YWx1ZSIsImZldGNoIiwibW9kZWxJbmRleCIsIm1vZGVsIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsIm5hbWUiLCJhZGQiLCJlbnRyeSIsIm5hdmlnYXRvciIsImdwdSIsImFkYXB0ZXIiLCJyZXF1ZXN0QWRhcHRlciIsInJlcXVlc3REZXZpY2UiLCJnZXRDb250ZXh0IiwiZ2V0UHJlZmVycmVkRm9ybWF0IiwiY3JlYXRlUmVuZGVyZXIiXSwic291cmNlUm9vdCI6IiJ9